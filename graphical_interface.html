

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Graphical interface &mdash; abipy 0.9.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="_static/thebelab.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="_static/my_style.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
    <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script> 
    
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="AbiPy Gallery" href="gallery/index.html" />
    <link rel="prev" title="abirun.py" href="scripts/abirun.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> abipy
          

          
          </a>

          
            
            
              <div class="version">
                0.9.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="features.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Getting AbiPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="zzbiblio.html">Bibliography</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="scripts/index.html">Scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Graphical interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gallery/index.html">AbiPy Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_howto.html">Post-processing How-To</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflows/taskmanager.html">TaskManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows/manager_examples.html">Manager Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="flow_gallery/index.html">Flow Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="flows_howto.html">Flows How-To</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_guide.html">Coding guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Documenting AbiPy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">abipy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Graphical interface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/graphical_interface.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="graphical-interface">
<span id="id1"></span><h1>Graphical interface<a class="headerlink" href="#graphical-interface" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>AbiPy provides interactive dashboards that can be used either as a standalone web applications
(<strong>dashboards</strong>) with the <a class="reference external" href="http://docs.bokeh.org/">bokeh server</a> or inside jupyter notebooks.
This document explains how to install the required dependencies and how to
generate dashboards/GUIs either with the command line interface (CLI) or inside jupyter notebooks.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Please note that one needs a <strong>running python backend</strong>
to execute the callbacks triggerered by the GUI widgets.
This part, indeed, is implemented in HTML/CSS/JS code executed
by the frontend (i.e. <strong>your browser</strong>) that sends the signal
to the python server (the <strong>backend</strong>).
The python server is supposed to process the data
and send the results back to the frontend for visualization purposes</p>
<p>Don’t be surprised if you start to click buttons and <strong>nothing happens</strong>!
The examples provided in this page are only meant to show how to build GUI
or dashboards with AbiPy.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Install the <a class="reference external" href="https://panel.pyviz.org/">panel</a>  package either from pip with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install panel
</pre></div>
</div>
<p>or with conda (<strong>recommended</strong>) using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install panel -c conda-forge
</pre></div>
</div>
<p>If you plan to use panel within JupyterLab, you will also need to install
the PyViz JupyterLab extension and activate it with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install -c conda-forge jupyterlab
jupyter labextension install @pyviz/jupyterlab_pyviz
</pre></div>
</div>
</div>
<div class="section" id="basic-usage">
<h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>Several AbiPy objects provide a <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> method returning
an object that can be displayed inside the jupyter notebook or inside the browser.
When running inside a jupyter notebook, remember enable the integration
with the <code class="docutils literal notranslate"><span class="pre">panel</span></code> infrastructure by executing:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abipy</span> <span class="kn">import</span> <span class="n">abilab</span>
<span class="n">abilab</span><span class="o">.</span><span class="n">abipanel</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">
(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, js_modules, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];
    if (js_modules == null) js_modules = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls.length === 0 && js_modules.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length + js_modules.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error() {
      console.error("failed to load " + url);
    }

    for (var i = 0; i < css_urls.length; i++) {
      var url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error;
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    var skip = [];
    if (window.requirejs) {
      window.requirejs.config({'paths': {'tabulator': 'https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator'}});
      window.requirejs.config({'paths': {'plotly': 'https://cdn.plot.ly/plotly-latest.min'}});
      window.requirejs.config({'paths': {'mathjax': '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML'}, 'shim': {'mathjax': {'exports': 'MathJax'}}});
      require(["tabulator", "plotly"], function(Tabulator,Plotly,) {
        window.Tabulator = Tabulator;
        window.Plotly = Plotly;
      })
    }
    if (((window['tabulator'] !== undefined) && (!(window['tabulator'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.js', 'https://unpkg.com/moment@2.27.0/moment.js'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }
    if (((window['Plotly'] !== undefined) && (!(window['Plotly'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://cdn.plot.ly/plotly-latest.min.js'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }
    if (((window['MathJax'] !== undefined) && (!(window['MathJax'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }
    for (var i = 0; i < js_urls.length; i++) {
      var url = js_urls[i];
      if (skip.indexOf(url) >= 0) { on_load(); continue; }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    for (var i = 0; i < js_modules.length; i++) {
      var url = js_modules[i];
      if (skip.indexOf(url) >= 0) { on_load(); continue; }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      element.type = "module";
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    if (!js_urls.length && !js_modules.length) {
      on_load()
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  var js_urls = ["https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML", "https://code.jquery.com/jquery-3.4.1.min.js", "https://cdn.plot.ly/plotly-latest.min.js", "https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.js", "https://unpkg.com/moment@2.27.0/moment.js", "https://cdn.bokeh.org/bokeh/release/bokeh-2.3.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.1.min.js", "https://unpkg.com/@holoviz/panel@^0.11.3/dist/panel.min.js"];
  var js_modules = [];
  var css_urls = ["https://unpkg.com/tabulator-tables@4.9.3/dist/css/tabulator_simple.min.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/alerts.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/card.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/widgets.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/markdown.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/json.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/loading.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/dataframe.css"];
  var inline_js = [
    function(Bokeh) {
      inject_raw_css("\n    .bk.pn-loading.arcs:before {\n      background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4gIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjMyIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZT0iI2MzYzNjMyIgc3Ryb2tlLWRhc2hhcnJheT0iNTAuMjY1NDgyNDU3NDM2NjkgNTAuMjY1NDgyNDU3NDM2NjkiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+ICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCI+PC9hbmltYXRlVHJhbnNmb3JtPiAgPC9jaXJjbGU+PC9zdmc+\")\n    }\n    ");
    },
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    function(Bokeh) {} // ensure no trailing comma for IE
  ];

  function run_inline_js() {
    if ((root.Bokeh !== undefined) || (force === true)) {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i].call(root, root.Bokeh);
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, js_modules, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script><script type="application/javascript">
if ((window.PyViz === undefined) || (window.PyViz instanceof HTMLElement)) {
  window.PyViz = {comms: {}, comm_status:{}, kernels:{}, receivers: {}, plot_index: []}
}


    function JupyterCommManager() {
    }

    JupyterCommManager.prototype.register_target = function(plot_id, comm_id, msg_handler) {
      if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        comm_manager.register_target(comm_id, function(comm) {
          comm.on_msg(msg_handler);
        });
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        window.PyViz.kernels[plot_id].registerCommTarget(comm_id, function(comm) {
          comm.onMsg = msg_handler;
        });
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        google.colab.kernel.comms.registerTarget(comm_id, (comm) => {
          var messages = comm.messages[Symbol.asyncIterator]();
          function processIteratorResult(result) {
            var message = result.value;
            console.log(message)
            var content = {data: message.data, comm_id};
            var buffers = []
            for (var buffer of message.buffers || []) {
              buffers.push(new DataView(buffer))
            }
            var metadata = message.metadata || {};
            var msg = {content, buffers, metadata}
            msg_handler(msg);
            return messages.next().then(processIteratorResult);
          }
          return messages.next().then(processIteratorResult);
        })
      }
    }

    JupyterCommManager.prototype.get_client_comm = function(plot_id, comm_id, msg_handler) {
      if (comm_id in window.PyViz.comms) {
        return window.PyViz.comms[comm_id];
      } else if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        var comm = comm_manager.new_comm(comm_id, {}, {}, {}, comm_id);
        if (msg_handler) {
          comm.on_msg(msg_handler);
        }
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        var comm = window.PyViz.kernels[plot_id].connectToComm(comm_id);
        comm.open();
        if (msg_handler) {
          comm.onMsg = msg_handler;
        }
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        var comm_promise = google.colab.kernel.comms.open(comm_id)
        comm_promise.then((comm) => {
          window.PyViz.comms[comm_id] = comm;
          if (msg_handler) {
            var messages = comm.messages[Symbol.asyncIterator]();
            function processIteratorResult(result) {
              var message = result.value;
              var content = {data: message.data};
              var metadata = message.metadata || {comm_id};
              var msg = {content, metadata}
              msg_handler(msg);
              return messages.next().then(processIteratorResult);
            }
            return messages.next().then(processIteratorResult);
          }
        }) 
        var sendClosure = (data, metadata, buffers, disposeOnDone) => {
          return comm_promise.then((comm) => {
            comm.send(data, metadata, buffers, disposeOnDone);
          });
        };
        var comm = {
          send: sendClosure
        };
      }
      window.PyViz.comms[comm_id] = comm;
      return comm;
    }
    window.PyViz.comm_manager = new JupyterCommManager();
    


var JS_MIME_TYPE = 'application/javascript';
var HTML_MIME_TYPE = 'text/html';
var EXEC_MIME_TYPE = 'application/vnd.holoviews_exec.v0+json';
var CLASS_NAME = 'output';

/**
 * Render data to the DOM node
 */
function render(props, node) {
  var div = document.createElement("div");
  var script = document.createElement("script");
  node.appendChild(div);
  node.appendChild(script);
}

/**
 * Handle when a new output is added
 */
function handle_add_output(event, handle) {
  var output_area = handle.output_area;
  var output = handle.output;
  if ((output.data == undefined) || (!output.data.hasOwnProperty(EXEC_MIME_TYPE))) {
    return
  }
  var id = output.metadata[EXEC_MIME_TYPE]["id"];
  var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);
  if (id !== undefined) {
    var nchildren = toinsert.length;
    var html_node = toinsert[nchildren-1].children[0];
    html_node.innerHTML = output.data[HTML_MIME_TYPE];
    var scripts = [];
    var nodelist = html_node.querySelectorAll("script");
    for (var i in nodelist) {
      if (nodelist.hasOwnProperty(i)) {
        scripts.push(nodelist[i])
      }
    }

    scripts.forEach( function (oldScript) {
      var newScript = document.createElement("script");
      var attrs = [];
      var nodemap = oldScript.attributes;
      for (var j in nodemap) {
        if (nodemap.hasOwnProperty(j)) {
          attrs.push(nodemap[j])
        }
      }
      attrs.forEach(function(attr) { newScript.setAttribute(attr.name, attr.value) });
      newScript.appendChild(document.createTextNode(oldScript.innerHTML));
      oldScript.parentNode.replaceChild(newScript, oldScript);
    });
    if (JS_MIME_TYPE in output.data) {
      toinsert[nchildren-1].children[1].textContent = output.data[JS_MIME_TYPE];
    }
    output_area._hv_plot_id = id;
    if ((window.Bokeh !== undefined) && (id in Bokeh.index)) {
      window.PyViz.plot_index[id] = Bokeh.index[id];
    } else {
      window.PyViz.plot_index[id] = null;
    }
  } else if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
    var bk_div = document.createElement("div");
    bk_div.innerHTML = output.data[HTML_MIME_TYPE];
    var script_attrs = bk_div.children[0].attributes;
    for (var i = 0; i < script_attrs.length; i++) {
      toinsert[toinsert.length - 1].childNodes[1].setAttribute(script_attrs[i].name, script_attrs[i].value);
    }
    // store reference to server id on output_area
    output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
  }
}

/**
 * Handle when an output is cleared or removed
 */
function handle_clear_output(event, handle) {
  var id = handle.cell.output_area._hv_plot_id;
  var server_id = handle.cell.output_area._bokeh_server_id;
  if (((id === undefined) || !(id in PyViz.plot_index)) && (server_id !== undefined)) { return; }
  var comm = window.PyViz.comm_manager.get_client_comm("hv-extension-comm", "hv-extension-comm", function () {});
  if (server_id !== null) {
    comm.send({event_type: 'server_delete', 'id': server_id});
    return;
  } else if (comm !== null) {
    comm.send({event_type: 'delete', 'id': id});
  }
  delete PyViz.plot_index[id];
  if ((window.Bokeh !== undefined) & (id in window.Bokeh.index)) {
    var doc = window.Bokeh.index[id].model.document
    doc.clear();
    const i = window.Bokeh.documents.indexOf(doc);
    if (i > -1) {
      window.Bokeh.documents.splice(i, 1);
    }
  }
}

/**
 * Handle kernel restart event
 */
function handle_kernel_cleanup(event, handle) {
  delete PyViz.comms["hv-extension-comm"];
  window.PyViz.plot_index = {}
}

/**
 * Handle update_display_data messages
 */
function handle_update_output(event, handle) {
  handle_clear_output(event, {cell: {output_area: handle.output_area}})
  handle_add_output(event, handle)
}

function register_renderer(events, OutputArea) {
  function append_mime(data, metadata, element) {
    // create a DOM node to render to
    var toinsert = this.create_output_subarea(
    metadata,
    CLASS_NAME,
    EXEC_MIME_TYPE
    );
    this.keyboard_manager.register_events(toinsert);
    // Render to node
    var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
    render(props, toinsert[0]);
    element.append(toinsert);
    return toinsert
  }

  events.on('output_added.OutputArea', handle_add_output);
  events.on('output_updated.OutputArea', handle_update_output);
  events.on('clear_output.CodeCell', handle_clear_output);
  events.on('delete.Cell', handle_clear_output);
  events.on('kernel_ready.Kernel', handle_kernel_cleanup);

  OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
    safe: true,
    index: 0
  });
}

if (window.Jupyter !== undefined) {
  try {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;
    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  } catch(err) {
  }
}
</script></div>
</div>
<p><strong>before calling</strong> any AbiPy <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">abipanel</span></code> function is needed to load extensions and javascript packages
required by AbiPy.
This function is just a small wrapper around the official panel API:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>import panel as pn
pn.extension<span class="o">()</span>
</pre></div>
</div>
</div>
<p>At this point, we can start to construct AbiPy objects.
For our first example, we use the <code class="docutils literal notranslate"><span class="pre">abiopen</span></code> function to open a <code class="docutils literal notranslate"><span class="pre">GSR</span></code> file,
then we call <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> to build a set of widgets that allows us to interact
with the <cite>GsrFile</cite>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abipy</span> <span class="kn">import</span> <span class="n">abilab</span>
<span class="kn">import</span> <span class="nn">abipy.data</span> <span class="k">as</span> <span class="nn">abidata</span>

<span class="n">filename</span> <span class="o">=</span> <span class="n">abidata</span><span class="o">.</span><span class="n">ref_file</span><span class="p">(</span><span class="s2">&quot;si_nscf_GSR.nc&quot;</span><span class="p">)</span>
<span class="n">gsr</span> <span class="o">=</span> <span class="n">abilab</span><span class="o">.</span><span class="n">abiopen</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="n">gsr</span><span class="o">.</span><span class="n">get_panel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id='1003'>





  <div class="bk-root" id="f162604b-c22e-447a-aba3-704b73845740" data-root-id="1003"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"6fa99f0c-7e0f-4fa0-829a-408d7e47d0a4":{"defs":[],"roots":{"references":[{"attributes":{"margin":[5,5,5,5],"name":"Divider00126","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1014","type":"Div"},{"attributes":{"format":"0,0.0[00000]"},"id":"1106","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1044"}],"margin":[0,0,0,0],"name":"Row00173"},"id":"1043","type":"Row"},{"attributes":{"children":[{"id":"1025"}],"margin":[0,0,0,0],"name":"Row00133"},"id":"1024","type":"Row"},{"attributes":{"children":[{"id":"1016"},{"id":"1020"}],"margin":[0,0,0,0],"name":"Accordion00125"},"id":"1015","type":"Column"},{"attributes":{"editor":{"id":"1130"},"field":"frac_coords","formatter":{"id":"1129"},"title":"frac_coords","width":0},"id":"1131","type":"TableColumn"},{"attributes":{},"id":"1052","type":"CellEditor"},{"attributes":{},"id":"1130","type":"StringEditor"},{"attributes":{"margin":[5,5,5,5],"name":"Str00131"},"id":"1025","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1129","type":"StringFormatter"},{"attributes":{"margin":[5,10,5,10],"options":[["None","None"],["jsmol","jsmol"],["vesta","vesta"],["xcrysden","xcrysden"],["vtk","vtk"],["crystalk","crystalk"],["ngl","ngl"],["matplotlib","matplotlib"],["plotly","plotly"],["ase_atoms","ase_atoms"],["mayavi","mayavi"]],"title":"Structure viewer"},"id":"1030","type":"Select"},{"attributes":{},"id":"1050","type":"StringFormatter"},{"attributes":{"format":"0,0.0[00000]"},"id":"1101","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1111"},{"id":"1115"}],"margin":[0,0,0,0],"name":"Column00161","sizing_mode":"stretch_both"},"id":"1092","type":"Column"},{"attributes":{"source":{"id":"1048"}},"id":"1063","type":"CDSView"},{"attributes":{},"id":"1125","type":"CellEditor"},{"attributes":{"editor":{"id":"1057"},"field":"0","formatter":{"id":"1056"},"title":"0","width":0},"id":"1058","type":"TableColumn"},{"attributes":{"editor":{"id":"1125"},"field":"site_idx","formatter":{"id":"1123"},"title":"site_idx","width":0},"id":"1126","type":"TableColumn"},{"attributes":{"data":{"Degrees":{"__ndarray__":"n2cAAAAATkDBUAAAAABOQGPcAAAAAE5A","dtype":"float64","order":"little","shape":[3]},"Lattice angles":["alpha","beta","gamma"],"Radians":{"__ndarray__":"Ra0tOFLB8D9/oC04UsHwP3zuLThSwfA/","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1094"},"selection_policy":{"id":"1144"}},"id":"1093","type":"ColumnDataSource"},{"attributes":{},"id":"1123","type":"NumberFormatter"},{"attributes":{"indices":[]},"id":"1094","type":"Selection"},{"attributes":{"columns":[{"id":"1126"},{"id":"1131"}],"height":110,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1121"},"view":{"id":"1136"}},"id":"1134","type":"DataTable"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1021"},{"id":"1023"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00186"},"id":"1020","type":"panel.models.layout.Card"},{"attributes":{"format":"0,0.0[00000]"},"id":"1076","type":"NumberFormatter"},{"attributes":{},"id":"1057","type":"StringEditor"},{"attributes":{"indices":[]},"id":"1122","type":"Selection"},{"attributes":{},"id":"1095","type":"StringFormatter"},{"attributes":{"children":[{"id":"1086"},{"id":"1090"}],"margin":[0,0,0,0],"name":"Column00156","sizing_mode":"stretch_both"},"id":"1067","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1023","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1097"},"field":"Lattice angles","formatter":{"id":"1095"},"title":"Lattice angles","width":0},"id":"1098","type":"TableColumn"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00168","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1138","type":"Div"},{"attributes":{"data":{"Bohr":{"__ndarray__":"xOP/ZZDvDkCKDgBmkO8OQL1M/2WQ7w5A","dtype":"float64","order":"little","shape":[3]},"Lattice lenghts":["a","b","c"],"\u212b":{"__ndarray__":"QZj3UOc6HUCrwPdQ5zodQI4J91DnOh1A","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1069"},"selection_policy":{"id":"1142"}},"id":"1068","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1134"},{"id":"1138"}],"margin":[0,0,0,0],"name":"Column00167","sizing_mode":"stretch_both"},"id":"1120","type":"Column"},{"attributes":{"children":[{"id":"1036"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00189","sizing_mode":"stretch_width"},"id":"1035","type":"Row"},{"attributes":{},"id":"1107","type":"NumberEditor"},{"attributes":{},"id":"1097","type":"CellEditor"},{"attributes":{"indices":[]},"id":"1069","type":"Selection"},{"attributes":{"columns":[{"id":"1098"},{"id":"1103"},{"id":"1108"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1093"},"view":{"id":"1113"}},"id":"1111","type":"DataTable"},{"attributes":{"columns":[{"id":"1073"},{"id":"1078"},{"id":"1083"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1068"},"view":{"id":"1088"}},"id":"1086","type":"DataTable"},{"attributes":{},"id":"1070","type":"StringFormatter"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00163","text":"&lt;h1&gt;Lattice angles:&lt;/h1&gt;"},"id":"1091","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1035"},{"id":"1037"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00190"},"id":"1034","type":"panel.models.layout.Card"},{"attributes":{"editor":{"id":"1072"},"field":"Lattice lenghts","formatter":{"id":"1070"},"title":"Lattice lenghts","width":0},"id":"1073","type":"TableColumn"},{"attributes":{},"id":"1144","type":"UnionRenderers"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00141","text":"&lt;h3&gt;Visualize structure&lt;/h3&gt;"},"id":"1029","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1028"},{"id":"1042"}],"margin":[0,0,0,0],"name":"Row00177"},"id":"1027","type":"Row"},{"attributes":{},"id":"1072","type":"CellEditor"},{"attributes":{"source":{"id":"1121"}},"id":"1136","type":"CDSView"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00158","text":"&lt;h1&gt;Lattice lengths:&lt;/h1&gt;"},"id":"1066","type":"panel.models.markup.HTML"},{"attributes":{"indices":[]},"id":"1049","type":"Selection"},{"attributes":{"children":[{"id":"1008"},{"id":"1009"},{"id":"1013"},{"id":"1024"}],"margin":[0,0,0,0],"name":"Column00134"},"id":"1007","type":"Column"},{"attributes":{"children":[{"id":"1061"},{"id":"1065"}],"margin":[0,0,0,0],"name":"Column00151","sizing_mode":"stretch_both"},"id":"1047","type":"Column"},{"attributes":{"child":{"id":"1006"},"name":"Row00135","title":"e-Bands"},"id":"1026","type":"Panel"},{"attributes":{"data":{"frac_coords":[[0.0,0.0,0.0],[0.25,0.25,0.25]],"site_idx":[0,1]},"selected":{"id":"1122"},"selection_policy":{"id":"1146"}},"id":"1121","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1034"},{"id":"1038"}],"margin":[0,0,0,0],"name":"Accordion00139"},"id":"1033","type":"Column"},{"attributes":{"children":[{"id":"1007"}],"margin":[0,0,0,0],"name":"Row00135"},"id":"1006","type":"Row"},{"attributes":{},"id":"1077","type":"NumberEditor"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00199","sizing_mode":"stretch_width","text":"Coordinates of Si sites:"},"id":"1119","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1107"},"field":"Radians","formatter":{"id":"1106"},"title":"Radians","width":0},"id":"1108","type":"TableColumn"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00195","sizing_mode":"stretch_width","text":"Warning"},"id":"1040","type":"panel.models.markup.HTML"},{"attributes":{"child":{"id":"1004"},"name":"Row00110","title":"Summary"},"id":"1005","type":"Panel"},{"attributes":{"editor":{"id":"1077"},"field":"\u212b","formatter":{"id":"1076"},"title":"\u212b","width":0},"id":"1078","type":"TableColumn"},{"attributes":{},"id":"1142","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1002"}],"margin":[0,0,0,0],"name":"Row00110"},"id":"1004","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00153","text":"&lt;h1&gt;Spacegroup:&lt;/h1&gt;"},"id":"1046","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1018"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00181","sizing_mode":"stretch_width"},"id":"1017","type":"Row"},{"attributes":{},"id":"1140","type":"UnionRenderers"},{"attributes":{"data":{"0":["NaN","Fd-3m",227,"cubic"],"index":["abi_spg_number","spglib_symb","spglib_num","spglib_lattice_type"]},"selected":{"id":"1049"},"selection_policy":{"id":"1140"}},"id":"1048","type":"ColumnDataSource"},{"attributes":{"editor":{"id":"1102"},"field":"Degrees","formatter":{"id":"1101"},"title":"Degrees","width":0},"id":"1103","type":"TableColumn"},{"attributes":{"format":"0,0.0[00000]"},"id":"1081","type":"NumberFormatter"},{"attributes":{},"id":"1102","type":"NumberEditor"},{"attributes":{"margin":[0,0,0,0],"tabs":[{"id":"1005"},{"id":"1026"},{"id":"1139"}]},"id":"1003","type":"Tabs"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00140","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1032","type":"Div"},{"attributes":{},"id":"1082","type":"NumberEditor"},{"attributes":{"children":[{"id":"1032"},{"id":"1033"}],"margin":[0,0,0,0],"name":"Column00136"},"id":"1031","type":"Column"},{"attributes":{"client_comm_id":"7ab50f52439546629f3eac9b71036abb","comm_id":"aebda8d8e1644adf91e41c67763cb885","plot_id":"1003"},"id":"1164","type":"panel.models.comm_manager.CommManager"},{"attributes":{},"id":"1056","type":"StringFormatter"},{"attributes":{"editor":{"id":"1082"},"field":"Bohr","formatter":{"id":"1081"},"title":"Bohr","width":0},"id":"1083","type":"TableColumn"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00152","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1065","type":"Div"},{"attributes":{"child":{"id":"1027"},"name":"Row00177","title":"Structure"},"id":"1139","type":"Panel"},{"attributes":{"source":{"id":"1068"}},"id":"1088","type":"CDSView"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00183","sizing_mode":"stretch_width","text":"Help"},"id":"1018","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00127","text":"&lt;h3&gt;e-Bands Options&lt;/h3&gt;"},"id":"1008","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00187","sizing_mode":"stretch_width","text":"Warning"},"id":"1022","type":"panel.models.markup.HTML"},{"attributes":{"sizing_mode":"scale_both","text":"================================= File Info =================================\nName: si_nscf_GSR.nc\nDirectory: /Users/gmatteo/git_repos/abipy/abipy/data/refs/si_ebands\nSize: 12.31 kb\nAccess Time: Fri Mar  5 14:27:34 2021\nModification Time: Wed Mar 20 16:53:35 2019\nChange Time: Wed Mar 20 16:53:35 2019\n\n================================= Structure =================================\nFull Formula (Si2)\nReduced Formula: Si\nabc   :   3.866975   3.866975   3.866975\nangles:  60.000000  60.000000  60.000000\nSites (2)\n  #  SP       a     b     c  cartesian_forces\n---  ----  ----  ----  ----  -----------------------------------------------------------\n  0  Si    0     0     0     [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n  1  Si    0.25  0.25  0.25  [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n\nAbinit Spacegroup: spgid: 227, num_spatial_symmetries: 48, has_timerev: True, symmorphic: True\n\nStress tensor (Cartesian coordinates in GPa):\n[[2.94210108e+104 2.94210108e+104 2.94210108e+104]\n [2.94210108e+104 2.94210108e+104 2.94210108e+104]\n [2.94210108e+104 2.94210108e+104 2.94210108e+104]]\n\nPressure: -294210108029007021798593732450854339797442512732257107491275409743734121486157862082944796572910801125376.000 (GPa)\nEnergy: -241.23647031 (eV)\n\n============================== Electronic Bands ==============================\nNumber of electrons: 8.0, Fermi level: 5.598 (eV)\nnsppol: 1, nkpt: 14, mband: 8, nspinor: 1, nspden: 1\nsmearing scheme: none (occopt 1), tsmear_eV: 0.272\nDirect gap:\n    Energy: 2.532 (eV)\n    Initial state: spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 3, eig: 5.598, occ: 2.000\n    Final state:   spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 4, eig: 8.130, occ: 0.000\nFundamental gap:\n    Energy: 0.524 (eV)\n    Initial state: spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 3, eig: 5.598, occ: 2.000\n    Final state:   spin: 0, kpt: [+0.000, +0.429, +0.429], weight: 0.000, band: 4, eig: 6.123, occ: 0.000\nBandwidth: 11.856 (eV)\nValence maximum located at:\n    spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 3, eig: 5.598, occ: 2.000\nConduction minimum located at:\n    spin: 0, kpt: [+0.000, +0.429, +0.429], weight: 0.000, band: 4, eig: 6.123, occ: 0.000\n\nTIP: Call set_fermie_to_vbm() to set the Fermi level to the VBM if this is a non-magnetic semiconductor\n"},"id":"1002","type":"PreText"},{"attributes":{"children":[{"id":"1046"},{"id":"1047"},{"id":"1066"},{"id":"1067"},{"id":"1091"},{"id":"1092"},{"id":"1116"}],"margin":[0,0,0,0],"name":"Column00149","sizing_mode":"scale_width"},"id":"1045","type":"Column"},{"attributes":{"margin":[0,0,0,0],"name":"Column00174"},"id":"1044","type":"Column"},{"attributes":{"labels":["Set fermie to vbm"],"margin":[5,10,5,10]},"id":"1011","type":"CheckboxGroup"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00157","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1090","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00137","text":"&lt;p&gt;Visualize input structure.&lt;/p&gt;"},"id":"1037","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1119"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00197","sizing_mode":"stretch_width"},"id":"1118","type":"Row"},{"attributes":{"children":[{"id":"1029"},{"id":"1030"},{"id":"1031"}],"margin":[0,0,0,0],"name":"Column00148"},"id":"1028","type":"Column"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00191","sizing_mode":"stretch_width","text":"Help"},"id":"1036","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1043"},{"id":"1045"}],"margin":[0,0,0,0],"name":"Column00176"},"id":"1042","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1017"},{"id":"1019"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00182"},"id":"1016","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00123","text":"&lt;p&gt;Button triggering ebands plot.&lt;/p&gt;"},"id":"1019","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1010"},{"id":"1011"},{"id":"1012"}],"margin":[0,0,0,0],"name":"Column00121"},"id":"1009","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1118"},{"id":"1120"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00198","sizing_mode":"stretch_width"},"id":"1117","type":"panel.models.layout.Card"},{"attributes":{"columns":[{"id":"1053"},{"id":"1058"}],"height":190,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1048"},"view":{"id":"1063"}},"id":"1061","type":"DataTable"},{"attributes":{"children":[{"id":"1014"},{"id":"1015"}],"margin":[0,0,0,0],"name":"Column00122"},"id":"1013","type":"Column"},{"attributes":{"children":[{"id":"1022"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00185","sizing_mode":"stretch_width"},"id":"1021","type":"Row"},{"attributes":{"reload":false},"id":"1189","type":"panel.models.location.Location"},{"attributes":{"labels":["With gaps"],"margin":[5,10,5,10]},"id":"1010","type":"CheckboxGroup"},{"attributes":{},"id":"1146","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1040"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00193","sizing_mode":"stretch_width"},"id":"1039","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1039"},{"id":"1041"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00194"},"id":"1038","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1117"}],"margin":[0,0,0,0],"name":"Accordion00165","sizing_mode":"stretch_width"},"id":"1116","type":"Column"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot e-bands","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1012","type":"Button"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00162","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1115","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1041","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1052"},"field":"index","formatter":{"id":"1050"},"title":"index","width":0},"id":"1053","type":"TableColumn"},{"attributes":{"source":{"id":"1093"}},"id":"1113","type":"CDSView"}],"root_ids":["1003","1164","1189"]},"title":"Bokeh Application","version":"2.3.1"}};
    var render_items = [{"docid":"6fa99f0c-7e0f-4fa0-829a-408d7e47d0a4","root_ids":["1003"],"roots":{"1003":"f162604b-c22e-447a-aba3-704b73845740"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined  && root['MathJax'] !== undefined ) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined && root['MathJax'] !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div></div>
</div>
<p>The <strong>summary</strong> tab provides a string representation of the file
but there is no widget to interact with it.
If you select the <strong>e-Bands</strong> tab, you will see several widgets and a button
that activates the visualization of the KS band energies.
Again, in this HTML page there is no python server running in background so
if you click the <strong>Plot e-bands</strong> button nothing happens (this is not a bug!).</p>
<p>The advantage of this notebook-based approach is that it is possible to mix
the panel GUIs with python code that can be used to perform
more advanced tasks not supported by the GUI.</p>
<p>Obviously it is possible to have multiple panels running in the same notebook.
Calling <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> with an AbiPy structure, for instance, creates a set of widgets
to facilitate common operations such as exporting the structure to a different format or
generating a basic Abinit input file for e.g. GS calculations:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gsr</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">get_panel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id='1216'>





  <div class="bk-root" id="b150cf38-2675-4b2f-80ba-15c93b9d893a" data-root-id="1216"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"4291dc4a-30a5-4377-a5cd-350e845e8e97":{"defs":[],"roots":{"references":[{"attributes":{"margin":[5,5,5,5],"name":"Str00323"},"id":"1409","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1257"}],"margin":[0,0,0,0],"name":"Column00248","sizing_mode":"stretch_width"},"id":"1256","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":["scf","relax"],"title":"GS type","value":"scf"},"id":"1393","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1254","type":"panel.models.markup.HTML"},{"attributes":{"columns":[{"id":"1376"},{"id":"1381"}],"height":110,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1371"},"view":{"id":"1386"}},"id":"1384","type":"DataTable"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","step":1000,"title":"kppra","value":1000,"value_throttled":1000},"id":"1395","type":"Spinner"},{"attributes":{"children":[{"id":"1260"},{"id":"1274"}],"margin":[0,0,0,0],"name":"Row00270"},"id":"1259","type":"Row"},{"attributes":{},"id":"1300","type":"StringFormatter"},{"attributes":{"indices":[]},"id":"1299","type":"Selection"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00222","text":"&lt;h3&gt;Spglib options&lt;/h3&gt;"},"id":"1221","type":"panel.models.markup.HTML"},{"attributes":{"columns":[{"id":"1303"},{"id":"1308"}],"height":190,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1298"},"view":{"id":"1313"}},"id":"1311","type":"DataTable"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","step":5,"title":"line density","value":10,"value_throttled":10},"id":"1242","type":"Spinner"},{"attributes":{"editor":{"id":"1307"},"field":"0","formatter":{"id":"1306"},"title":"0","width":0},"id":"1308","type":"TableColumn"},{"attributes":{"children":[{"id":"1402"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00372","sizing_mode":"stretch_width"},"id":"1401","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00374","sizing_mode":"stretch_width","text":"Help"},"id":"1402","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1401"},{"id":"1403"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00373"},"id":"1400","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1234","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00354","sizing_mode":"stretch_width","text":"Help"},"id":"1268","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1307","type":"StringEditor"},{"attributes":{"child":{"id":"1259"},"name":"Row00270","title":"Convert"},"id":"1276","type":"Panel"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","title":"angtol","value":5,"value_throttled":5},"id":"1223","type":"Spinner"},{"attributes":{},"id":"1306","type":"StringFormatter"},{"attributes":{"child":{"id":"1390"},"name":"Row00326","title":"GS-input"},"id":"1410","type":"Panel"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00346","sizing_mode":"stretch_width","text":"Help"},"id":"1249","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1373","type":"NumberFormatter"},{"attributes":{"editor":{"id":"1375"},"field":"site_idx","formatter":{"id":"1373"},"title":"site_idx","width":0},"id":"1376","type":"TableColumn"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1291","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1407","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1375","type":"CellEditor"},{"attributes":{"margin":[5,10,5,10],"options":["unpolarized","polarized","anti-ferromagnetic","non-collinear with magnetism","non-collinear, no magnetism"],"title":"SpinMode","value":"unpolarized"},"id":"1394","type":"Select"},{"attributes":{},"id":"1379","type":"StringFormatter"},{"attributes":{},"id":"1423","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1384"},{"id":"1388"}],"margin":[0,0,0,0],"name":"Column00302","sizing_mode":"stretch_both"},"id":"1370","type":"Column"},{"attributes":{"children":[{"id":"1249"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00344","sizing_mode":"stretch_width"},"id":"1248","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1368"},{"id":"1370"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00369","sizing_mode":"stretch_width"},"id":"1367","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,10,5,10],"options":["abinit","siesta","wannier90"],"title":"format","value":"abinit"},"id":"1241","type":"Select"},{"attributes":{"children":[{"id":"1369"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00368","sizing_mode":"stretch_width"},"id":"1368","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1248"},{"id":"1250"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00345"},"id":"1247","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1261"},{"id":"1262"},{"id":"1263"}],"margin":[0,0,0,0],"name":"Column00260"},"id":"1260","type":"Column"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00370","sizing_mode":"stretch_width","text":"Coordinates of Si sites:"},"id":"1369","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"HTMLwithClipboardBtn00249","text":"\n&lt;div id=&quot;uuid-848aa4b3-4d45-441f-bac2-346416bab2aa&quot;&gt;&lt;pre&gt; # Abinit Structure\n natom 2\n ntypat 1\n typat 1 1\n znucl 14\n xred\n    0.0000000000    0.0000000000    0.0000000000\n    0.2500000000    0.2500000000    0.2500000000\n acell    1.0    1.0    1.0\n rprim\n    6.3285005521    0.0000000000    3.6537614973\n    2.1095001840    5.9665675402    3.6537614973\n    0.0000000000    0.0000000000    7.3075229946\n\n# tolwfr 1e-20 iscf -2 # NSCF run\n# To read previous DEN file, use: getden -1 or specify filename via getden_path &quot;out_DEN&quot;\n\n# K-path in reduced coordinates:\n ndivsm 10\n kptopt -11\n kptbounds\n    +0.00000  +0.00000  +0.00000  # $\\Gamma$\n    +0.50000  +0.00000  +0.50000  # X\n    +0.50000  +0.25000  +0.75000  # W\n    +0.37500  +0.37500  +0.75000  # K\n    +0.00000  +0.00000  +0.00000  # $\\Gamma$\n    +0.50000  +0.50000  +0.50000  # L\n    +0.62500  +0.25000  +0.62500  # U\n    +0.50000  +0.25000  +0.75000  # W\n    +0.50000  +0.50000  +0.50000  # L\n    +0.37500  +0.37500  +0.75000  # K\n    +0.62500  +0.25000  +0.62500  # U\n    +0.50000  +0.00000  +0.50000  # X &lt;/pre&gt;&lt;/div&gt;\n&lt;br&gt;\n&lt;button class=&quot;clip-btn bk bk-btn bk-btn-default&quot; type=&quot;button&quot; data-clipboard-target=&quot;#uuid-848aa4b3-4d45-441f-bac2-346416bab2aa&quot;&gt; Copy to clipboard &lt;/button&gt;\n&lt;hr&gt;\n&lt;script&gt; $(document).ready(function() {new ClipboardJS(&#x27;.clip-btn&#x27;)}) &lt;/script&gt; "},"id":"1257","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00287","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1315","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00218","text":"&lt;p&gt;Call spglib to find space group symmetries and Wyckoff positions.&lt;/p&gt;"},"id":"1230","type":"panel.models.markup.HTML"},{"attributes":{"source":{"id":"1298"}},"id":"1313","type":"CDSView"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00288","text":"&lt;h1&gt;Spacegroup:&lt;/h1&gt;"},"id":"1296","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1380","type":"StringEditor"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00240","text":"&lt;h3&gt;K-path options&lt;/h3&gt;"},"id":"1240","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1239"},{"id":"1255"}],"margin":[0,0,0,0],"name":"Row00252"},"id":"1238","type":"Row"},{"attributes":{"sizing_mode":"scale_both","text":"Full Formula (Si2)\nReduced Formula: Si\nabc   :   3.866975   3.866975   3.866975\nangles:  60.000000  60.000000  60.000000\nSites (2)\n  #  SP       a     b     c  cartesian_forces\n---  ----  ----  ----  ----  -----------------------------------------------------------\n  0  Si    0     0     0     [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n  1  Si    0.25  0.25  0.25  [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n\nAbinit Spacegroup: spgid: 227, num_spatial_symmetries: 48, has_timerev: True, symmorphic: True"},"id":"1214","type":"PreText"},{"attributes":{"indices":[]},"id":"1372","type":"Selection"},{"attributes":{},"id":"1421","type":"UnionRenderers"},{"attributes":{"data":{"frac_coords":[[0.0,0.0,0.0],[0.25,0.25,0.25]],"site_idx":[0,1]},"selected":{"id":"1372"},"selection_policy":{"id":"1423"}},"id":"1371","type":"ColumnDataSource"},{"attributes":{"labels":["Plot k-path"],"margin":[5,10,5,10]},"id":"1243","type":"CheckboxGroup"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00317","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1398","type":"Div"},{"attributes":{"children":[{"id":"1391"},{"id":"1408"}],"margin":[0,0,0,0],"name":"Row00326"},"id":"1390","type":"Row"},{"attributes":{"button_type":"primary","icon":null,"label":"Generate input","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1396","type":"Button"},{"attributes":{"children":[{"id":"1275"}],"margin":[0,0,0,0],"name":"Row00265"},"id":"1274","type":"Row"},{"attributes":{"children":[{"id":"1245"},{"id":"1246"}],"margin":[0,0,0,0],"name":"Column00235"},"id":"1244","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00239","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1245","type":"Div"},{"attributes":{"children":[{"id":"1256"}],"margin":[0,0,0,0],"name":"Row00247"},"id":"1255","type":"Row"},{"attributes":{"children":[{"id":"1392"},{"id":"1393"},{"id":"1394"},{"id":"1395"},{"id":"1396"},{"id":"1397"}],"margin":[0,0,0,0],"name":"Column00320"},"id":"1391","type":"Column"},{"attributes":{"children":[{"id":"1400"},{"id":"1404"}],"margin":[0,0,0,0],"name":"Accordion00316"},"id":"1399","type":"Column"},{"attributes":{},"id":"1302","type":"CellEditor"},{"attributes":{"children":[{"id":"1247"},{"id":"1251"}],"margin":[0,0,0,0],"name":"Accordion00238"},"id":"1246","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00236","text":"&lt;p&gt;Generate high-symmetry k-path from input structure in the ABINIT format.&lt;/p&gt;"},"id":"1250","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1302"},"field":"index","formatter":{"id":"1300"},"title":"index","width":0},"id":"1303","type":"TableColumn"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","step":0.01,"title":"symprec","value":0.01,"value_throttled":0.01},"id":"1222","type":"Spinner"},{"attributes":{"editor":{"id":"1380"},"field":"frac_coords","formatter":{"id":"1379"},"title":"frac_coords","width":0},"id":"1381","type":"TableColumn"},{"attributes":{"children":[{"id":"1398"},{"id":"1399"}],"margin":[0,0,0,0],"name":"Column00313"},"id":"1397","type":"Column"},{"attributes":{"children":[{"id":"1264"},{"id":"1265"}],"margin":[0,0,0,0],"name":"Column00253"},"id":"1263","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00318","text":"&lt;h3&gt;Generate GS input&lt;/h3&gt;"},"id":"1392","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1367"}],"margin":[0,0,0,0],"name":"Accordion00300","sizing_mode":"stretch_width"},"id":"1366","type":"Column"},{"attributes":{"format":"0,0.0[00000]"},"id":"1326","type":"NumberFormatter"},{"attributes":{"data":{"Degrees":{"__ndarray__":"n2cAAAAATkDBUAAAAABOQGPcAAAAAE5A","dtype":"float64","order":"little","shape":[3]},"Lattice angles":["alpha","beta","gamma"],"Radians":{"__ndarray__":"Ra0tOFLB8D9/oC04UsHwP3zuLThSwfA/","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1344"},"selection_policy":{"id":"1421"}},"id":"1343","type":"ColumnDataSource"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00257","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1264","type":"Div"},{"attributes":{"button_type":"primary","icon":null,"label":"Connect to Materials Project","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1413","type":"Button"},{"attributes":{"format":"0,0.0[00000]"},"id":"1351","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1266"},{"id":"1270"}],"margin":[0,0,0,0],"name":"Accordion00256"},"id":"1265","type":"Column"},{"attributes":{"format":"0,0.0[00000]"},"id":"1356","type":"NumberFormatter"},{"attributes":{"margin":[5,10,5,10],"options":["abinit","cif","xsf","poscar","qe","siesta","wannier90","cssr","json"],"title":"format","value":"abinit"},"id":"1262","type":"Select"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00292","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1340","type":"Div"},{"attributes":{"children":[{"id":"1415"}],"margin":[0,0,0,0],"name":"Row00332"},"id":"1414","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"HTMLwithClipboardBtn00266","text":"\n&lt;div id=&quot;uuid-5f2c57d0-e94c-4625-bfa9-b348166f8d5b&quot;&gt;\n&lt;div id=&quot;uuid-73c9dbde-10c9-4829-bee1-5a1e521deaeb&quot;&gt;&lt;pre&gt;  natom 2\n ntypat 1\n typat 1 1\n znucl 14\n xred\n    0.0000000000    0.0000000000    0.0000000000\n    0.2500000000    0.2500000000    0.2500000000\n acell    1.0    1.0    1.0\n rprim\n    6.3285005521    0.0000000000    3.6537614973\n    2.1095001840    5.9665675402    3.6537614973\n    0.0000000000    0.0000000000    7.3075229946 &lt;/pre&gt;&lt;/div&gt;\n&lt;br&gt;\n&lt;button class=&quot;clip-btn bk bk-btn bk-btn-default&quot; type=&quot;button&quot; data-clipboard-target=&quot;#uuid-73c9dbde-10c9-4829-bee1-5a1e521deaeb&quot;&gt; Copy to clipboard &lt;/button&gt;\n&lt;hr&gt;\n&lt;/div&gt;\n&lt;br&gt;\n&lt;button class=&quot;clip-btn bk bk-btn bk-btn-default&quot; type=&quot;button&quot; data-clipboard-target=&quot;#uuid-5f2c57d0-e94c-4625-bfa9-b348166f8d5b&quot;&gt; Copy to clipboard &lt;/button&gt;\n&lt;hr&gt;\n"},"id":"1275","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1361"},{"id":"1365"}],"margin":[0,0,0,0],"name":"Column00296","sizing_mode":"stretch_both"},"id":"1342","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["None","None"],["jsmol","jsmol"],["vesta","vesta"],["xcrysden","xcrysden"],["vtk","vtk"],["crystalk","crystalk"],["ngl","ngl"],["matplotlib","matplotlib"],["plotly","plotly"],["ase_atoms","ase_atoms"],["mayavi","mayavi"]],"title":"Structure viewer"},"id":"1280","type":"Select"},{"attributes":{"client_comm_id":"ad950297527e4ac2b3736ebb64342ef5","comm_id":"2e46c373de334a639fc622b5ad302365","plot_id":"1216"},"id":"1441","type":"panel.models.comm_manager.CommManager"},{"attributes":{"editor":{"id":"1322"},"field":"Lattice lenghts","formatter":{"id":"1320"},"title":"Lattice lenghts","width":0},"id":"1323","type":"TableColumn"},{"attributes":{"format":"0,0.0[00000]"},"id":"1331","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1282"},{"id":"1283"}],"margin":[0,0,0,0],"name":"Column00271"},"id":"1281","type":"Column"},{"attributes":{"child":{"id":"1277"},"name":"Row00312","title":"Structure"},"id":"1389","type":"Panel"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00258","text":"&lt;h3&gt;Convert structure&lt;/h3&gt;"},"id":"1261","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1252"},{"id":"1254"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00349"},"id":"1251","type":"panel.models.layout.Card"},{"attributes":{"margin":[0,0,0,0],"tabs":[{"id":"1218"},{"id":"1237"},{"id":"1258"},{"id":"1276"},{"id":"1389"},{"id":"1410"},{"id":"1416"}]},"id":"1216","type":"Tabs"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00275","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1282","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00314","text":"&lt;p&gt;Generate minimalistic input file from the input structure.&lt;/p&gt;"},"id":"1403","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1284"},{"id":"1288"}],"margin":[0,0,0,0],"name":"Accordion00274"},"id":"1283","type":"Column"},{"attributes":{"children":[{"id":"1253"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00348","sizing_mode":"stretch_width"},"id":"1252","type":"Row"},{"attributes":{},"id":"1332","type":"NumberEditor"},{"attributes":{"children":[{"id":"1268"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00352","sizing_mode":"stretch_width"},"id":"1267","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00272","text":"&lt;p&gt;Visualize input structure.&lt;/p&gt;"},"id":"1287","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1294"}],"margin":[0,0,0,0],"name":"Row00308"},"id":"1293","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00350","sizing_mode":"stretch_width","text":"Warning"},"id":"1253","type":"panel.models.markup.HTML"},{"attributes":{"source":{"id":"1318"}},"id":"1338","type":"CDSView"},{"attributes":{},"id":"1417","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1214"}],"margin":[0,0,0,0],"name":"Row00216"},"id":"1217","type":"Row"},{"attributes":{"children":[{"id":"1286"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00360","sizing_mode":"stretch_width"},"id":"1285","type":"Row"},{"attributes":{},"id":"1419","type":"UnionRenderers"},{"attributes":{"child":{"id":"1217"},"name":"Row00216","title":"Summary"},"id":"1218","type":"Panel"},{"attributes":{"children":[{"id":"1311"},{"id":"1315"}],"margin":[0,0,0,0],"name":"Column00286","sizing_mode":"stretch_both"},"id":"1297","type":"Column"},{"attributes":{},"id":"1357","type":"NumberEditor"},{"attributes":{"children":[{"id":"1413"}],"margin":[0,0,0,0],"name":"Column00327"},"id":"1412","type":"Column"},{"attributes":{"source":{"id":"1343"}},"id":"1363","type":"CDSView"},{"attributes":{"margin":[5,5,5,5],"name":"Str00330"},"id":"1415","type":"panel.models.markup.HTML"},{"attributes":{"sizing_mode":"stretch_width","text":"Full Formula (Si2)\nReduced Formula: Si\nabc   :   3.866975   3.866975   3.866975\nangles:  60.000000  60.000000  60.000000\n\nSpglib space group info (magnetic symmetries not taken into account).\nSpacegroup: Fd-3m (227), Hall: F 4d 2 3 -1d, Abinit spg_number: 227\nCrystal_system: cubic, Lattice_type: cubic, Point_group: m-3m\n\n  Idx  Symbol    Reduced_Coords              Wyckoff      EqIdx\n-----  --------  --------------------------  ---------  -------\n    0  Si        +0.00000 +0.00000 +0.00000  (2a)             0\n    1  Si        +0.25000 +0.25000 +0.25000  (2a)             0"},"id":"1215","type":"PreText"},{"attributes":{"children":[{"id":"1336"},{"id":"1340"}],"margin":[0,0,0,0],"name":"Column00291","sizing_mode":"stretch_both"},"id":"1317","type":"Column"},{"attributes":{"children":[{"id":"1220"},{"id":"1235"}],"margin":[0,0,0,0],"name":"Row00234"},"id":"1219","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00276","text":"&lt;h3&gt;Visualize structure&lt;/h3&gt;"},"id":"1279","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00297","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1365","type":"Div"},{"attributes":{"data":{"0":["NaN","Fd-3m",227,"cubic"],"index":["abi_spg_number","spglib_symb","spglib_num","spglib_lattice_type"]},"selected":{"id":"1299"},"selection_policy":{"id":"1417"}},"id":"1298","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1412"},{"id":"1414"}],"margin":[0,0,0,0],"name":"Row00333"},"id":"1411","type":"Row"},{"attributes":{},"id":"1345","type":"StringFormatter"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00378","sizing_mode":"stretch_width","text":"Warning"},"id":"1406","type":"panel.models.markup.HTML"},{"attributes":{"child":{"id":"1219"},"name":"Row00234","title":"Spglib"},"id":"1237","type":"Panel"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1271"},{"id":"1273"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00357"},"id":"1270","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1273","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1221"},{"id":"1222"},{"id":"1223"},{"id":"1224"}],"margin":[0,0,0,0],"name":"Column00224"},"id":"1220","type":"Column"},{"attributes":{"children":[{"id":"1406"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00376","sizing_mode":"stretch_width"},"id":"1405","type":"Row"},{"attributes":{"children":[{"id":"1236"}],"margin":[0,0,0,0],"name":"Row00229"},"id":"1235","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1405"},{"id":"1407"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00377"},"id":"1404","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1272"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00356","sizing_mode":"stretch_width"},"id":"1271","type":"Row"},{"attributes":{"children":[{"id":"1225"},{"id":"1226"}],"margin":[0,0,0,0],"name":"Column00217"},"id":"1224","type":"Column"},{"attributes":{"child":{"id":"1411"},"name":"Row00333","title":"MP-match"},"id":"1416","type":"Panel"},{"attributes":{"children":[{"id":"1233"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00340","sizing_mode":"stretch_width"},"id":"1232","type":"Row"},{"attributes":{"indices":[]},"id":"1344","type":"Selection"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1232"},{"id":"1234"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00341"},"id":"1231","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00358","sizing_mode":"stretch_width","text":"Warning"},"id":"1272","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1357"},"field":"Radians","formatter":{"id":"1356"},"title":"Radians","width":0},"id":"1358","type":"TableColumn"},{"attributes":{"source":{"id":"1371"}},"id":"1386","type":"CDSView"},{"attributes":{"editor":{"id":"1332"},"field":"Bohr","formatter":{"id":"1331"},"title":"Bohr","width":0},"id":"1333","type":"TableColumn"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1228"},{"id":"1230"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00337"},"id":"1227","type":"panel.models.layout.Card"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1289"},{"id":"1291"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00365"},"id":"1288","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00366","sizing_mode":"stretch_width","text":"Warning"},"id":"1290","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00298","text":"&lt;h1&gt;Lattice angles:&lt;/h1&gt;"},"id":"1341","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1229"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00336","sizing_mode":"stretch_width"},"id":"1228","type":"Row"},{"attributes":{},"id":"1322","type":"CellEditor"},{"attributes":{"children":[{"id":"1409"}],"margin":[0,0,0,0],"name":"Row00325"},"id":"1408","type":"Row"},{"attributes":{"children":[{"id":"1215"}],"margin":[0,0,0,0],"name":"Row00232"},"id":"1236","type":"Row"},{"attributes":{"editor":{"id":"1327"},"field":"\u212b","formatter":{"id":"1326"},"title":"\u212b","width":0},"id":"1328","type":"TableColumn"},{"attributes":{"columns":[{"id":"1348"},{"id":"1353"},{"id":"1358"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1343"},"view":{"id":"1363"}},"id":"1361","type":"DataTable"},{"attributes":{"children":[{"id":"1227"},{"id":"1231"}],"margin":[0,0,0,0],"name":"Accordion00220"},"id":"1226","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00254","text":"&lt;p&gt;Convert the input structure to one of the format selected by the user.&lt;/p&gt;"},"id":"1269","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00293","text":"&lt;h1&gt;Lattice lengths:&lt;/h1&gt;"},"id":"1316","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00221","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1225","type":"Div"},{"attributes":{"children":[{"id":"1278"},{"id":"1292"}],"margin":[0,0,0,0],"name":"Row00312"},"id":"1277","type":"Row"},{"attributes":{"editor":{"id":"1347"},"field":"Lattice angles","formatter":{"id":"1345"},"title":"Lattice angles","width":0},"id":"1348","type":"TableColumn"},{"attributes":{"children":[{"id":"1279"},{"id":"1280"},{"id":"1281"}],"margin":[0,0,0,0],"name":"Column00283"},"id":"1278","type":"Column"},{"attributes":{"editor":{"id":"1352"},"field":"Degrees","formatter":{"id":"1351"},"title":"Degrees","width":0},"id":"1353","type":"TableColumn"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00342","sizing_mode":"stretch_width","text":"Warning"},"id":"1233","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1293"},{"id":"1295"}],"margin":[0,0,0,0],"name":"Column00311"},"id":"1292","type":"Column"},{"attributes":{},"id":"1320","type":"StringFormatter"},{"attributes":{},"id":"1327","type":"NumberEditor"},{"attributes":{"columns":[{"id":"1323"},{"id":"1328"},{"id":"1333"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1318"},"view":{"id":"1338"}},"id":"1336","type":"DataTable"},{"attributes":{},"id":"1352","type":"NumberEditor"},{"attributes":{},"id":"1347","type":"CellEditor"},{"attributes":{"children":[{"id":"1290"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00364","sizing_mode":"stretch_width"},"id":"1289","type":"Row"},{"attributes":{"children":[{"id":"1240"},{"id":"1241"},{"id":"1242"},{"id":"1243"},{"id":"1244"}],"margin":[0,0,0,0],"name":"Column00242"},"id":"1239","type":"Column"},{"attributes":{"child":{"id":"1238"},"name":"Row00252","title":"Kpath"},"id":"1258","type":"Panel"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1267"},{"id":"1269"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00353"},"id":"1266","type":"panel.models.layout.Card"},{"attributes":{"data":{"Bohr":{"__ndarray__":"xOP/ZZDvDkCKDgBmkO8OQL1M/2WQ7w5A","dtype":"float64","order":"little","shape":[3]},"Lattice lenghts":["a","b","c"],"\u212b":{"__ndarray__":"QZj3UOc6HUCrwPdQ5zodQI4J91DnOh1A","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1319"},"selection_policy":{"id":"1419"}},"id":"1318","type":"ColumnDataSource"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1285"},{"id":"1287"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00361"},"id":"1284","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00303","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1388","type":"Div"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00338","sizing_mode":"stretch_width","text":"Help"},"id":"1229","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00362","sizing_mode":"stretch_width","text":"Help"},"id":"1286","type":"panel.models.markup.HTML"},{"attributes":{"indices":[]},"id":"1319","type":"Selection"},{"attributes":{"margin":[0,0,0,0],"name":"Column00309"},"id":"1294","type":"Column"},{"attributes":{"children":[{"id":"1296"},{"id":"1297"},{"id":"1316"},{"id":"1317"},{"id":"1341"},{"id":"1342"},{"id":"1366"}],"margin":[0,0,0,0],"name":"Column00284","sizing_mode":"scale_width"},"id":"1295","type":"Column"}],"root_ids":["1216","1441"]},"title":"Bokeh Application","version":"2.3.1"}};
    var render_items = [{"docid":"4291dc4a-30a5-4377-a5cd-350e845e8e97","root_ids":["1216"],"roots":{"1216":"b150cf38-2675-4b2f-80ba-15c93b9d893a"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined  && root['MathJax'] !== undefined ) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined && root['MathJax'] !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At present, not all the AbiPy objects support the <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> protocol
but we plan to gradually support more objects, especially the most important
netcdf files produced by Abinit</p>
</div>
<p>To generate a notebook from the command line, use the <a class="reference external" href="https://abinit.github.io/abipy/scripts/abiopen.html">abiopen.py</a> script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>abiopen.py si_nscf_GSR.nc -nb  <span class="c1"># short for --notebook</span>
</pre></div>
</div>
<p>that will automatically open the notebook inside jupyterlab.
If you prefer classic jupyter notebooks, use the <code class="docutils literal notranslate"><span class="pre">-nb</span> <span class="pre">--classic-notebook</span></code> options</p>
<p>If you do not need to execute python code, you may want to generate a panel dashboard with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>abiopen.py si_nscf_GSR.nc -pn  <span class="c1"># short for --panel</span>
</pre></div>
</div>
<p>The same approach can be used with a <code class="docutils literal notranslate"><span class="pre">DDB</span></code> file.
In this case, we get more tabs and options because one can use the GUI
to set the input parameters, invoke <code class="docutils literal notranslate"><span class="pre">anaddb</span></code> and visualize the results:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Open DDB file with abiopen and invoke get_panel method.</span>
<span class="n">ddb_path</span> <span class="o">=</span> <span class="n">abidata</span><span class="o">.</span><span class="n">ref_file</span><span class="p">(</span><span class="s2">&quot;mp-1009129-9x9x10q_ebecs_DDB&quot;</span><span class="p">)</span>
<span class="n">abilab</span><span class="o">.</span><span class="n">abiopen</span><span class="p">(</span><span class="n">ddb_path</span><span class="p">)</span><span class="o">.</span><span class="n">get_panel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id='1483'>





  <div class="bk-root" id="aa0e7647-09fd-45de-9d3a-18897b78f54c" data-root-id="1483"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"24bbfb0f-6b1b-421c-8091-47bfdb0e891a":{"defs":[],"roots":{"references":[{"attributes":{"editor":{"id":"1772"},"field":"frac_coords","formatter":{"id":"1771"},"title":"frac_coords","width":0},"id":"1773","type":"TableColumn"},{"attributes":{"active":[0],"labels":["Stacked PJDOS"],"margin":[5,10,5,10]},"id":"1496","type":"CheckboxGroup"},{"attributes":{"margin":[5,5,5,5],"name":"Str00522"},"id":"1556","type":"panel.models.markup.HTML"},{"attributes":{"end":1000,"margin":[5,10,5,10],"start":0,"step":0.1,"title":"Temp range","value":[0.0,300.0]},"id":"1497","type":"RangeSlider"},{"attributes":{"children":[{"id":"1703"},{"id":"1707"}],"margin":[0,0,0,0],"name":"Column00711","sizing_mode":"stretch_both"},"id":"1689","type":"Column"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot Bands and DOS","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1498","type":"Button"},{"attributes":{"children":[{"id":"1547"},{"id":"1551"}],"margin":[0,0,0,0],"name":"Accordion00490"},"id":"1546","type":"Column"},{"attributes":{},"id":"1749","type":"NumberEditor"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00728","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1780","type":"Div"},{"attributes":{"children":[{"id":"1500"},{"id":"1501"}],"margin":[0,0,0,0],"name":"Column00399"},"id":"1499","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1782"},{"id":"1784"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00850","sizing_mode":"stretch_width"},"id":"1781","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1683","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00491","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1545","type":"Div"},{"attributes":{"children":[{"id":"1783"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00849","sizing_mode":"stretch_width"},"id":"1782","type":"Row"},{"attributes":{"children":[{"id":"1545"},{"id":"1546"}],"margin":[0,0,0,0],"name":"Column00487"},"id":"1544","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00403","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1500","type":"Div"},{"attributes":{},"id":"1698","type":"StringFormatter"},{"attributes":{"children":[{"id":"1514"},{"id":"1532"}],"margin":[0,0,0,0],"name":"Row00486"},"id":"1513","type":"Row"},{"attributes":{"children":[{"id":"1502"},{"id":"1506"}],"margin":[0,0,0,0],"name":"Accordion00402"},"id":"1501","type":"Column"},{"attributes":{"child":{"id":"1513"},"name":"Row00486","title":"BECs"},"id":"1534","type":"Panel"},{"attributes":{"children":[{"id":"1622"}],"margin":[0,0,0,0],"name":"Row00621"},"id":"1621","type":"Row"},{"attributes":{"children":[{"id":"1602"},{"id":"1603"},{"id":"1604"},{"id":"1605"},{"id":"1606"},{"id":"1607"},{"id":"1608"},{"id":"1609"},{"id":"1610"}],"margin":[0,0,0,0],"name":"Column00616"},"id":"1601","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Str00449"},"id":"1511","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1515"},{"id":"1516"},{"id":"1517"},{"id":"1518"},{"id":"1519"},{"id":"1520"},{"id":"1521"}],"margin":[0,0,0,0],"name":"Column00480"},"id":"1514","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1495","type":"Select"},{"attributes":{"sizing_mode":"scale_both","text":"================================= File Info =================================\nName: mp-1009129-9x9x10q_ebecs_DDB\nDirectory: /Users/gmatteo/git_repos/abipy/abipy/data\nSize: 218.73 kb\nAccess Time: Fri Feb 21 18:04:19 2020\nModification Time: Wed Mar 20 16:53:35 2019\nChange Time: Wed Mar 20 16:53:35 2019\n\n================================= Structure =================================\nFull Formula (Mg1 O1)\nReduced Formula: MgO\nabc   :   2.908638   2.908638   2.656848\nangles:  90.000000  90.000000 120.000000\nSites (2)\n  #  SP           a         b    c\n---  ----  --------  --------  ---\n  0  Mg    0         0         0\n  1  O     0.333333  0.666667  0.5\n\nAbinit Spacegroup: spgid: 0, num_spatial_symmetries: 12, has_timerev: True, symmorphic: False\n\n================================== DDB Info ==================================\n\nNumber of q-points in DDB: 72\nguessed_ngqpt: [ 9  9 10] (guess for the q-mesh divisions made by AbiPy)\necut = 44.000000, ecutsm = 0.000000, nkpt = 405, nsym = 12, usepaw = 0\nnsppol 1, nspinor 1, nspden 1, ixc = -116133, occopt = 1, tsmear = 0.010000\n\nHas total energy: False, Has forces: False\nHas stress tensor: False\n\nHas (at least one) atomic pertubation: True\nHas (at least one diagonal) electric-field perturbation: True\nHas (at least one) Born effective charge: True\nHas (all) strain terms: False\nHas (all) internal strain terms: False\nHas (all) piezoelectric terms: False"},"id":"1482","type":"PreText"},{"attributes":{"children":[{"id":"1533"}],"margin":[0,0,0,0],"name":"Row00485"},"id":"1532","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1627","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00713","text":"&lt;h1&gt;Spacegroup:&lt;/h1&gt;"},"id":"1688","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["eV","eV"],["meV","meV"],["Ha","Ha"],["cm-1","cm-1"],["Thz","Thz"]],"title":"Units","value":"eV"},"id":"1807","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1503"},{"id":"1505"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00774"},"id":"1502","type":"panel.models.layout.Card"},{"attributes":{"editor":{"id":"1789"},"field":"site_idx","formatter":{"id":"1787"},"title":"site_idx","width":0},"id":"1790","type":"TableColumn"},{"attributes":{"editor":{"id":"1749"},"field":"Radians","formatter":{"id":"1748"},"title":"Radians","width":0},"id":"1750","type":"TableColumn"},{"attributes":{"editor":{"id":"1714"},"field":"Lattice lenghts","formatter":{"id":"1712"},"title":"Lattice lenghts","width":0},"id":"1715","type":"TableColumn"},{"attributes":{"children":[{"id":"1504"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00773","sizing_mode":"stretch_width"},"id":"1503","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00454","text":"&lt;p&gt;Compute eps_infinity and Born effective charges from DDB.&lt;/p&gt;"},"id":"1527","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00775","sizing_mode":"stretch_width","text":"Help"},"id":"1504","type":"panel.models.markup.HTML"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Verbose","value":0,"value_throttled":0},"id":"1809","type":"Spinner"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1507"},{"id":"1509"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00778"},"id":"1506","type":"panel.models.layout.Card"},{"attributes":{"source":{"id":"1763"}},"id":"1778","type":"CDSView"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1516","type":"Select"},{"attributes":{"children":[{"id":"1508"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00777","sizing_mode":"stretch_width"},"id":"1507","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00835","sizing_mode":"stretch_width","text":"Warning"},"id":"1664","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1549"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00789","sizing_mode":"stretch_width"},"id":"1548","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1644","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1664"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00833","sizing_mode":"stretch_width"},"id":"1663","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00492","text":"&lt;h3&gt;epsilon_0&lt;/h3&gt;"},"id":"1537","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1739","type":"CellEditor"},{"attributes":{"format":"0,0.0[00000]"},"id":"1748","type":"NumberFormatter"},{"attributes":{},"id":"1771","type":"StringFormatter"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00791","sizing_mode":"stretch_width","text":"Help"},"id":"1549","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1712","type":"StringFormatter"},{"attributes":{"margin":[5,5,5,5],"name":"Str00692"},"id":"1667","type":"panel.models.markup.HTML"},{"attributes":{"child":{"id":"1600"},"name":"Row00622","title":"DOS vs q-mesh"},"id":"1623","type":"Panel"},{"attributes":{"children":[{"id":"1650"},{"id":"1651"},{"id":"1652"},{"id":"1653"},{"id":"1654"},{"id":"1655"}],"margin":[0,0,0,0],"name":"Column00689"},"id":"1649","type":"Column"},{"attributes":{"low":1e-20,"margin":[5,10,5,10],"placeholder":"0","step":0.1,"title":"Gamma ev","value":0.0001,"value_throttled":0.0001},"id":"1519","type":"Spinner"},{"attributes":{"end":1.0,"margin":[5,10,5,10],"start":0.0,"step":0.1,"title":"W range","value":[0.0,0.1]},"id":"1542","type":"RangeSlider"},{"attributes":{"children":[{"id":"1639"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00821","sizing_mode":"stretch_width"},"id":"1638","type":"Row"},{"attributes":{"child":{"id":"1648"},"name":"Row00695","title":"IFCs"},"id":"1668","type":"Panel"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00779","sizing_mode":"stretch_width","text":"Warning"},"id":"1508","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1649"},{"id":"1666"}],"margin":[0,0,0,0],"name":"Row00695"},"id":"1648","type":"Row"},{"attributes":{"low":1,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Mpi procs","value":1,"value_throttled":1},"id":"1808","type":"Spinner"},{"attributes":{"source":{"id":"1690"}},"id":"1705","type":"CDSView"},{"attributes":{"columns":[{"id":"1695"},{"id":"1700"}],"height":190,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1690"},"view":{"id":"1705"}},"id":"1703","type":"DataTable"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00823","sizing_mode":"stretch_width","text":"Help"},"id":"1639","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1601"},{"id":"1621"}],"margin":[0,0,0,0],"name":"Row00622"},"id":"1600","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00722","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1757","type":"Div"},{"attributes":{"editor":{"id":"1744"},"field":"Degrees","formatter":{"id":"1743"},"title":"Degrees","width":0},"id":"1745","type":"TableColumn"},{"attributes":{},"id":"1772","type":"StringEditor"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot eps0(omega)","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1543","type":"Button"},{"attributes":{"editor":{"id":"1699"},"field":"0","formatter":{"id":"1698"},"title":"0","width":0},"id":"1700","type":"TableColumn"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00701","text":"&lt;h3&gt;Visualize structure&lt;/h3&gt;"},"id":"1671","type":"panel.models.markup.HTML"},{"attributes":{"data":{"0":["NaN","P-6m2",187,"hexagonal"],"index":["abi_spg_number","spglib_symb","spglib_num","spglib_lattice_type"]},"selected":{"id":"1691"},"selection_policy":{"id":"1839"}},"id":"1690","type":"ColumnDataSource"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1517","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1548"},{"id":"1550"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00790"},"id":"1547","type":"panel.models.layout.Card"},{"attributes":{"indices":[]},"id":"1691","type":"Selection"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1518","type":"Select"},{"attributes":{},"id":"1699","type":"StringEditor"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00458","text":"&lt;h3&gt;Born effective charges options&lt;/h3&gt;"},"id":"1515","type":"panel.models.markup.HTML"},{"attributes":{"columns":[{"id":"1715"},{"id":"1720"},{"id":"1725"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1710"},"view":{"id":"1730"}},"id":"1728","type":"DataTable"},{"attributes":{},"id":"1714","type":"CellEditor"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1663"},{"id":"1665"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00834"},"id":"1662","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00628","text":"&lt;h3&gt;Quadrupoles options&lt;/h3&gt;"},"id":"1626","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1694","type":"CellEditor"},{"attributes":{"editor":{"id":"1694"},"field":"index","formatter":{"id":"1692"},"title":"index","width":0},"id":"1695","type":"TableColumn"},{"attributes":{"source":{"id":"1735"}},"id":"1755","type":"CDSView"},{"attributes":{"indices":[]},"id":"1711","type":"Selection"},{"attributes":{},"id":"1692","type":"StringFormatter"},{"attributes":{},"id":"1744","type":"NumberEditor"},{"attributes":{"children":[{"id":"1587"},{"id":"1588"}],"margin":[0,0,0,0],"name":"Column00555"},"id":"1586","type":"Column"},{"attributes":{},"id":"1787","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1646"}],"margin":[0,0,0,0],"name":"Row00665"},"id":"1645","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00723","text":"&lt;h1&gt;Lattice angles:&lt;/h1&gt;"},"id":"1733","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1574"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00801","sizing_mode":"stretch_width"},"id":"1573","type":"Row"},{"attributes":{"client_comm_id":"9bc8490522aa48bba872efa1d58ca721","comm_id":"8a19348c43d740f5b8b5a2fa534862ab","plot_id":"1483"},"id":"1873","type":"panel.models.comm_manager.CommManager"},{"attributes":{"children":[{"id":"1626"},{"id":"1627"},{"id":"1628"},{"id":"1629"},{"id":"1630"},{"id":"1631"},{"id":"1632"},{"id":"1633"},{"id":"1634"}],"margin":[0,0,0,0],"name":"Column00660"},"id":"1625","type":"Column"},{"attributes":{"children":[{"id":"1798"},{"id":"1802"}],"margin":[0,0,0,0],"name":"Column00730","sizing_mode":"stretch_both"},"id":"1784","type":"Column"},{"attributes":{"margin":[0,0,0,0],"tabs":[{"id":"1485"},{"id":"1512"},{"id":"1534"},{"id":"1557"},{"id":"1578"},{"id":"1599"},{"id":"1623"},{"id":"1647"},{"id":"1668"},{"id":"1803"},{"id":"1836"}]},"id":"1483","type":"Tabs"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1552"},{"id":"1554"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00794"},"id":"1551","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00585","text":"&lt;p&gt;Compare phonon DOSes computed with/without the inclusion\nof the dipole-quadrupole and quadrupole-quadrupole terms in the dynamical matrix.\nRequires DDB file with eps_inf, BECS and dynamical quadrupoles.&lt;/p&gt;"},"id":"1616","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00527","text":"&lt;p&gt;Compute the speed of sound by fitting phonon frequencies\nalong selected directions by linear least-squares fit.&lt;/p&gt;"},"id":"1571","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1553"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00793","sizing_mode":"stretch_width"},"id":"1552","type":"Row"},{"attributes":{},"id":"1837","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1482"}],"margin":[0,0,0,0],"name":"Row00398"},"id":"1484","type":"Row"},{"attributes":{"children":[{"id":"1670"},{"id":"1684"}],"margin":[0,0,0,0],"name":"Row00740"},"id":"1669","type":"Row"},{"attributes":{"children":[{"id":"1643"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00825","sizing_mode":"stretch_width"},"id":"1642","type":"Row"},{"attributes":{"child":{"id":"1669"},"name":"Row00740","title":"Structure"},"id":"1803","type":"Panel"},{"attributes":{"margin":[5,5,5,5],"name":"Str00580"},"id":"1598","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1794","type":"StringEditor"},{"attributes":{"child":{"id":"1484"},"name":"Row00398","title":"Summary"},"id":"1485","type":"Panel"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00795","sizing_mode":"stretch_width","text":"Warning"},"id":"1553","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1620","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00767","text":"&lt;h2&gt;Software stack:&lt;/h2&gt;"},"id":"1811","type":"panel.models.markup.HTML"},{"attributes":{"margin":[0,0,0,0],"name":"Column00737"},"id":"1686","type":"Column"},{"attributes":{"children":[{"id":"1671"},{"id":"1672"},{"id":"1673"}],"margin":[0,0,0,0],"name":"Column00708"},"id":"1670","type":"Column"},{"attributes":{"children":[{"id":"1686"}],"margin":[0,0,0,0],"name":"Row00736"},"id":"1685","type":"Row"},{"attributes":{"children":[{"id":"1487"},{"id":"1510"}],"margin":[0,0,0,0],"name":"Row00452"},"id":"1486","type":"Row"},{"attributes":{"child":{"id":"1486"},"name":"Row00452","title":"PH-bands"},"id":"1512","type":"Panel"},{"attributes":{"button_type":"primary","icon":null,"label":"Compute phonons with/wo ASR and DIPDIP","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1585","type":"Button"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00589","text":"&lt;h3&gt;DOS vs q-mesh options&lt;/h3&gt;"},"id":"1602","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1529"},{"id":"1531"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00786"},"id":"1528","type":"panel.models.layout.Card"},{"attributes":{"source":{"id":"1785"}},"id":"1800","type":"CDSView"},{"attributes":{"children":[{"id":"1488"},{"id":"1489"},{"id":"1490"},{"id":"1491"},{"id":"1492"},{"id":"1493"},{"id":"1494"},{"id":"1495"},{"id":"1496"},{"id":"1497"},{"id":"1498"},{"id":"1499"}],"margin":[0,0,0,0],"name":"Column00446"},"id":"1487","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00718","text":"&lt;h1&gt;Lattice lengths:&lt;/h1&gt;"},"id":"1708","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1580"},{"id":"1597"}],"margin":[0,0,0,0],"name":"Row00583"},"id":"1579","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00731","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1802","type":"Div"},{"attributes":{"children":[{"id":"1511"}],"margin":[0,0,0,0],"name":"Row00451"},"id":"1510","type":"Row"},{"attributes":{"children":[{"id":"1530"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00785","sizing_mode":"stretch_width"},"id":"1529","type":"Row"},{"attributes":{"child":{"id":"1579"},"name":"Row00583","title":"ASR & DIPDIP"},"id":"1599","type":"Panel"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00531","text":"&lt;h3&gt;Speed of sound options&lt;/h3&gt;"},"id":"1560","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00787","sizing_mode":"stretch_width","text":"Warning"},"id":"1530","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1811"},{"id":"1812"}],"margin":[0,0,0,0],"name":"Column00769","sizing_mode":"scale_width"},"id":"1810","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1642"},{"id":"1644"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00826"},"id":"1641","type":"panel.models.layout.Card"},{"attributes":{"editor":{"id":"1724"},"field":"Bohr","formatter":{"id":"1723"},"title":"Bohr","width":0},"id":"1725","type":"TableColumn"},{"attributes":{"child":{"id":"1804"},"name":"Row00770","title":"Global"},"id":"1836","type":"Panel"},{"attributes":{},"id":"1793","type":"StringFormatter"},{"attributes":{"children":[{"id":"1688"},{"id":"1689"},{"id":"1708"},{"id":"1709"},{"id":"1733"},{"id":"1734"},{"id":"1758"}],"margin":[0,0,0,0],"name":"Column00709","sizing_mode":"scale_width"},"id":"1687","type":"Column"},{"attributes":{"children":[{"id":"1728"},{"id":"1732"}],"margin":[0,0,0,0],"name":"Column00716","sizing_mode":"stretch_both"},"id":"1709","type":"Column"},{"attributes":{"editor":{"id":"1739"},"field":"Lattice angles","formatter":{"id":"1737"},"title":"Lattice angles","width":0},"id":"1740","type":"TableColumn"},{"attributes":{"format":"0,0.0[00000]"},"id":"1723","type":"NumberFormatter"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1603","type":"Select"},{"attributes":{"children":[{"id":"1805"},{"id":"1810"}],"margin":[0,0,0,0],"name":"Row00770"},"id":"1804","type":"Row"},{"attributes":{"children":[{"id":"1806"},{"id":"1807"},{"id":"1808"},{"id":"1809"}],"margin":[0,0,0,0],"name":"Column00758"},"id":"1805","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00560","text":"&lt;h3&gt;ASR &amp;amp; DIPDIP options&lt;/h3&gt;"},"id":"1581","type":"panel.models.markup.HTML"},{"attributes":{"data":{"Bohr":{"__ndarray__":"qO9L9uNEB0Co70v240QHQNEpUKU5QQVA","dtype":"float64","order":"little","shape":[3]},"Lattice lenghts":["a","b","c"],"\u212b":{"__ndarray__":"1OYcIHL8FUDU5hwgcvwVQOj/AHQ2FRRA","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1711"},"selection_policy":{"id":"1841"}},"id":"1710","type":"ColumnDataSource"},{"attributes":{"data":{"frac_coords":[[0.33333333333333,0.66666666666667,0.5]],"site_idx":[1]},"selected":{"id":"1786"},"selection_policy":{"id":"1847"}},"id":"1785","type":"ColumnDataSource"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1584","type":"Select"},{"attributes":{},"id":"1737","type":"StringFormatter"},{"attributes":{},"id":"1789","type":"CellEditor"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1659"},{"id":"1661"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00830"},"id":"1658","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1575","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00717","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1732","type":"Div"},{"attributes":{"editor":{"id":"1794"},"field":"frac_coords","formatter":{"id":"1793"},"title":"frac_coords","width":0},"id":"1795","type":"TableColumn"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00799","sizing_mode":"stretch_width","text":"Help"},"id":"1570","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00697","text":"&lt;p&gt;Visualize input structure.&lt;/p&gt;"},"id":"1679","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1569"},{"id":"1571"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00798"},"id":"1568","type":"panel.models.layout.Card"},{"attributes":{"source":{"id":"1710"}},"id":"1730","type":"CDSView"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00851","sizing_mode":"stretch_width","text":"Coordinates of O sites:"},"id":"1783","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1573"},{"id":"1575"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00802"},"id":"1572","type":"panel.models.layout.Card"},{"attributes":{"child":{"id":"1624"},"name":"Row00666","title":"Quadrupoles"},"id":"1647","type":"Panel"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1651","type":"Select"},{"attributes":{},"id":"1724","type":"NumberEditor"},{"attributes":{"columns":[{"id":"1790"},{"id":"1795"}],"height":70,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1785"},"view":{"id":"1800"}},"id":"1798","type":"DataTable"},{"attributes":{"children":[{"id":"1559"},{"id":"1576"}],"margin":[0,0,0,0],"name":"Row00554"},"id":"1558","type":"Row"},{"attributes":{"child":{"id":"1558"},"name":"Row00554","title":"Speed of sound"},"id":"1578","type":"Panel"},{"attributes":{},"id":"1719","type":"NumberEditor"},{"attributes":{"editor":{"id":"1719"},"field":"\u212b","formatter":{"id":"1718"},"title":"\u212b","width":0},"id":"1720","type":"TableColumn"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00803","sizing_mode":"stretch_width","text":"Warning"},"id":"1574","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1560"},{"id":"1561"},{"id":"1562"},{"id":"1563"},{"id":"1564"},{"id":"1565"}],"margin":[0,0,0,0],"name":"Column00548"},"id":"1559","type":"Column"},{"attributes":{"children":[{"id":"1581"},{"id":"1582"},{"id":"1583"},{"id":"1584"},{"id":"1585"},{"id":"1586"}],"margin":[0,0,0,0],"name":"Column00577"},"id":"1580","type":"Column"},{"attributes":{"children":[{"id":"1577"}],"margin":[0,0,0,0],"name":"Row00553"},"id":"1576","type":"Row"},{"attributes":{"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Ndivsm","value":5,"value_throttled":5},"id":"1583","type":"Spinner"},{"attributes":{"columns":[{"id":"1740"},{"id":"1745"},{"id":"1750"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1735"},"view":{"id":"1755"}},"id":"1753","type":"DataTable"},{"attributes":{"indices":[]},"id":"1786","type":"Selection"},{"attributes":{"children":[{"id":"1658"},{"id":"1662"}],"margin":[0,0,0,0],"name":"Accordion00670"},"id":"1657","type":"Column"},{"attributes":{"children":[{"id":"1570"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00797","sizing_mode":"stretch_width"},"id":"1569","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00827","sizing_mode":"stretch_width","text":"Warning"},"id":"1643","type":"panel.models.markup.HTML"},{"attributes":{"format":"0,0.0[00000]"},"id":"1718","type":"NumberFormatter"},{"attributes":{"low":1,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Nqsmall","value":10,"value_throttled":10},"id":"1582","type":"Spinner"},{"attributes":{"children":[{"id":"1566"},{"id":"1567"}],"margin":[0,0,0,0],"name":"Column00526"},"id":"1565","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1554","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00819","sizing_mode":"stretch_width","text":"Warning"},"id":"1619","type":"panel.models.markup.HTML"},{"attributes":{"button_type":"primary","icon":null,"label":"Calculate speed of sound","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1564","type":"Button"},{"attributes":{"children":[{"id":"1619"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00817","sizing_mode":"stretch_width"},"id":"1618","type":"Row"},{"attributes":{"children":[{"id":"1536"},{"id":"1555"}],"margin":[0,0,0,0],"name":"Row00525"},"id":"1535","type":"Row"},{"attributes":{"children":[{"id":"1660"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00829","sizing_mode":"stretch_width"},"id":"1659","type":"Row"},{"attributes":{"child":{"id":"1535"},"name":"Row00525","title":"eps0"},"id":"1557","type":"Panel"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1604","type":"Select"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00831","sizing_mode":"stretch_width","text":"Help"},"id":"1660","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1618"},{"id":"1620"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00818"},"id":"1617","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00404","text":"&lt;h3&gt;PH-bands options&lt;/h3&gt;"},"id":"1488","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Str00551"},"id":"1577","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00559","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1587","type":"Div"},{"attributes":{"children":[{"id":"1537"},{"id":"1538"},{"id":"1539"},{"id":"1540"},{"id":"1541"},{"id":"1542"},{"id":"1543"},{"id":"1544"}],"margin":[0,0,0,0],"name":"Column00519"},"id":"1536","type":"Column"},{"attributes":{"children":[{"id":"1556"}],"margin":[0,0,0,0],"name":"Row00524"},"id":"1555","type":"Row"},{"attributes":{"children":[{"id":"1625"},{"id":"1645"}],"margin":[0,0,0,0],"name":"Row00666"},"id":"1624","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1540","type":"Select"},{"attributes":{"children":[{"id":"1598"}],"margin":[0,0,0,0],"name":"Row00582"},"id":"1597","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1652","type":"Select"},{"attributes":{"children":[{"id":"1568"},{"id":"1572"}],"margin":[0,0,0,0],"name":"Accordion00529"},"id":"1567","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1653","type":"Select"},{"attributes":{"low":1e-20,"margin":[5,10,5,10],"placeholder":"0","step":0.1,"title":"Gamma ev","value":0.0001,"value_throttled":0.0001},"id":"1541","type":"Spinner"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00530","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1566","type":"Div"},{"attributes":{"children":[{"id":"1589"},{"id":"1593"}],"margin":[0,0,0,0],"name":"Accordion00558"},"id":"1588","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1531","type":"panel.models.markup.HTML"},{"attributes":{"button_type":"primary","icon":null,"label":"Compute IFC(R)","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1654","type":"Button"},{"attributes":{"children":[{"id":"1656"},{"id":"1657"}],"margin":[0,0,0,0],"name":"Column00667"},"id":"1655","type":"Column"},{"attributes":{"children":[{"id":"1667"}],"margin":[0,0,0,0],"name":"Row00694"},"id":"1666","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00671","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1656","type":"Div"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1561","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1562","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1563","type":"Select"},{"attributes":{"columns":[{"id":"1768"},{"id":"1773"}],"height":70,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1763"},"view":{"id":"1778"}},"id":"1776","type":"DataTable"},{"attributes":{"data":{"frac_coords":[[0.0,0.0,0.0]],"site_idx":[0]},"selected":{"id":"1764"},"selection_policy":{"id":"1845"}},"id":"1763","type":"ColumnDataSource"},{"attributes":{},"id":"1767","type":"CellEditor"},{"attributes":{"children":[{"id":"1831"},{"id":"1832"},{"id":"1833"},{"id":"1834"}],"margin":[0,0,0,0],"name":"Row00765","sizing_mode":"scale_width"},"id":"1830","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00766","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1835","type":"Div"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00843","sizing_mode":"stretch_width","text":"Warning"},"id":"1682","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1753"},{"id":"1757"}],"margin":[0,0,0,0],"name":"Column00721","sizing_mode":"stretch_both"},"id":"1734","type":"Column"},{"attributes":{"auto":true,"filename":"data.xlsx","label":"Download data.xlsx","margin":[5,10,5,10]},"id":"1831","type":"panel.models.widgets.FileDownload"},{"attributes":{"auto":true,"filename":"data.tex","label":"Download data.tex","margin":[5,10,5,10]},"id":"1832","type":"panel.models.widgets.FileDownload"},{"attributes":{"indices":[]},"id":"1764","type":"Selection"},{"attributes":{"children":[{"id":"1776"},{"id":"1780"}],"margin":[0,0,0,0],"name":"Column00727","sizing_mode":"stretch_both"},"id":"1762","type":"Column"},{"attributes":{"auto":true,"filename":"data.md","label":"Download data.md","margin":[5,10,5,10]},"id":"1833","type":"panel.models.widgets.FileDownload"},{"attributes":{"editor":{"id":"1767"},"field":"site_idx","formatter":{"id":"1765"},"title":"site_idx","width":0},"id":"1768","type":"TableColumn"},{"attributes":{"auto":true,"filename":"data.json","label":"Download data.json","margin":[5,10,5,10]},"id":"1834","type":"panel.models.widgets.FileDownload"},{"attributes":{},"id":"1765","type":"NumberFormatter"},{"attributes":{},"id":"1841","type":"UnionRenderers"},{"attributes":{},"id":"1843","type":"UnionRenderers"},{"attributes":{},"id":"1845","type":"UnionRenderers"},{"attributes":{"data":{"Degrees":{"__ndarray__":"AAAAAACAVkAAAAAAAIBWQPXG/////11A","dtype":"float64","order":"little","shape":[3]},"Lattice angles":["alpha","beta","gamma"],"Radians":{"__ndarray__":"GC1EVPsh+T8YLURU+yH5P4pTLThSwQBA","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1736"},"selection_policy":{"id":"1843"}},"id":"1735","type":"ColumnDataSource"},{"attributes":{},"id":"1847","type":"UnionRenderers"},{"attributes":{"format":"0,0.0[00000]"},"id":"1743","type":"NumberFormatter"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1681"},{"id":"1683"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00842"},"id":"1680","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1682"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00841","sizing_mode":"stretch_width"},"id":"1681","type":"Row"},{"attributes":{"children":[{"id":"1759"},{"id":"1781"}],"margin":[0,0,0,0],"name":"Accordion00725","sizing_mode":"stretch_width"},"id":"1758","type":"Column"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00847","sizing_mode":"stretch_width","text":"Coordinates of Mg sites:"},"id":"1761","type":"panel.models.markup.HTML"},{"attributes":{"indices":[]},"id":"1736","type":"Selection"},{"attributes":{},"id":"1815","type":"StringFormatter"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00400","text":"&lt;p&gt;Compute phonon bands and DOS from DDB by invoking Anaddb then plot results.&lt;/p&gt;"},"id":"1505","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1761"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00845","sizing_mode":"stretch_width"},"id":"1760","type":"Row"},{"attributes":{"children":[{"id":"1615"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00813","sizing_mode":"stretch_width"},"id":"1614","type":"Row"},{"attributes":{"button_type":"primary","icon":null,"label":"Compute","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1520","type":"Button"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00488","text":"&lt;p&gt;Compute eps0(omega) from DDB and plot the results.&lt;/p&gt;"},"id":"1550","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1677"},{"id":"1679"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00838"},"id":"1676","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1613"},{"id":"1617"}],"margin":[0,0,0,0],"name":"Accordion00587"},"id":"1612","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00668"},"id":"1661","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00712","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1707","type":"Div"},{"attributes":{"children":[{"id":"1591"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00805","sizing_mode":"stretch_width"},"id":"1590","type":"Row"},{"attributes":{"children":[{"id":"1595"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00809","sizing_mode":"stretch_width"},"id":"1594","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00783","sizing_mode":"stretch_width","text":"Help"},"id":"1526","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1839","type":"UnionRenderers"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00811","sizing_mode":"stretch_width","text":"Warning"},"id":"1595","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1509","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00556","text":"&lt;p&gt;Compare phonon bands and DOSes computed with/without the acoustic sum rule\nand the treatment of the dipole-dipole interaction in the dynamical matrix.\nRequires DDB file with eps_inf, BECS.&lt;/p&gt;"},"id":"1592","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1628","type":"Select"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00627","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1635","type":"Div"},{"attributes":{"margin":[5,5,5,5],"name":"Str00663"},"id":"1646","type":"panel.models.markup.HTML"},{"attributes":{"data":{"Package":["system","python_version","numpy","scipy","netCDF4","apscheduler","pydispatch","yaml","boken","panel","plotly","ase","phonopy","monty","pymatgen","abipy"],"version":["Darwin","3.7.0","1.20.2","1.6.2","1.5.6","3.7.0","2.0.5","5.4.1","2.3.1","0.11.3","4.14.3","3.21.1","2.9.3","2021.3.3","2022.0.5","0.9.1"]},"selected":{"id":"1814"},"selection_policy":{"id":"1837"}},"id":"1813","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1526"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00781","sizing_mode":"stretch_width"},"id":"1525","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00839","sizing_mode":"stretch_width","text":"Help"},"id":"1678","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1538","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1596","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1594"},{"id":"1596"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00810"},"id":"1593","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1629","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["None","None"],["jsmol","jsmol"],["vesta","vesta"],["xcrysden","xcrysden"],["vtk","vtk"],["crystalk","crystalk"],["ngl","ngl"],["matplotlib","matplotlib"],["plotly","plotly"],["ase_atoms","ase_atoms"],["mayavi","mayavi"]],"title":"Structure viewer"},"id":"1672","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1632","type":"Select"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot PHDos vs Qmesh","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1609","type":"Button"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00672","text":"&lt;h3&gt;IFCs options&lt;/h3&gt;"},"id":"1650","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1539","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["automatic","automatic"],["True","True"],["False","False"]],"title":"Lo to splitting","value":"automatic"},"id":"1630","type":"Select"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00700","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1674","type":"Div"},{"attributes":{"children":[{"id":"1524"},{"id":"1528"}],"margin":[0,0,0,0],"name":"Accordion00456"},"id":"1523","type":"Column"},{"attributes":{"children":[{"id":"1676"},{"id":"1680"}],"margin":[0,0,0,0],"name":"Accordion00699"},"id":"1675","type":"Column"},{"attributes":{"margin":[5,10,5,10],"title":"nsmalls (python list)","value":"[10, 20, 30]"},"id":"1607","type":"TextInput"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1590"},{"id":"1592"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00806"},"id":"1589","type":"panel.models.layout.Card"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1760"},{"id":"1762"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00846","sizing_mode":"stretch_width"},"id":"1759","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00807","sizing_mode":"stretch_width","text":"Help"},"id":"1591","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1674"},{"id":"1675"}],"margin":[0,0,0,0],"name":"Column00696"},"id":"1673","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00457","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1522","type":"Div"},{"attributes":{"children":[{"id":"1522"},{"id":"1523"}],"margin":[0,0,0,0],"name":"Column00453"},"id":"1521","type":"Column"},{"attributes":{"children":[{"id":"1678"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00837","sizing_mode":"stretch_width"},"id":"1677","type":"Row"},{"attributes":{"children":[{"id":"1685"},{"id":"1687"}],"margin":[0,0,0,0],"name":"Column00739"},"id":"1684","type":"Column"},{"attributes":{"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Ndivsm","value":5,"value_throttled":5},"id":"1631","type":"Spinner"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00097","text":"&lt;p&gt;Please &lt;strong&gt;refresh&lt;/strong&gt; the page using the refresh button of the browser if plotly figures are not shown.&lt;/p&gt;"},"id":"1665","type":"panel.models.markup.HTML"},{"attributes":{"source":{"id":"1813"}},"id":"1828","type":"CDSView"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00588","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1611","type":"Div"},{"attributes":{"editor":{"id":"1822"},"field":"version","formatter":{"id":"1821"},"title":"version","width":0},"id":"1823","type":"TableColumn"},{"attributes":{"children":[{"id":"1635"},{"id":"1636"}],"margin":[0,0,0,0],"name":"Column00623"},"id":"1634","type":"Column"},{"attributes":{"low":1,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Nqsmall","value":10,"value_throttled":10},"id":"1489","type":"Spinner"},{"attributes":{"children":[{"id":"1826"},{"id":"1830"},{"id":"1835"}],"margin":[0,0,0,0],"name":"Column00760","sizing_mode":"stretch_both"},"id":"1812","type":"Column"},{"attributes":{"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Ndivsm","value":5,"value_throttled":5},"id":"1490","type":"Spinner"},{"attributes":{"children":[{"id":"1611"},{"id":"1612"}],"margin":[0,0,0,0],"name":"Column00584"},"id":"1610","type":"Column"},{"attributes":{"columns":[{"id":"1818"},{"id":"1823"}],"height":670,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1813"},"view":{"id":"1828"}},"id":"1826","type":"DataTable"},{"attributes":{"margin":[5,5,5,5],"name":"Str00483"},"id":"1533","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Str00619"},"id":"1622","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1817","type":"CellEditor"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1491","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1606","type":"Select"},{"attributes":{},"id":"1822","type":"StringEditor"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00741","text":"&lt;h3&gt;Global options&lt;/h3&gt;"},"id":"1806","type":"panel.models.markup.HTML"},{"attributes":{"indices":[]},"id":"1814","type":"Selection"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1525"},{"id":"1527"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00782"},"id":"1524","type":"panel.models.layout.Card"},{"attributes":{},"id":"1821","type":"StringFormatter"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00815","sizing_mode":"stretch_width","text":"Help"},"id":"1615","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1492","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1605","type":"Select"},{"attributes":{"editor":{"id":"1817"},"field":"Package","formatter":{"id":"1815"},"title":"Package","width":0},"id":"1818","type":"TableColumn"},{"attributes":{"end":1000,"margin":[5,10,5,10],"start":0,"step":0.1,"title":"Temp range","value":[0.0,300.0]},"id":"1608","type":"RangeSlider"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00624","text":"&lt;p&gt;Compare phonon bands and DOSes computed with/without the inclusion\nof the dipole-quadrupole and quadrupole-quadrupole terms in the dynamical matrix.\nRequires DDB file with eps_inf, BECS and dynamical quadrupoles.&lt;/p&gt;"},"id":"1640","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1638"},{"id":"1640"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00822"},"id":"1637","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,10,5,10],"options":[["automatic","automatic"],["True","True"],["False","False"]],"title":"Lo to splitting","value":"automatic"},"id":"1494","type":"Select"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot PHbands with/without quadrupoles","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1633","type":"Button"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1493","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1614"},{"id":"1616"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00814"},"id":"1613","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1637"},{"id":"1641"}],"margin":[0,0,0,0],"name":"Accordion00626"},"id":"1636","type":"Column"}],"root_ids":["1483","1873"]},"title":"Bokeh Application","version":"2.3.1"}};
    var render_items = [{"docid":"24bbfb0f-6b1b-421c-8091-47bfdb0e891a","root_ids":["1483"],"roots":{"1483":"aa0e7647-09fd-45de-9d3a-18897b78f54c"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined  && root['MathJax'] !== undefined ) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined && root['MathJax'] !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div></div>
</div>
<p>The same result can be obtained from the CLI with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>abiopen.py mp-1009129-9x9x10q_ebecs_DDB -nb
</pre></div>
</div>
<p>There are, however, cases in which you don’t need the interactive environment provided
by jupyter notebooks as you are mainly interested in the visualization of the results.
In this case, it is possible to use the command line interface to automatically generate
a dashboard with widgets without having to start a notebook.</p>
<p>To build a dashboard for a <code class="docutils literal notranslate"><span class="pre">Structure</span></code> object extracted from <code class="docutils literal notranslate"><span class="pre">FILE</span></code>, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abistruct</span><span class="o">.</span><span class="n">py</span> <span class="n">panel</span> <span class="n">FILE</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">FILE</span></code> is <strong>any</strong> file providing a <code class="docutils literal notranslate"><span class="pre">Structure</span></code> object
e.g. netcdf files, cif files, abi, abo files etc.</p>
<p>To build a dashboard associated to one of the AbiPy file, use the syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abiopen</span><span class="o">.</span><span class="n">py</span> <span class="n">FILE</span> <span class="o">--</span><span class="n">panel</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">FILE</span></code> is one of the Abinit files supported by <code class="docutils literal notranslate"><span class="pre">abiopen.py</span></code>.
For instance, one can create a dashboard to interact with a <code class="docutils literal notranslate"><span class="pre">DDB</span></code> file with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abiopen</span><span class="o">.</span><span class="n">py</span> <span class="n">out_DDB</span> <span class="o">--</span><span class="n">panel</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>To build a dashboard for an AbiPy Flow use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abirun</span><span class="o">.</span><span class="n">py</span> <span class="n">FLOWDIR</span> <span class="n">panel</span>
</pre></div>
</div>
<p>or alternatively:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abiopen</span><span class="o">.</span><span class="n">py</span> <span class="n">FLOWDIR</span><span class="o">/</span><span class="n">__AbinitFlow__</span><span class="o">.</span><span class="n">pickle</span> <span class="o">--</span><span class="n">panel</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gallery/index.html" class="btn btn-neutral float-right" title="AbiPy Gallery" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="scripts/abirun.html" class="btn btn-neutral float-left" title="abirun.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, M. Giantomassi and the AbiPy group.
      <span class="lastupdated">
        Last updated on Jun 16, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>