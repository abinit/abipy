

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Graphical interface &mdash; abipy 0.9.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="_static/thebelab.css" type="text/css" />
  <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="_static/my_style.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
    <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script> 
    
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="AbiPy Gallery" href="gallery/index.html" />
    <link rel="prev" title="abirun.py" href="scripts/abirun.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> abipy
          

          
          </a>

          
            
            
              <div class="version">
                0.9.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="features.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Getting AbiPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="zzbiblio.html">Bibliography</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="scripts/index.html">Scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Graphical interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gallery/index.html">AbiPy Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_howto.html">Post-processing How-To</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflows/taskmanager.html">TaskManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows/manager_examples.html">Manager Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="flow_gallery/index.html">Flow Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="flows_howto.html">Flows How-To</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_guide.html">Coding guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Documenting AbiPy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">abipy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Graphical interface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/graphical_interface.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="graphical-interface">
<span id="id1"></span><h1>Graphical interface<a class="headerlink" href="#graphical-interface" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>AbiPy provides interactive dashboards that can be used either as a standalone web applications
(<strong>dashboards</strong>) with the <a class="reference external" href="http://docs.bokeh.org/">bokeh server</a> or inside jupyter notebooks.
This document explains how to install the required dependencies and how to
generate dashboards/GUIs either with the command line interface (CLI) or inside jupyter notebooks.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Please note that one needs a <strong>running python backend</strong>
to execute the callbacks triggerered by the GUI widgets.
This part, indeed, is implemented in HTML/CSS/JS code executed
by the frontend (i.e. <strong>your browser</strong>) that sends the signal
to the python server (the <strong>backend</strong>).
The python server is supposed to process the data
and send the results back to the frontend for visualization purposes</p>
<p>Don’t be surprised if you start to click buttons and <strong>nothing happens</strong>!
The examples provided in this page are only meant to show how to build GUI
or dashboards with AbiPy.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Install the <a class="reference external" href="https://panel.pyviz.org/">panel</a>  package either from pip with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install panel
</pre></div>
</div>
<p>or with conda (<strong>recommended</strong>) using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install panel -c conda-forge
</pre></div>
</div>
<p>If you plan to use panel within JupyterLab, you will also need to install
the PyViz JupyterLab extension and activate it with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install -c conda-forge jupyterlab
jupyter labextension install @pyviz/jupyterlab_pyviz
</pre></div>
</div>
</div>
<div class="section" id="basic-usage">
<h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>Several AbiPy objects provide a <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> method returning
an object that can be displayed inside the jupyter notebook or inside the browser.
When running inside a jupyter notebook, remember enable the integration
with the <code class="docutils literal notranslate"><span class="pre">panel</span></code> infrastructure by executing:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abipy</span> <span class="kn">import</span> <span class="n">abilab</span>
<span class="n">abilab</span><span class="o">.</span><span class="n">abipanel</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">
(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, js_modules, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];
    if (js_modules == null) js_modules = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls.length === 0 && js_modules.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length + js_modules.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error() {
      console.error("failed to load " + url);
    }

    for (var i = 0; i < css_urls.length; i++) {
      var url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error;
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    var skip = [];
    if (window.requirejs) {
      window.requirejs.config({'paths': {'tabulator': 'https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator'}});
      window.requirejs.config({'paths': {'plotly': 'https://cdn.plot.ly/plotly-latest.min'}});
      window.requirejs.config({'paths': {'mathjax': '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML'}, 'shim': {'mathjax': {'exports': 'MathJax'}}});
      window.requirejs.config({'paths': {'ace': '//cdnjs.cloudflare.com/ajax/libs/ace/1.4.7'}, 'shim': {'ace/ext-language_tools': {'deps': ['ace/ace']}, 'ace/ext-modelist': {'deps': ['ace/ace']}}});
      require(["tabulator", "plotly", "ace/ace", "ace/ext-language_tools"], function(Tabulator,Plotly,ace,) {
        window.Tabulator = Tabulator;
        window.Plotly = Plotly;
        window.ace = ace;
      })
    }
    if (((window['tabulator'] !== undefined) && (!(window['tabulator'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.js', 'https://unpkg.com/moment@2.27.0/moment.js'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }
    if (((window['Plotly'] !== undefined) && (!(window['Plotly'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://cdn.plot.ly/plotly-latest.min.js'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }
    if (((window['MathJax'] !== undefined) && (!(window['MathJax'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }
    if (((window['ace'] !== undefined) && (!(window['ace'] instanceof HTMLElement))) || window.requirejs) {
      var urls = ['https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/ace.js', 'https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/ext-language_tools.js', 'https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/ext-modelist.js'];
      for (var i = 0; i < urls.length; i++) {
        skip.push(urls[i])
      }
    }
    for (var i = 0; i < js_urls.length; i++) {
      var url = js_urls[i];
      if (skip.indexOf(url) >= 0) { on_load(); continue; }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    for (var i = 0; i < js_modules.length; i++) {
      var url = js_modules[i];
      if (skip.indexOf(url) >= 0) { on_load(); continue; }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      element.type = "module";
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    if (!js_urls.length && !js_modules.length) {
      on_load()
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  var js_urls = ["https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/ace.js", "https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/ext-language_tools.js", "https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/ext-modelist.js", "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML", "https://code.jquery.com/jquery-3.4.1.min.js", "https://cdn.plot.ly/plotly-latest.min.js", "https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.js", "https://unpkg.com/moment@2.27.0/moment.js", "https://cdn.bokeh.org/bokeh/release/bokeh-2.3.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.1.min.js", "https://unpkg.com/@holoviz/panel@^0.11.3/dist/panel.min.js"];
  var js_modules = [];
  var css_urls = ["https://unpkg.com/tabulator-tables@4.9.3/dist/css/tabulator_simple.min.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/alerts.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/card.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/widgets.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/markdown.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/json.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/loading.css", "https://unpkg.com/@holoviz/panel@0.11.3/dist/css/dataframe.css"];
  var inline_js = [
    function(Bokeh) {
      inject_raw_css("\n    .bk.pn-loading.arcs:before {\n      background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4gIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjMyIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZT0iI2MzYzNjMyIgc3Ryb2tlLWRhc2hhcnJheT0iNTAuMjY1NDgyNDU3NDM2NjkgNTAuMjY1NDgyNDU3NDM2NjkiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+ICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCI+PC9hbmltYXRlVHJhbnNmb3JtPiAgPC9jaXJjbGU+PC9zdmc+\")\n    }\n    ");
    },
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    function(Bokeh) {} // ensure no trailing comma for IE
  ];

  function run_inline_js() {
    if ((root.Bokeh !== undefined) || (force === true)) {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i].call(root, root.Bokeh);
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, js_modules, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script><script type="application/javascript">
if ((window.PyViz === undefined) || (window.PyViz instanceof HTMLElement)) {
  window.PyViz = {comms: {}, comm_status:{}, kernels:{}, receivers: {}, plot_index: []}
}


    function JupyterCommManager() {
    }

    JupyterCommManager.prototype.register_target = function(plot_id, comm_id, msg_handler) {
      if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        comm_manager.register_target(comm_id, function(comm) {
          comm.on_msg(msg_handler);
        });
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        window.PyViz.kernels[plot_id].registerCommTarget(comm_id, function(comm) {
          comm.onMsg = msg_handler;
        });
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        google.colab.kernel.comms.registerTarget(comm_id, (comm) => {
          var messages = comm.messages[Symbol.asyncIterator]();
          function processIteratorResult(result) {
            var message = result.value;
            console.log(message)
            var content = {data: message.data, comm_id};
            var buffers = []
            for (var buffer of message.buffers || []) {
              buffers.push(new DataView(buffer))
            }
            var metadata = message.metadata || {};
            var msg = {content, buffers, metadata}
            msg_handler(msg);
            return messages.next().then(processIteratorResult);
          }
          return messages.next().then(processIteratorResult);
        })
      }
    }

    JupyterCommManager.prototype.get_client_comm = function(plot_id, comm_id, msg_handler) {
      if (comm_id in window.PyViz.comms) {
        return window.PyViz.comms[comm_id];
      } else if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        var comm = comm_manager.new_comm(comm_id, {}, {}, {}, comm_id);
        if (msg_handler) {
          comm.on_msg(msg_handler);
        }
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        var comm = window.PyViz.kernels[plot_id].connectToComm(comm_id);
        comm.open();
        if (msg_handler) {
          comm.onMsg = msg_handler;
        }
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        var comm_promise = google.colab.kernel.comms.open(comm_id)
        comm_promise.then((comm) => {
          window.PyViz.comms[comm_id] = comm;
          if (msg_handler) {
            var messages = comm.messages[Symbol.asyncIterator]();
            function processIteratorResult(result) {
              var message = result.value;
              var content = {data: message.data};
              var metadata = message.metadata || {comm_id};
              var msg = {content, metadata}
              msg_handler(msg);
              return messages.next().then(processIteratorResult);
            }
            return messages.next().then(processIteratorResult);
          }
        }) 
        var sendClosure = (data, metadata, buffers, disposeOnDone) => {
          return comm_promise.then((comm) => {
            comm.send(data, metadata, buffers, disposeOnDone);
          });
        };
        var comm = {
          send: sendClosure
        };
      }
      window.PyViz.comms[comm_id] = comm;
      return comm;
    }
    window.PyViz.comm_manager = new JupyterCommManager();
    


var JS_MIME_TYPE = 'application/javascript';
var HTML_MIME_TYPE = 'text/html';
var EXEC_MIME_TYPE = 'application/vnd.holoviews_exec.v0+json';
var CLASS_NAME = 'output';

/**
 * Render data to the DOM node
 */
function render(props, node) {
  var div = document.createElement("div");
  var script = document.createElement("script");
  node.appendChild(div);
  node.appendChild(script);
}

/**
 * Handle when a new output is added
 */
function handle_add_output(event, handle) {
  var output_area = handle.output_area;
  var output = handle.output;
  if ((output.data == undefined) || (!output.data.hasOwnProperty(EXEC_MIME_TYPE))) {
    return
  }
  var id = output.metadata[EXEC_MIME_TYPE]["id"];
  var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);
  if (id !== undefined) {
    var nchildren = toinsert.length;
    var html_node = toinsert[nchildren-1].children[0];
    html_node.innerHTML = output.data[HTML_MIME_TYPE];
    var scripts = [];
    var nodelist = html_node.querySelectorAll("script");
    for (var i in nodelist) {
      if (nodelist.hasOwnProperty(i)) {
        scripts.push(nodelist[i])
      }
    }

    scripts.forEach( function (oldScript) {
      var newScript = document.createElement("script");
      var attrs = [];
      var nodemap = oldScript.attributes;
      for (var j in nodemap) {
        if (nodemap.hasOwnProperty(j)) {
          attrs.push(nodemap[j])
        }
      }
      attrs.forEach(function(attr) { newScript.setAttribute(attr.name, attr.value) });
      newScript.appendChild(document.createTextNode(oldScript.innerHTML));
      oldScript.parentNode.replaceChild(newScript, oldScript);
    });
    if (JS_MIME_TYPE in output.data) {
      toinsert[nchildren-1].children[1].textContent = output.data[JS_MIME_TYPE];
    }
    output_area._hv_plot_id = id;
    if ((window.Bokeh !== undefined) && (id in Bokeh.index)) {
      window.PyViz.plot_index[id] = Bokeh.index[id];
    } else {
      window.PyViz.plot_index[id] = null;
    }
  } else if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
    var bk_div = document.createElement("div");
    bk_div.innerHTML = output.data[HTML_MIME_TYPE];
    var script_attrs = bk_div.children[0].attributes;
    for (var i = 0; i < script_attrs.length; i++) {
      toinsert[toinsert.length - 1].childNodes[1].setAttribute(script_attrs[i].name, script_attrs[i].value);
    }
    // store reference to server id on output_area
    output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
  }
}

/**
 * Handle when an output is cleared or removed
 */
function handle_clear_output(event, handle) {
  var id = handle.cell.output_area._hv_plot_id;
  var server_id = handle.cell.output_area._bokeh_server_id;
  if (((id === undefined) || !(id in PyViz.plot_index)) && (server_id !== undefined)) { return; }
  var comm = window.PyViz.comm_manager.get_client_comm("hv-extension-comm", "hv-extension-comm", function () {});
  if (server_id !== null) {
    comm.send({event_type: 'server_delete', 'id': server_id});
    return;
  } else if (comm !== null) {
    comm.send({event_type: 'delete', 'id': id});
  }
  delete PyViz.plot_index[id];
  if ((window.Bokeh !== undefined) & (id in window.Bokeh.index)) {
    var doc = window.Bokeh.index[id].model.document
    doc.clear();
    const i = window.Bokeh.documents.indexOf(doc);
    if (i > -1) {
      window.Bokeh.documents.splice(i, 1);
    }
  }
}

/**
 * Handle kernel restart event
 */
function handle_kernel_cleanup(event, handle) {
  delete PyViz.comms["hv-extension-comm"];
  window.PyViz.plot_index = {}
}

/**
 * Handle update_display_data messages
 */
function handle_update_output(event, handle) {
  handle_clear_output(event, {cell: {output_area: handle.output_area}})
  handle_add_output(event, handle)
}

function register_renderer(events, OutputArea) {
  function append_mime(data, metadata, element) {
    // create a DOM node to render to
    var toinsert = this.create_output_subarea(
    metadata,
    CLASS_NAME,
    EXEC_MIME_TYPE
    );
    this.keyboard_manager.register_events(toinsert);
    // Render to node
    var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
    render(props, toinsert[0]);
    element.append(toinsert);
    return toinsert
  }

  events.on('output_added.OutputArea', handle_add_output);
  events.on('output_updated.OutputArea', handle_update_output);
  events.on('clear_output.CodeCell', handle_clear_output);
  events.on('delete.Cell', handle_clear_output);
  events.on('kernel_ready.Kernel', handle_kernel_cleanup);

  OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
    safe: true,
    index: 0
  });
}

if (window.Jupyter !== undefined) {
  try {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;
    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  } catch(err) {
  }
}
</script></div>
</div>
<p><strong>before calling</strong> any AbiPy <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">abipanel</span></code> function is needed to load extensions and javascript packages
required by AbiPy.
This function is just a small wrapper around the official panel API:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>import panel as pn
pn.extension<span class="o">()</span>
</pre></div>
</div>
</div>
<p>At this point, we can start to construct AbiPy objects.
For our first example, we use the <code class="docutils literal notranslate"><span class="pre">abiopen</span></code> function to open a <code class="docutils literal notranslate"><span class="pre">GSR</span></code> file,
then we call <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> to build a set of widgets that allows us to interact
with the <cite>GsrFile</cite>:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abipy</span> <span class="kn">import</span> <span class="n">abilab</span>
<span class="kn">import</span> <span class="nn">abipy.data</span> <span class="k">as</span> <span class="nn">abidata</span>

<span class="n">filename</span> <span class="o">=</span> <span class="n">abidata</span><span class="o">.</span><span class="n">ref_file</span><span class="p">(</span><span class="s2">&quot;si_nscf_GSR.nc&quot;</span><span class="p">)</span>
<span class="n">gsr</span> <span class="o">=</span> <span class="n">abilab</span><span class="o">.</span><span class="n">abiopen</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="n">gsr</span><span class="o">.</span><span class="n">get_panel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id='1003'>





  <div class="bk-root" id="6d033d34-1a41-47e4-8429-f8a439fe9865" data-root-id="1003"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"fb75332c-8c85-4be7-ac7c-5b41bfde7e4b":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"1017"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00177","sizing_mode":"stretch_width"},"id":"1016","type":"Row"},{"attributes":{"editor":{"id":"1077"},"field":"\u212b","formatter":{"id":"1076"},"title":"\u212b","width":0},"id":"1078","type":"TableColumn"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00156","text":"&lt;h1&gt;Lattice lengths:&lt;/h1&gt;"},"id":"1066","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["jsmol","jsmol"],["vesta","vesta"],["xcrysden","xcrysden"],["vtk","vtk"],["crystalk","crystalk"],["ngl","ngl"],["matplotlib","matplotlib"],["plotly","plotly"],["ase_atoms","ase_atoms"],["mayavi","mayavi"]],"title":"Structure viewer","value":"jsmol"},"id":"1029","type":"Select"},{"attributes":{},"id":"1052","type":"CellEditor"},{"attributes":{"children":[{"id":"1034"},{"id":"1038"}],"margin":[0,0,0,0],"name":"Accordion00137"},"id":"1033","type":"Column"},{"attributes":{"format":"0,0.0[00000]"},"id":"1081","type":"NumberFormatter"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00179","sizing_mode":"stretch_width","text":"Help"},"id":"1017","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1102"},"field":"Degrees","formatter":{"id":"1101"},"title":"Degrees","width":0},"id":"1103","type":"TableColumn"},{"attributes":{},"id":"1082","type":"NumberEditor"},{"attributes":{"children":[{"id":"1044"}],"margin":[0,0,0,0],"name":"Row00171"},"id":"1043","type":"Row"},{"attributes":{"editor":{"id":"1082"},"field":"Bohr","formatter":{"id":"1081"},"title":"Bohr","width":0},"id":"1083","type":"TableColumn"},{"attributes":{},"id":"1050","type":"StringFormatter"},{"attributes":{},"id":"1102","type":"NumberEditor"},{"attributes":{"format":"0,0.0[00000]"},"id":"1101","type":"NumberFormatter"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1020"},{"id":"1022"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00182"},"id":"1019","type":"panel.models.layout.Card"},{"attributes":{"source":{"id":"1068"}},"id":"1088","type":"CDSView"},{"attributes":{"children":[{"id":"1021"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00181","sizing_mode":"stretch_width"},"id":"1020","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1035"},{"id":"1037"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00186"},"id":"1034","type":"panel.models.layout.Card"},{"attributes":{},"id":"1125","type":"CellEditor"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00155","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1090","type":"Div"},{"attributes":{"children":[{"id":"1036"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00185","sizing_mode":"stretch_width"},"id":"1035","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1041","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1056","type":"StringFormatter"},{"attributes":{},"id":"1057","type":"StringEditor"},{"attributes":{},"id":"1129","type":"StringFormatter"},{"attributes":{"children":[{"id":"1024"}],"margin":[0,0,0,0],"name":"Row00132"},"id":"1023","type":"Row"},{"attributes":{},"id":"1130","type":"StringEditor"},{"attributes":{"children":[{"id":"1008"},{"id":"1009"},{"id":"1010"},{"id":"1011"},{"id":"1012"}],"margin":[0,0,0,0],"name":"Column00127"},"id":"1007","type":"Column"},{"attributes":{"child":{"id":"1006"},"name":"Row00133","title":"e-Bands"},"id":"1025","type":"Panel"},{"attributes":{"editor":{"id":"1130"},"field":"frac_coords","formatter":{"id":"1129"},"title":"frac_coords","width":0},"id":"1131","type":"TableColumn"},{"attributes":{"editor":{"id":"1057"},"field":"0","formatter":{"id":"1056"},"title":"0","width":0},"id":"1058","type":"TableColumn"},{"attributes":{"editor":{"id":"1052"},"field":"index","formatter":{"id":"1050"},"title":"index","width":0},"id":"1053","type":"TableColumn"},{"attributes":{"children":[{"id":"1007"},{"id":"1023"}],"margin":[0,0,0,0],"name":"Row00133"},"id":"1006","type":"Row"},{"attributes":{"children":[{"id":"1040"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00189","sizing_mode":"stretch_width"},"id":"1039","type":"Row"},{"attributes":{},"id":"1097","type":"CellEditor"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00166","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1138","type":"Div"},{"attributes":{"source":{"id":"1048"}},"id":"1063","type":"CDSView"},{"attributes":{"child":{"id":"1004"},"name":"Row00109","title":"Summary"},"id":"1005","type":"Panel"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1022","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1125"},"field":"site_idx","formatter":{"id":"1123"},"title":"site_idx","width":0},"id":"1126","type":"TableColumn"},{"attributes":{"children":[{"id":"1002"}],"margin":[0,0,0,0],"name":"Row00109"},"id":"1004","type":"Row"},{"attributes":{"editor":{"id":"1097"},"field":"Lattice angles","formatter":{"id":"1095"},"title":"Lattice angles","width":0},"id":"1098","type":"TableColumn"},{"attributes":{},"id":"1141","type":"UnionRenderers"},{"attributes":{},"id":"1147","type":"UnionRenderers"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00150","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1065","type":"Div"},{"attributes":{},"id":"1095","type":"StringFormatter"},{"attributes":{"columns":[{"id":"1098"},{"id":"1103"},{"id":"1108"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1093"},"view":{"id":"1113"}},"id":"1111","type":"DataTable"},{"attributes":{"margin":[0,0,0,0],"sizing_mode":"stretch_width","tabs":[{"id":"1005"},{"id":"1025"},{"id":"1139"}]},"id":"1003","type":"Tabs"},{"attributes":{"columns":[{"id":"1126"},{"id":"1131"}],"height":110,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1121"},"view":{"id":"1136"}},"id":"1134","type":"DataTable"},{"attributes":{},"id":"1123","type":"NumberFormatter"},{"attributes":{"indices":[]},"id":"1094","type":"Selection"},{"attributes":{"children":[{"id":"1061"},{"id":"1065"}],"margin":[0,0,0,0],"name":"Column00149","sizing_mode":"stretch_both"},"id":"1047","type":"Column"},{"attributes":{},"id":"1107","type":"NumberEditor"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00115","text":"&lt;h3&gt;e-Bands Options&lt;/h3&gt;"},"id":"1008","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00139","text":"&lt;h3&gt;Visualize structure&lt;/h3&gt;"},"id":"1028","type":"panel.models.markup.HTML"},{"attributes":{"format":"0,0.0[00000]"},"id":"1106","type":"NumberFormatter"},{"attributes":{"data":{"Degrees":{"__ndarray__":"n2cAAAAATkDBUAAAAABOQGPcAAAAAE5A","dtype":"float64","order":"little","shape":[3]},"Lattice angles":["alpha","beta","gamma"],"Radians":{"__ndarray__":"Ra0tOFLB8D9/oC04UsHwP3zuLThSwfA/","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1094"},"selection_policy":{"id":"1145"}},"id":"1093","type":"ColumnDataSource"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00187","sizing_mode":"stretch_width","text":"Help"},"id":"1036","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1117"}],"margin":[0,0,0,0],"name":"Accordion00163","sizing_mode":"stretch_width"},"id":"1116","type":"Column"},{"attributes":{"children":[{"id":"1111"},{"id":"1115"}],"margin":[0,0,0,0],"name":"Column00159","sizing_mode":"stretch_both"},"id":"1092","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1039"},{"id":"1041"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00190"},"id":"1038","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00160","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1115","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00135","text":"&lt;p&gt;Visualize input structure.&lt;/p&gt;"},"id":"1037","type":"panel.models.markup.HTML"},{"attributes":{"button_type":"primary","icon":null,"label":"View structure","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1030","type":"Button"},{"attributes":{"indices":[]},"id":"1049","type":"Selection"},{"attributes":{"source":{"id":"1121"}},"id":"1136","type":"CDSView"},{"attributes":{"labels":["With gaps"],"margin":[5,10,5,10]},"id":"1009","type":"CheckboxGroup"},{"attributes":{"source":{"id":"1093"}},"id":"1113","type":"CDSView"},{"attributes":{"reload":false},"id":"1189","type":"panel.models.location.Location"},{"attributes":{"children":[{"id":"1043"},{"id":"1045"}],"margin":[0,0,0,0],"name":"Column00172"},"id":"1042","type":"Column"},{"attributes":{"editor":{"id":"1107"},"field":"Radians","formatter":{"id":"1106"},"title":"Radians","width":0},"id":"1108","type":"TableColumn"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00191","sizing_mode":"stretch_width","text":"Warning"},"id":"1040","type":"panel.models.markup.HTML"},{"attributes":{"labels":["Set fermie to vbm"],"margin":[5,10,5,10]},"id":"1010","type":"CheckboxGroup"},{"attributes":{"children":[{"id":"1032"},{"id":"1033"}],"margin":[0,0,0,0],"name":"Column00134"},"id":"1031","type":"Column"},{"attributes":{"indices":[]},"id":"1122","type":"Selection"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot e-bands","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1011","type":"Button"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00111","text":"&lt;p&gt;Button triggering ebands plot.&lt;/p&gt;"},"id":"1018","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1086"},{"id":"1090"}],"margin":[0,0,0,0],"name":"Column00154","sizing_mode":"stretch_both"},"id":"1067","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00138","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1032","type":"Div"},{"attributes":{"data":{"frac_coords":[[0.0,0.0,0.0],[0.25,0.25,0.25]],"site_idx":[0,1]},"selected":{"id":"1122"},"selection_policy":{"id":"1147"}},"id":"1121","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1013"},{"id":"1014"}],"margin":[0,0,0,0],"name":"Column00110"},"id":"1012","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00151","text":"&lt;h1&gt;Spacegroup:&lt;/h1&gt;"},"id":"1046","type":"panel.models.markup.HTML"},{"attributes":{"data":{"Bohr":{"__ndarray__":"xOP/ZZDvDkCKDgBmkO8OQL1M/2WQ7w5A","dtype":"float64","order":"little","shape":[3]},"Lattice lenghts":["a","b","c"],"\u212b":{"__ndarray__":"QZj3UOc6HUCrwPdQ5zodQI4J91DnOh1A","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1069"},"selection_policy":{"id":"1143"}},"id":"1068","type":"ColumnDataSource"},{"attributes":{"client_comm_id":"c437f38069344dc3a4c853398665e3fe","comm_id":"63219efde3b547c488fd79aa6ac7ef9e","plot_id":"1003"},"id":"1164","type":"panel.models.comm_manager.CommManager"},{"attributes":{"columns":[{"id":"1053"},{"id":"1058"}],"height":190,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1048"},"view":{"id":"1063"}},"id":"1061","type":"DataTable"},{"attributes":{"children":[{"id":"1134"},{"id":"1138"}],"margin":[0,0,0,0],"name":"Column00165","sizing_mode":"stretch_both"},"id":"1120","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00114","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1013","type":"Div"},{"attributes":{"indices":[]},"id":"1069","type":"Selection"},{"attributes":{"child":{"id":"1026"},"name":"Row00173","title":"Structure"},"id":"1139","type":"Panel"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00195","sizing_mode":"stretch_width","text":"Coordinates of Si sites:"},"id":"1119","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1015"},{"id":"1019"}],"margin":[0,0,0,0],"name":"Accordion00113"},"id":"1014","type":"Column"},{"attributes":{"children":[{"id":"1027"},{"id":"1042"}],"margin":[0,0,0,0],"name":"Row00173"},"id":"1026","type":"Row"},{"attributes":{},"id":"1145","type":"UnionRenderers"},{"attributes":{"columns":[{"id":"1073"},{"id":"1078"},{"id":"1083"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1068"},"view":{"id":"1088"}},"id":"1086","type":"DataTable"},{"attributes":{},"id":"1070","type":"StringFormatter"},{"attributes":{"margin":[5,5,5,5],"name":"Str00130"},"id":"1024","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00161","text":"&lt;h1&gt;Lattice angles:&lt;/h1&gt;"},"id":"1091","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1119"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00193","sizing_mode":"stretch_width"},"id":"1118","type":"Row"},{"attributes":{"editor":{"id":"1072"},"field":"Lattice lenghts","formatter":{"id":"1070"},"title":"Lattice lenghts","width":0},"id":"1073","type":"TableColumn"},{"attributes":{"children":[{"id":"1028"},{"id":"1029"},{"id":"1030"},{"id":"1031"}],"margin":[0,0,0,0],"name":"Column00146"},"id":"1027","type":"Column"},{"attributes":{"data":{"0":["NaN","Fd-3m",227,"cubic"],"index":["abi_spg_number","spglib_symb","spglib_num","spglib_lattice_type"]},"selected":{"id":"1049"},"selection_policy":{"id":"1141"}},"id":"1048","type":"ColumnDataSource"},{"attributes":{},"id":"1077","type":"NumberEditor"},{"attributes":{},"id":"1072","type":"CellEditor"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1118"},{"id":"1120"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00194","sizing_mode":"stretch_width"},"id":"1117","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00183","sizing_mode":"stretch_width","text":"Warning"},"id":"1021","type":"panel.models.markup.HTML"},{"attributes":{"sizing_mode":"scale_both","text":"================================= File Info =================================\nName: si_nscf_GSR.nc\nDirectory: /Users/gmatteo/git_repos/abipy/abipy/data/refs/si_ebands\nSize: 12.31 kb\nAccess Time: Fri Mar  5 14:27:34 2021\nModification Time: Wed Mar 20 16:53:35 2019\nChange Time: Wed Mar 20 16:53:35 2019\n\n================================= Structure =================================\nFull Formula (Si2)\nReduced Formula: Si\nabc   :   3.866975   3.866975   3.866975\nangles:  60.000000  60.000000  60.000000\nSites (2)\n  #  SP       a     b     c  cartesian_forces\n---  ----  ----  ----  ----  -----------------------------------------------------------\n  0  Si    0     0     0     [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n  1  Si    0.25  0.25  0.25  [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n\nAbinit Spacegroup: spgid: 227, num_spatial_symmetries: 48, has_timerev: True, symmorphic: True\n\nStress tensor (Cartesian coordinates in GPa):\n[[2.94210108e+104 2.94210108e+104 2.94210108e+104]\n [2.94210108e+104 2.94210108e+104 2.94210108e+104]\n [2.94210108e+104 2.94210108e+104 2.94210108e+104]]\n\nPressure: -294210108029007021798593732450854339797442512732257107491275409743734121486157862082944796572910801125376.000 (GPa)\nEnergy: -241.23647031 (eV)\n\n============================== Electronic Bands ==============================\nNumber of electrons: 8.0, Fermi level: 5.598 (eV)\nnsppol: 1, nkpt: 14, mband: 8, nspinor: 1, nspden: 1\nsmearing scheme: none (occopt 1), tsmear_eV: 0.272\nDirect gap:\n    Energy: 2.532 (eV)\n    Initial state: spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 3, eig: 5.598, occ: 2.000\n    Final state:   spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 4, eig: 8.130, occ: 0.000\nFundamental gap:\n    Energy: 0.524 (eV)\n    Initial state: spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 3, eig: 5.598, occ: 2.000\n    Final state:   spin: 0, kpt: [+0.000, +0.429, +0.429], weight: 0.000, band: 4, eig: 6.123, occ: 0.000\nBandwidth: 11.856 (eV)\nValence maximum located at:\n    spin: 0, kpt: [+0.000, +0.000, +0.000], name: $\\Gamma$, weight: 0.000, band: 3, eig: 5.598, occ: 2.000\nConduction minimum located at:\n    spin: 0, kpt: [+0.000, +0.429, +0.429], weight: 0.000, band: 4, eig: 6.123, occ: 0.000\n\nTIP: Call set_fermie_to_vbm() to set the Fermi level to the VBM if this is a non-magnetic semiconductor\n"},"id":"1002","type":"PreText"},{"attributes":{"children":[{"id":"1046"},{"id":"1047"},{"id":"1066"},{"id":"1067"},{"id":"1091"},{"id":"1092"},{"id":"1116"}],"margin":[0,0,0,0],"name":"Column00147","sizing_mode":"scale_width"},"id":"1045","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1016"},{"id":"1018"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00178"},"id":"1015","type":"panel.models.layout.Card"},{"attributes":{"format":"0,0.0[00000]"},"id":"1076","type":"NumberFormatter"},{"attributes":{"margin":[5,5,5,5],"name":"Str00169"},"id":"1044","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1143","type":"UnionRenderers"}],"root_ids":["1003","1164","1189"]},"title":"Bokeh Application","version":"2.3.1"}};
    var render_items = [{"docid":"fb75332c-8c85-4be7-ac7c-5b41bfde7e4b","root_ids":["1003"],"roots":{"1003":"6d033d34-1a41-47e4-8429-f8a439fe9865"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined  && root['MathJax'] !== undefined ) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined && root['MathJax'] !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div></div>
</div>
<p>The <strong>summary</strong> tab provides a string representation of the file
but there is no widget to interact with it.
If you select the <strong>e-Bands</strong> tab, you will see several widgets and a button
that activates the visualization of the KS band energies.
Again, in this HTML page there is no python server running in background so
if you click the <strong>Plot e-bands</strong> button nothing happens (this is not a bug!).</p>
<p>The advantage of this notebook-based approach is that it is possible to mix
the panel GUIs with python code that can be used to perform
more advanced tasks not supported by the GUI.</p>
<p>Obviously it is possible to have multiple panels running in the same notebook.
Calling <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> with an AbiPy structure, for instance, creates a set of widgets
to facilitate common operations such as exporting the structure to a different format or
generating a basic Abinit input file for e.g. GS calculations:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gsr</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">get_panel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id='1216'>





  <div class="bk-root" id="7ae590ec-44be-4852-8230-ff13f4f3be1b" data-root-id="1216"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"863b988c-4d56-4798-8873-18f345e85d06":{"defs":[],"roots":{"references":[{"attributes":{"margin":[5,5,5,5],"name":"Str00357"},"id":"1461","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00376","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1491","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00229","text":"&lt;h3&gt;Spglib options&lt;/h3&gt;"},"id":"1221","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":["primitive","primitive_standard","no_primitive"],"title":"Select primitive","value":"primitive"},"id":"1243","type":"Select"},{"attributes":{"button_type":"primary","icon":null,"label":"Connect to Materials Project","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1490","type":"Button"},{"attributes":{"sizing_mode":"stretch_width","text":"Full Formula (Si2)\nReduced Formula: Si\nabc   :   3.866975   3.866975   3.866975\nangles:  60.000000  60.000000  60.000000\n\nSpglib space group info (magnetic symmetries not taken into account).\nSpacegroup: Fd-3m (227), Hall: F 4d 2 3 -1d, Abinit spg_number: 227\nCrystal_system: cubic, Lattice_type: cubic, Point_group: m-3m\n\n  Idx  Symbol    Reduced_Coords              Wyckoff      EqIdx\n-----  --------  --------------------------  ---------  -------\n    0  Si        +0.00000 +0.00000 +0.00000  (2a)             0\n    1  Si        +0.25000 +0.25000 +0.25000  (2a)             0"},"id":"1215","type":"PreText"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","title":"angtol","value":5,"value_throttled":5},"id":"1242","type":"Spinner"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1228"},{"id":"1230"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00386"},"id":"1227","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1458"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00441","sizing_mode":"stretch_width"},"id":"1457","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":["unpolarized","polarized","non-collinear SOC with magnetism","non-collinear SOC, no magnetism","collinear anti-ferromagnetic"],"title":"SpinMode","value":"unpolarized"},"id":"1466","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1459","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1493"}],"margin":[0,0,0,0],"name":"Row00381"},"id":"1492","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1276","type":"panel.models.markup.HTML"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","step":500,"title":"kppra","value":1000,"value_throttled":1000},"id":"1467","type":"Spinner"},{"attributes":{"margin":[5,5,5,5],"name":"Str00253"},"id":"1258","type":"panel.models.markup.HTML"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","step":5,"title":"line density","value":10,"value_throttled":10},"id":"1264","type":"Spinner"},{"attributes":{"margin":[5,5,5,5],"name":"Str00379"},"id":"1493","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1229"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00385","sizing_mode":"stretch_width"},"id":"1228","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00338","text":"&lt;h3&gt;Generate GS input&lt;/h3&gt;"},"id":"1415","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00399","sizing_mode":"stretch_width","text":"Warning"},"id":"1255","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00439","sizing_mode":"stretch_width","text":"Help"},"id":"1454","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1249"},{"id":"1253"}],"margin":[0,0,0,0],"name":"Accordion00246"},"id":"1248","type":"Column"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00387","sizing_mode":"stretch_width","text":"Help"},"id":"1229","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1498","type":"UnionRenderers"},{"attributes":{"editor":{"id":"1375"},"field":"Degrees","formatter":{"id":"1374"},"title":"Degrees","width":0},"id":"1376","type":"TableColumn"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00247","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1247","type":"Div"},{"attributes":{},"id":"1500","type":"UnionRenderers"},{"attributes":{},"id":"1502","type":"UnionRenderers"},{"attributes":{"margin":[5,10,5,10],"options":[["jsmol","jsmol"],["vesta","vesta"],["xcrysden","xcrysden"],["vtk","vtk"],["crystalk","crystalk"],["ngl","ngl"],["matplotlib","matplotlib"],["plotly","plotly"],["ase_atoms","ase_atoms"],["mayavi","mayavi"]],"title":"Structure viewer","value":"jsmol"},"id":"1302","type":"Select"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00443","sizing_mode":"stretch_width","text":"Warning"},"id":"1458","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1454"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00437","sizing_mode":"stretch_width"},"id":"1453","type":"Row"},{"attributes":{"children":[{"id":"1483"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00449","sizing_mode":"stretch_width"},"id":"1482","type":"Row"},{"attributes":{"children":[{"id":"1452"},{"id":"1456"}],"margin":[0,0,0,0],"name":"Accordion00350"},"id":"1451","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00348","text":"&lt;p&gt;Generate minimalistic input file from band structure calculation.&lt;/p&gt;"},"id":"1455","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1484","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":["abinit","siesta","wannier90"],"title":"format","value":"abinit"},"id":"1263","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1453"},{"id":"1455"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00438"},"id":"1452","type":"panel.models.layout.Card"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1254"},{"id":"1256"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00398"},"id":"1253","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00395","sizing_mode":"stretch_width","text":"Help"},"id":"1251","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1486"}],"margin":[0,0,0,0],"name":"Row00373"},"id":"1485","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1250"},{"id":"1252"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00394"},"id":"1249","type":"panel.models.layout.Card"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1482"},{"id":"1484"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00450"},"id":"1481","type":"panel.models.layout.Card"},{"attributes":{"format":"0,0.0[00000]"},"id":"1379","type":"NumberFormatter"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1391"},{"id":"1393"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00426","sizing_mode":"stretch_width"},"id":"1390","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00248","text":"&lt;h3&gt;Spglib options&lt;/h3&gt;"},"id":"1240","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1255"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00397","sizing_mode":"stretch_width"},"id":"1254","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00362","text":"&lt;p&gt;Generate minimalistic input file from phonon calculations with DFPT.&lt;/p&gt;"},"id":"1480","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00403","sizing_mode":"stretch_width","text":"Help"},"id":"1271","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1392"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00425","sizing_mode":"stretch_width"},"id":"1391","type":"Row"},{"attributes":{"sizing_mode":"scale_both","text":"Full Formula (Si2)\nReduced Formula: Si\nabc   :   3.866975   3.866975   3.866975\nangles:  60.000000  60.000000  60.000000\nSites (2)\n  #  SP       a     b     c  cartesian_forces\n---  ----  ----  ----  ----  -----------------------------------------------------------\n  0  Si    0     0     0     [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n  1  Si    0.25  0.25  0.25  [5.14220675e+101 5.14220675e+101 5.14220675e+101] eV ang^-1\n\nAbinit Spacegroup: spgid: 227, num_spatial_symmetries: 48, has_timerev: True, symmorphic: True"},"id":"1214","type":"PreText"},{"attributes":{"child":{"id":"1463"},"name":"Row00374","title":"PH-input"},"id":"1487","type":"Panel"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00242","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1245","type":"Div"},{"attributes":{"children":[{"id":"1464"},{"id":"1485"}],"margin":[0,0,0,0],"name":"Row00374"},"id":"1463","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00427","sizing_mode":"stretch_width","text":"Coordinates of Si sites:"},"id":"1392","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1434","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1407"},{"id":"1411"}],"margin":[0,0,0,0],"name":"Column00324","sizing_mode":"stretch_both"},"id":"1393","type":"Column"},{"attributes":{"children":[{"id":"1465"},{"id":"1466"},{"id":"1467"},{"id":"1468"},{"id":"1469"},{"id":"1470"},{"id":"1471"},{"id":"1472"},{"id":"1473"},{"id":"1474"}],"margin":[0,0,0,0],"name":"Column00368"},"id":"1464","type":"Column"},{"attributes":{"children":[{"id":"1251"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00393","sizing_mode":"stretch_width"},"id":"1250","type":"Row"},{"attributes":{},"id":"1323","type":"StringFormatter"},{"attributes":{"data":{"frac_coords":[[0.0,0.0,0.0],[0.25,0.25,0.25]],"site_idx":[0,1]},"selected":{"id":"1395"},"selection_policy":{"id":"1502"}},"id":"1394","type":"ColumnDataSource"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00315","text":"&lt;h1&gt;Lattice lengths:&lt;/h1&gt;"},"id":"1339","type":"panel.models.markup.HTML"},{"attributes":{"align":"center","children":[{"id":"1490"}],"margin":[0,0,0,0],"name":"Row00375"},"id":"1489","type":"Row"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","step":0.01,"title":"symprec","value":0.01,"value_throttled":0.01},"id":"1222","type":"Spinner"},{"attributes":{"children":[{"id":"1247"},{"id":"1248"}],"margin":[0,0,0,0],"name":"Column00243"},"id":"1246","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00225","text":"&lt;p&gt;Call spglib to find space group symmetries and Wyckoff positions.&lt;/p&gt;"},"id":"1230","type":"panel.models.markup.HTML"},{"attributes":{"indices":[]},"id":"1395","type":"Selection"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","title":"angtol","value":5,"value_throttled":5},"id":"1223","type":"Spinner"},{"attributes":{"labels":["Plot k-path"],"margin":[5,10,5,10]},"id":"1265","type":"CheckboxGroup"},{"attributes":{"button_type":"primary","icon":null,"label":"Run abisanitize","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1244","type":"Button"},{"attributes":{"source":{"id":"1366"}},"id":"1386","type":"CDSView"},{"attributes":{"columns":[{"id":"1326"},{"id":"1331"}],"height":190,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1321"},"view":{"id":"1336"}},"id":"1334","type":"DataTable"},{"attributes":{},"id":"1396","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1225"},{"id":"1226"}],"margin":[0,0,0,0],"name":"Column00224"},"id":"1224","type":"Column"},{"attributes":{"children":[{"id":"1267"},{"id":"1268"}],"margin":[0,0,0,0],"name":"Column00257"},"id":"1266","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00261","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1267","type":"Div"},{"attributes":{},"id":"1375","type":"NumberEditor"},{"attributes":{"editor":{"id":"1398"},"field":"site_idx","formatter":{"id":"1396"},"title":"site_idx","width":0},"id":"1399","type":"TableColumn"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00228","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1225","type":"Div"},{"attributes":{"editor":{"id":"1380"},"field":"Radians","formatter":{"id":"1379"},"title":"Radians","width":0},"id":"1381","type":"TableColumn"},{"attributes":{},"id":"1398","type":"CellEditor"},{"attributes":{"children":[{"id":"1269"},{"id":"1273"}],"margin":[0,0,0,0],"name":"Accordion00260"},"id":"1268","type":"Column"},{"attributes":{"children":[{"id":"1227"},{"id":"1231"}],"margin":[0,0,0,0],"name":"Accordion00227"},"id":"1226","type":"Column"},{"attributes":{},"id":"1380","type":"NumberEditor"},{"attributes":{"children":[{"id":"1279"}],"margin":[0,0,0,0],"name":"Column00270","sizing_mode":"stretch_width"},"id":"1278","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1234","type":"panel.models.markup.HTML"},{"attributes":{"format":"0,0.0[00000]"},"id":"1374","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1489"},{"id":"1491"},{"id":"1492"}],"margin":[0,0,0,0],"name":"Column00382","sizing_mode":"stretch_width"},"id":"1488","type":"Column"},{"attributes":{"children":[{"id":"1215"}],"margin":[0,0,0,0],"name":"Row00239"},"id":"1236","type":"Row"},{"attributes":{"child":{"id":"1488"},"name":"Column00382","title":"MP-match"},"id":"1494","type":"Panel"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00451","sizing_mode":"stretch_width","text":"Warning"},"id":"1483","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1286"},{"id":"1287"}],"margin":[0,0,0,0],"name":"Column00275"},"id":"1285","type":"Column"},{"attributes":{"button_type":"primary","icon":null,"label":"Generate input","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1423","type":"Button"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","step":500,"title":"kppra","value":1000,"value_throttled":1000},"id":"1442","type":"Spinner"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00415","sizing_mode":"stretch_width","text":"Warning"},"id":"1294","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":["LDA","PBEsol","PBE"],"title":"XC type","value":"LDA"},"id":"1446","type":"Select"},{"attributes":{"client_comm_id":"348331bd331a40508de29f60fd0da0b6","comm_id":"bf2bb56b809c4ea689152b5a458f1e94","plot_id":"1216"},"id":"1519","type":"panel.models.comm_manager.CommManager"},{"attributes":{"children":[{"id":"1317"}],"margin":[0,0,0,0],"name":"Row00330"},"id":"1316","type":"Row"},{"attributes":{"button_type":"primary","icon":null,"label":"Generate input","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1448","type":"Button"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","step":500,"title":"edos_kppra","value":0,"value_throttled":0},"id":"1443","type":"Spinner"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00279","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1286","type":"Div"},{"attributes":{"children":[{"id":"1429"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00429","sizing_mode":"stretch_width"},"id":"1428","type":"Row"},{"attributes":{"children":[{"id":"1297"}],"margin":[0,0,0,0],"name":"Row00287"},"id":"1296","type":"Row"},{"attributes":{"child":{"id":"1438"},"name":"Row00360","title":"Ebands-input"},"id":"1462","type":"Panel"},{"attributes":{"children":[{"id":"1288"},{"id":"1292"}],"margin":[0,0,0,0],"name":"Accordion00278"},"id":"1287","type":"Column"},{"attributes":{"children":[{"id":"1307"},{"id":"1311"}],"margin":[0,0,0,0],"name":"Accordion00296"},"id":"1306","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1432"},{"id":"1434"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00434"},"id":"1431","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00258","text":"&lt;p&gt;Generate high-symmetry k-path from input structure in the ABINIT format.&lt;/p&gt;"},"id":"1272","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"HTMLwithClipboardBtn00288","text":"\n&lt;div id=&quot;uuid-3526dff7-10da-4c5f-8ac8-f9894ee8edad&quot;&gt;\n&lt;div id=&quot;uuid-17fe12aa-7ecd-4b50-b7a2-5590eb0a1e95&quot;&gt;&lt;pre&gt;  natom 2\n ntypat 1\n typat 1 1\n znucl 14\n xred\n    0.0000000000    0.0000000000    0.0000000000\n    0.2500000000    0.2500000000    0.2500000000\n acell    1.0    1.0    1.0\n rprim\n    6.3285005521    0.0000000000    3.6537614973\n    2.1095001840    5.9665675402    3.6537614973\n    0.0000000000    0.0000000000    7.3075229946 &lt;/pre&gt;&lt;/div&gt;\n&lt;br&gt;\n&lt;button class=&quot;clip-btn bk bk-btn bk-btn-default&quot; type=&quot;button&quot; data-clipboard-target=&quot;#uuid-17fe12aa-7ecd-4b50-b7a2-5590eb0a1e95&quot;&gt; Copy to clipboard &lt;/button&gt;\n&lt;hr&gt;\n&lt;/div&gt;\n&lt;br&gt;\n&lt;button class=&quot;clip-btn bk bk-btn bk-btn-default&quot; type=&quot;button&quot; data-clipboard-target=&quot;#uuid-3526dff7-10da-4c5f-8ac8-f9894ee8edad&quot;&gt; Copy to clipboard &lt;/button&gt;\n&lt;hr&gt;\n"},"id":"1297","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00310","text":"&lt;h1&gt;Spacegroup:&lt;/h1&gt;"},"id":"1319","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00334","text":"&lt;p&gt;Generate minimalistic input file from the structure.&lt;/p&gt;"},"id":"1430","type":"panel.models.markup.HTML"},{"attributes":{"margin":[0,0,0,0],"sizing_mode":"stretch_width","tabs":[{"id":"1218"},{"id":"1237"},{"id":"1259"},{"id":"1280"},{"id":"1298"},{"id":"1412"},{"id":"1437"},{"id":"1462"},{"id":"1487"},{"id":"1494"}]},"id":"1216","type":"Tabs"},{"attributes":{"margin":[5,10,5,10],"options":["None","gaussian","fermi_dirac"],"title":"Smearing type"},"id":"1419","type":"Select"},{"attributes":{"data":{"Degrees":{"__ndarray__":"n2cAAAAATkDBUAAAAABOQGPcAAAAAE5A","dtype":"float64","order":"little","shape":[3]},"Lattice angles":["alpha","beta","gamma"],"Radians":{"__ndarray__":"Ra0tOFLB8D9/oC04UsHwP3zuLThSwfA/","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1367"},"selection_policy":{"id":"1500"}},"id":"1366","type":"ColumnDataSource"},{"attributes":{"child":{"id":"1281"},"name":"Row00292","title":"Convert"},"id":"1298","type":"Panel"},{"attributes":{"children":[{"id":"1258"}],"margin":[0,0,0,0],"name":"Row00255"},"id":"1257","type":"Row"},{"attributes":{"children":[{"id":"1239"},{"id":"1257"}],"margin":[0,0,0,0],"name":"Row00256"},"id":"1238","type":"Row"},{"attributes":{"editor":{"id":"1403"},"field":"frac_coords","formatter":{"id":"1402"},"title":"frac_coords","width":0},"id":"1404","type":"TableColumn"},{"attributes":{"child":{"id":"1238"},"name":"Row00256","title":"AbiSanitize"},"id":"1259","type":"Panel"},{"attributes":{},"id":"1370","type":"CellEditor"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00431","sizing_mode":"stretch_width","text":"Help"},"id":"1429","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00337","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1425","type":"Div"},{"attributes":{"children":[{"id":"1450"},{"id":"1451"}],"margin":[0,0,0,0],"name":"Column00347"},"id":"1449","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1428"},{"id":"1430"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00430"},"id":"1427","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00309","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1338","type":"Div"},{"attributes":{},"id":"1496","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1214"}],"margin":[0,0,0,0],"name":"Row00223"},"id":"1217","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":["None","gaussian","fermi_dirac"],"title":"Smearing type"},"id":"1444","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00320","text":"&lt;h1&gt;Lattice angles:&lt;/h1&gt;"},"id":"1364","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1402","type":"StringFormatter"},{"attributes":{"margin":[5,10,5,10],"options":["LDA","PBEsol","PBE"],"title":"XC type","value":"LDA"},"id":"1471","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1274"},{"id":"1276"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00406"},"id":"1273","type":"panel.models.layout.Card"},{"attributes":{"child":{"id":"1217"},"name":"Row00223","title":"Summary"},"id":"1218","type":"Panel"},{"attributes":{"children":[{"id":"1278"}],"margin":[0,0,0,0],"name":"Row00269"},"id":"1277","type":"Row"},{"attributes":{"source":{"id":"1394"}},"id":"1409","type":"CDSView"},{"attributes":{"margin":[5,10,5,10],"options":["NC","PAW"],"title":"Pseudos type","value":"NC"},"id":"1422","type":"Select"},{"attributes":{"children":[{"id":"1427"},{"id":"1431"}],"margin":[0,0,0,0],"name":"Accordion00336"},"id":"1426","type":"Column"},{"attributes":{"button_type":"primary","icon":null,"label":"Generate input","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1473","type":"Button"},{"attributes":{"columns":[{"id":"1371"},{"id":"1376"},{"id":"1381"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1366"},"view":{"id":"1386"}},"id":"1384","type":"DataTable"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","step":0.01,"title":"symprec","value":0.01,"value_throttled":0.01},"id":"1241","type":"Spinner"},{"attributes":{"children":[{"id":"1425"},{"id":"1426"}],"margin":[0,0,0,0],"name":"Column00333"},"id":"1424","type":"Column"},{"attributes":{"children":[{"id":"1275"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00405","sizing_mode":"stretch_width"},"id":"1274","type":"Row"},{"attributes":{"children":[{"id":"1220"},{"id":"1235"}],"margin":[0,0,0,0],"name":"Row00241"},"id":"1219","type":"Row"},{"attributes":{"children":[{"id":"1461"}],"margin":[0,0,0,0],"name":"Row00359"},"id":"1460","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00366","text":"&lt;h3&gt;Generate phonon input&lt;/h3&gt;"},"id":"1465","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1370"},"field":"Lattice angles","formatter":{"id":"1368"},"title":"Lattice angles","width":0},"id":"1371","type":"TableColumn"},{"attributes":{"children":[{"id":"1439"},{"id":"1460"}],"margin":[0,0,0,0],"name":"Row00360"},"id":"1438","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":["unpolarized","polarized","non-collinear SOC with magnetism","non-collinear SOC, no magnetism","collinear anti-ferromagnetic"],"title":"SpinMode","value":"unpolarized"},"id":"1417","type":"Select"},{"attributes":{},"id":"1368","type":"StringFormatter"},{"attributes":{"child":{"id":"1219"},"name":"Row00241","title":"Spglib"},"id":"1237","type":"Panel"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1457"},{"id":"1459"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00442"},"id":"1456","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00407","sizing_mode":"stretch_width","text":"Warning"},"id":"1275","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1221"},{"id":"1222"},{"id":"1223"},{"id":"1224"}],"margin":[0,0,0,0],"name":"Column00231"},"id":"1220","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":["unpolarized","polarized","non-collinear SOC with magnetism","non-collinear SOC, no magnetism","collinear anti-ferromagnetic"],"title":"SpinMode","value":"unpolarized"},"id":"1441","type":"Select"},{"attributes":{"children":[{"id":"1359"},{"id":"1363"}],"margin":[0,0,0,0],"name":"Column00313","sizing_mode":"stretch_both"},"id":"1340","type":"Column"},{"attributes":{"children":[{"id":"1440"},{"id":"1441"},{"id":"1442"},{"id":"1443"},{"id":"1444"},{"id":"1445"},{"id":"1446"},{"id":"1447"},{"id":"1448"},{"id":"1449"}],"margin":[0,0,0,0],"name":"Column00354"},"id":"1439","type":"Column"},{"attributes":{"children":[{"id":"1384"},{"id":"1388"}],"margin":[0,0,0,0],"name":"Column00318","sizing_mode":"stretch_both"},"id":"1365","type":"Column"},{"attributes":{"children":[{"id":"1236"}],"margin":[0,0,0,0],"name":"Row00236"},"id":"1235","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00280","text":"&lt;h3&gt;Convert structure&lt;/h3&gt;"},"id":"1283","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1433"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00433","sizing_mode":"stretch_width"},"id":"1432","type":"Row"},{"attributes":{"child":{"id":"1260"},"name":"Row00274","title":"Kpath"},"id":"1280","type":"Panel"},{"attributes":{"labels":["Born effective charges (polar semiconductor)"],"margin":[5,10,5,10]},"id":"1470","type":"CheckboxGroup"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1295","type":"panel.models.markup.HTML"},{"attributes":{"data":{"Bohr":{"__ndarray__":"xOP/ZZDvDkCKDgBmkO8OQL1M/2WQ7w5A","dtype":"float64","order":"little","shape":[3]},"Lattice lenghts":["a","b","c"],"\u212b":{"__ndarray__":"QZj3UOc6HUCrwPdQ5zodQI4J91DnOh1A","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1342"},"selection_policy":{"id":"1498"}},"id":"1341","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1283"},{"id":"1284"},{"id":"1285"}],"margin":[0,0,0,0],"name":"Column00282"},"id":"1282","type":"Column"},{"attributes":{"children":[{"id":"1271"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00401","sizing_mode":"stretch_width"},"id":"1270","type":"Row"},{"attributes":{"children":[{"id":"1261"},{"id":"1277"}],"margin":[0,0,0,0],"name":"Row00274"},"id":"1260","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00419","sizing_mode":"stretch_width","text":"Help"},"id":"1309","type":"panel.models.markup.HTML"},{"attributes":{"indices":[]},"id":"1342","type":"Selection"},{"attributes":{"children":[{"id":"1262"},{"id":"1263"},{"id":"1264"},{"id":"1265"},{"id":"1266"}],"margin":[0,0,0,0],"name":"Column00264"},"id":"1261","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":["NC","PAW"],"title":"Pseudos type","value":"NC"},"id":"1472","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1308"},{"id":"1310"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00418"},"id":"1307","type":"panel.models.layout.Card"},{"attributes":{"columns":[{"id":"1346"},{"id":"1351"},{"id":"1356"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1341"},"view":{"id":"1361"}},"id":"1359","type":"DataTable"},{"attributes":{"margin":[5,10,5,10],"options":["LDA","PBEsol","PBE"],"title":"XC type","value":"LDA"},"id":"1421","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00298","text":"&lt;h3&gt;Visualize structure&lt;/h3&gt;"},"id":"1301","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1343","type":"StringFormatter"},{"attributes":{"children":[{"id":"1436"}],"margin":[0,0,0,0],"name":"Row00345"},"id":"1435","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00262","text":"&lt;h3&gt;K-path options&lt;/h3&gt;"},"id":"1262","type":"panel.models.markup.HTML"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","step":500,"title":"kppra","value":1000,"value_throttled":1000},"id":"1418","type":"Spinner"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","step":0.002,"title":"tsmear (Ha)","value":0.01,"value_throttled":0.01},"id":"1420","type":"Spinner"},{"attributes":{"margin":[5,10,5,10],"options":["None","gaussian","fermi_dirac"],"title":"Smearing type"},"id":"1468","type":"Select"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","step":0.002,"title":"tsmear (Ha)","value":0.01,"value_throttled":0.01},"id":"1469","type":"Spinner"},{"attributes":{"editor":{"id":"1345"},"field":"Lattice lenghts","formatter":{"id":"1343"},"title":"Lattice lenghts","width":0},"id":"1346","type":"TableColumn"},{"attributes":{"margin":[5,5,5,5],"name":"HTMLwithClipboardBtn00271","text":"\n&lt;div id=&quot;uuid-9d455fd6-791f-40c8-ac65-d62f5b2bfd2c&quot;&gt;&lt;pre&gt; # Abinit Structure\n natom 2\n ntypat 1\n typat 1 1\n znucl 14\n xred\n    0.0000000000    0.0000000000    0.0000000000\n    0.2500000000    0.2500000000    0.2500000000\n acell    1.0    1.0    1.0\n rprim\n    6.3285005521    0.0000000000    3.6537614973\n    2.1095001840    5.9665675402    3.6537614973\n    0.0000000000    0.0000000000    7.3075229946\n\n# tolwfr 1e-20 iscf -2 # NSCF run\n# To read previous DEN file, use: getden -1 or specify filename via getden_path &quot;out_DEN&quot;\n\n# K-path in reduced coordinates:\n ndivsm 10\n kptopt -11\n kptbounds\n    +0.00000  +0.00000  +0.00000  # $\\Gamma$\n    +0.50000  +0.00000  +0.50000  # X\n    +0.50000  +0.25000  +0.75000  # W\n    +0.37500  +0.37500  +0.75000  # K\n    +0.00000  +0.00000  +0.00000  # $\\Gamma$\n    +0.50000  +0.50000  +0.50000  # L\n    +0.62500  +0.25000  +0.62500  # U\n    +0.50000  +0.25000  +0.75000  # W\n    +0.50000  +0.50000  +0.50000  # L\n    +0.37500  +0.37500  +0.75000  # K\n    +0.62500  +0.25000  +0.62500  # U\n    +0.50000  +0.00000  +0.50000  # X &lt;/pre&gt;&lt;/div&gt;\n&lt;br&gt;\n&lt;button class=&quot;clip-btn bk bk-btn bk-btn-default&quot; type=&quot;button&quot; data-clipboard-target=&quot;#uuid-9d455fd6-791f-40c8-ac65-d62f5b2bfd2c&quot;&gt; Copy to clipboard &lt;/button&gt;\n&lt;hr&gt;\n&lt;script&gt; $(document).ready(function() {new ClipboardJS(&#x27;.clip-btn&#x27;)}) &lt;/script&gt; "},"id":"1279","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1312"},{"id":"1314"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00422"},"id":"1311","type":"panel.models.layout.Card"},{"attributes":{},"id":"1345","type":"CellEditor"},{"attributes":{"editor":{"id":"1330"},"field":"0","formatter":{"id":"1329"},"title":"0","width":0},"id":"1331","type":"TableColumn"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00297","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1305","type":"Div"},{"attributes":{},"id":"1325","type":"CellEditor"},{"attributes":{"children":[{"id":"1475"},{"id":"1476"}],"margin":[0,0,0,0],"name":"Column00361"},"id":"1474","type":"Column"},{"attributes":{"children":[{"id":"1390"}],"margin":[0,0,0,0],"name":"Accordion00322","sizing_mode":"stretch_width"},"id":"1389","type":"Column"},{"attributes":{},"id":"1330","type":"StringEditor"},{"attributes":{"children":[{"id":"1414"},{"id":"1435"}],"margin":[0,0,0,0],"name":"Row00346"},"id":"1413","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1232"},{"id":"1234"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00390"},"id":"1231","type":"panel.models.layout.Card"},{"attributes":{"format":"0,0.0[00000]"},"id":"1349","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1282"},{"id":"1296"}],"margin":[0,0,0,0],"name":"Row00292"},"id":"1281","type":"Row"},{"attributes":{"children":[{"id":"1316"},{"id":"1318"}],"margin":[0,0,0,0],"name":"Column00331"},"id":"1315","type":"Column"},{"attributes":{"data":{"0":["NaN","Fd-3m",227,"cubic"],"index":["abi_spg_number","spglib_symb","spglib_num","spglib_lattice_type"]},"selected":{"id":"1322"},"selection_policy":{"id":"1496"}},"id":"1321","type":"ColumnDataSource"},{"attributes":{},"id":"1350","type":"NumberEditor"},{"attributes":{"columns":[{"id":"1399"},{"id":"1404"}],"height":110,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1394"},"view":{"id":"1409"}},"id":"1407","type":"DataTable"},{"attributes":{"margin":[5,5,5,5],"name":"Str00328"},"id":"1317","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1233"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00389","sizing_mode":"stretch_width"},"id":"1232","type":"Row"},{"attributes":{"editor":{"id":"1350"},"field":"\u212b","formatter":{"id":"1349"},"title":"\u212b","width":0},"id":"1351","type":"TableColumn"},{"attributes":{"source":{"id":"1321"}},"id":"1336","type":"CDSView"},{"attributes":{"children":[{"id":"1305"},{"id":"1306"}],"margin":[0,0,0,0],"name":"Column00293"},"id":"1304","type":"Column"},{"attributes":{"button_type":"primary","icon":null,"label":"View structure","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1303","type":"Button"},{"attributes":{"children":[{"id":"1477"},{"id":"1481"}],"margin":[0,0,0,0],"name":"Accordion00364"},"id":"1476","type":"Column"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00391","sizing_mode":"stretch_width","text":"Warning"},"id":"1233","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1329","type":"StringFormatter"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00447","sizing_mode":"stretch_width","text":"Help"},"id":"1479","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1289"},{"id":"1291"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00410"},"id":"1288","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00276","text":"&lt;p&gt;Convert the input structure to one of the format selected by the user.&lt;/p&gt;"},"id":"1291","type":"panel.models.markup.HTML"},{"attributes":{"format":"0,0.0[00000]"},"id":"1354","type":"NumberFormatter"},{"attributes":{"children":[{"id":"1294"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00413","sizing_mode":"stretch_width"},"id":"1293","type":"Row"},{"attributes":{"children":[{"id":"1309"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00417","sizing_mode":"stretch_width"},"id":"1308","type":"Row"},{"attributes":{"indices":[]},"id":"1322","type":"Selection"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1293"},{"id":"1295"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00414"},"id":"1292","type":"panel.models.layout.Card"},{"attributes":{},"id":"1355","type":"NumberEditor"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00352","text":"&lt;h3&gt;Generate Ebands input&lt;/h3&gt;"},"id":"1440","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1479"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00445","sizing_mode":"stretch_width"},"id":"1478","type":"Row"},{"attributes":{"child":{"id":"1299"},"name":"Row00332","title":"Viewer"},"id":"1412","type":"Panel"},{"attributes":{"editor":{"id":"1355"},"field":"Bohr","formatter":{"id":"1354"},"title":"Bohr","width":0},"id":"1356","type":"TableColumn"},{"attributes":{"children":[{"id":"1300"},{"id":"1315"}],"margin":[0,0,0,0],"name":"Row00332"},"id":"1299","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":["NC","PAW"],"title":"Pseudos type","value":"NC"},"id":"1447","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1478"},{"id":"1480"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00446"},"id":"1477","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,10,5,10],"options":["scf","relax"],"title":"GS type","value":"scf"},"id":"1416","type":"Select"},{"attributes":{"source":{"id":"1341"}},"id":"1361","type":"CDSView"},{"attributes":{"children":[{"id":"1301"},{"id":"1302"},{"id":"1303"},{"id":"1304"}],"margin":[0,0,0,0],"name":"Column00305"},"id":"1300","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00351","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1450","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1256","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1415"},{"id":"1416"},{"id":"1417"},{"id":"1418"},{"id":"1419"},{"id":"1420"},{"id":"1421"},{"id":"1422"},{"id":"1423"},{"id":"1424"}],"margin":[0,0,0,0],"name":"Column00340"},"id":"1414","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Str00343"},"id":"1436","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00411","sizing_mode":"stretch_width","text":"Help"},"id":"1290","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00325","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1411","type":"Div"},{"attributes":{"margin":[5,5,5,5],"name":"Str00371"},"id":"1486","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1314","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00435","sizing_mode":"stretch_width","text":"Warning"},"id":"1433","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00314","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1363","type":"Div"},{"attributes":{"children":[{"id":"1290"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00409","sizing_mode":"stretch_width"},"id":"1289","type":"Row"},{"attributes":{"editor":{"id":"1325"},"field":"index","formatter":{"id":"1323"},"title":"index","width":0},"id":"1326","type":"TableColumn"},{"attributes":{"indices":[]},"id":"1367","type":"Selection"},{"attributes":{"low":0.0,"margin":[5,10,5,10],"placeholder":"0","step":0.002,"title":"tsmear (Ha)","value":0.01,"value_throttled":0.01},"id":"1445","type":"Spinner"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00244","text":"&lt;p&gt;Returns a new structure in which:&lt;/p&gt;\n&lt;div class=&quot;codehilite&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;Structure&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;refined&lt;/span&gt;.\n&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;Reduced&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;primitive&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;settings&lt;/span&gt;.\n&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;Lattice&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;vectors&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;exchanged&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;triple&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;negative&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;\n\n&lt;p&gt;&lt;strong&gt;symprec&lt;/strong&gt;:\n    Symmetry precision used to refine the structure.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;angle_tolerance&lt;/strong&gt;:\n    Tolerance on angles.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;primitive&lt;/strong&gt;:\n    Returns most primitive structure found.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;primitive_standard&lt;/strong&gt;:\n    Whether to convert to a primitive cell using the standards defined in Setyawan, W., &amp;amp; Curtarolo, S. (2010).\n    High-throughput electronic band structure calculations: Challenges and tools.\n    Computational Materials Science, 49(2), 299-312. doi:10.1016/j.commatsci.2010.05.010&lt;/p&gt;"},"id":"1252","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1313"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00421","sizing_mode":"stretch_width"},"id":"1312","type":"Row"},{"attributes":{"children":[{"id":"1334"},{"id":"1338"}],"margin":[0,0,0,0],"name":"Column00308","sizing_mode":"stretch_both"},"id":"1320","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00294","text":"&lt;p&gt;Visualize input structure.&lt;/p&gt;"},"id":"1310","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1403","type":"StringEditor"},{"attributes":{"children":[{"id":"1319"},{"id":"1320"},{"id":"1339"},{"id":"1340"},{"id":"1364"},{"id":"1365"},{"id":"1389"}],"margin":[0,0,0,0],"name":"Column00306","sizing_mode":"scale_width"},"id":"1318","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00365","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1475","type":"Div"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00423","sizing_mode":"stretch_width","text":"Warning"},"id":"1313","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1240"},{"id":"1241"},{"id":"1242"},{"id":"1243"},{"id":"1244"},{"id":"1245"},{"id":"1246"}],"margin":[0,0,0,0],"name":"Column00250"},"id":"1239","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1270"},{"id":"1272"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00402"},"id":"1269","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00319","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1388","type":"Div"},{"attributes":{"margin":[5,10,5,10],"options":["abinit","cif","xsf","poscar","qe","siesta","wannier90","cssr","json"],"title":"format","value":"abinit"},"id":"1284","type":"Select"},{"attributes":{"child":{"id":"1413"},"name":"Row00346","title":"GS-input"},"id":"1437","type":"Panel"}],"root_ids":["1216","1519"]},"title":"Bokeh Application","version":"2.3.1"}};
    var render_items = [{"docid":"863b988c-4d56-4798-8873-18f345e85d06","root_ids":["1216"],"roots":{"1216":"7ae590ec-44be-4852-8230-ff13f4f3be1b"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined  && root['MathJax'] !== undefined ) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined && root['MathJax'] !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At present, not all the AbiPy objects support the <code class="docutils literal notranslate"><span class="pre">get_panel</span></code> protocol
but we plan to gradually support more objects, especially the most important
netcdf files produced by Abinit</p>
</div>
<p>To generate a notebook from the command line, use the <a class="reference external" href="https://abinit.github.io/abipy/scripts/abiopen.html">abiopen.py</a> script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>abiopen.py si_nscf_GSR.nc -nb  <span class="c1"># short for --notebook</span>
</pre></div>
</div>
<p>that will automatically open the notebook inside jupyterlab.
If you prefer classic jupyter notebooks, use the <code class="docutils literal notranslate"><span class="pre">-nb</span> <span class="pre">--classic-notebook</span></code> options</p>
<p>If you do not need to execute python code, you may want to generate a panel dashboard with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>abiopen.py si_nscf_GSR.nc -pn  <span class="c1"># short for --panel</span>
</pre></div>
</div>
<p>The same approach can be used with a <code class="docutils literal notranslate"><span class="pre">DDB</span></code> file.
In this case, we get more tabs and options because one can use the GUI
to set the input parameters, invoke <code class="docutils literal notranslate"><span class="pre">anaddb</span></code> and visualize the results:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Open DDB file with abiopen and invoke get_panel method.</span>
<span class="n">ddb_path</span> <span class="o">=</span> <span class="n">abidata</span><span class="o">.</span><span class="n">ref_file</span><span class="p">(</span><span class="s2">&quot;mp-1009129-9x9x10q_ebecs_DDB&quot;</span><span class="p">)</span>
<span class="n">abilab</span><span class="o">.</span><span class="n">abiopen</span><span class="p">(</span><span class="n">ddb_path</span><span class="p">)</span><span class="o">.</span><span class="n">get_panel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id='1561'>





  <div class="bk-root" id="13b0f66e-9bcc-49b4-a1c9-75eb1263190d" data-root-id="1561"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"8eca1545-f025-4417-b516-362cf3f361eb":{"defs":[],"roots":{"references":[{"attributes":{"margin":[5,5,5,5],"name":"Str00624"},"id":"1655","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1861"},{"id":"1863"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00916","sizing_mode":"stretch_width"},"id":"1860","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1646"},{"id":"1650"}],"margin":[0,0,0,0],"name":"Accordion00602"},"id":"1645","type":"Column"},{"attributes":{"children":[{"id":"1644"},{"id":"1645"}],"margin":[0,0,0,0],"name":"Column00599"},"id":"1643","type":"Column"},{"attributes":{"children":[{"id":"1862"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00915","sizing_mode":"stretch_width"},"id":"1861","type":"Row"},{"attributes":{"low":1,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Mpi procs","value":1,"value_throttled":1},"id":"1887","type":"Spinner"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00603","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1644","type":"Div"},{"attributes":{"margin":[5,10,5,10],"options":[["eV","eV"],["meV","meV"],["Ha","Ha"],["cm-1","cm-1"],["Thz","Thz"]],"title":"Units","value":"eV"},"id":"1886","type":"Select"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00869","sizing_mode":"stretch_width","text":"Warning"},"id":"1652","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00917","sizing_mode":"stretch_width","text":"Coordinates of O sites:"},"id":"1862","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1669"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00871","sizing_mode":"stretch_width"},"id":"1668","type":"Row"},{"attributes":{"children":[{"id":"1877"},{"id":"1881"}],"margin":[0,0,0,0],"name":"Column00803","sizing_mode":"stretch_both"},"id":"1863","type":"Column"},{"attributes":{"low":0,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Verbose","value":0,"value_throttled":0},"id":"1888","type":"Spinner"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1668"},{"id":"1670"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00872"},"id":"1667","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1676"}],"margin":[0,0,0,0],"name":"Row00655"},"id":"1675","type":"Row"},{"attributes":{"data":{"frac_coords":[[0.33333333333333,0.66666666666667,0.5]],"site_idx":[1]},"selected":{"id":"1865"},"selection_policy":{"id":"1922"}},"id":"1864","type":"ColumnDataSource"},{"attributes":{"indices":[]},"id":"1865","type":"Selection"},{"attributes":{"columns":[{"id":"1869"},{"id":"1874"}],"height":70,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1864"},"view":{"id":"1879"}},"id":"1877","type":"DataTable"},{"attributes":{},"id":"1866","type":"NumberFormatter"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00873","sizing_mode":"stretch_width","text":"Help"},"id":"1669","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1868"},"field":"site_idx","formatter":{"id":"1866"},"title":"site_idx","width":0},"id":"1869","type":"TableColumn"},{"attributes":{},"id":"1868","type":"CellEditor"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1651"},{"id":"1653"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00868"},"id":"1650","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1652"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00867","sizing_mode":"stretch_width"},"id":"1651","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1743","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1872","type":"StringFormatter"},{"attributes":{},"id":"1873","type":"StringEditor"},{"attributes":{"children":[{"id":"1648"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00863","sizing_mode":"stretch_width"},"id":"1647","type":"Row"},{"attributes":{"editor":{"id":"1873"},"field":"frac_coords","formatter":{"id":"1872"},"title":"frac_coords","width":0},"id":"1874","type":"TableColumn"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00604","text":"&lt;h3&gt;Speed of sound options&lt;/h3&gt;"},"id":"1638","type":"panel.models.markup.HTML"},{"attributes":{"source":{"id":"1864"}},"id":"1879","type":"CDSView"},{"attributes":{"children":[{"id":"1658"},{"id":"1675"}],"margin":[0,0,0,0],"name":"Row00656"},"id":"1657","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00804","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1881","type":"Div"},{"attributes":{"button_type":"primary","icon":null,"label":"Calculate speed of sound","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1642","type":"Button"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1647"},{"id":"1649"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00864"},"id":"1646","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1659"},{"id":"1660"},{"id":"1661"},{"id":"1662"},{"id":"1663"},{"id":"1664"}],"margin":[0,0,0,0],"name":"Column00650"},"id":"1658","type":"Column"},{"attributes":{"child":{"id":"1657"},"name":"Row00656","title":"ASR & DIPDIP"},"id":"1677","type":"Panel"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1573","type":"Select"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00865","sizing_mode":"stretch_width","text":"Help"},"id":"1648","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00893","sizing_mode":"stretch_width","text":"Warning"},"id":"1721","type":"panel.models.markup.HTML"},{"attributes":{"data":{"0":["NaN","P-6m2",187,"hexagonal"],"index":["abi_spg_number","spglib_symb","spglib_num","spglib_lattice_type"]},"selected":{"id":"1770"},"selection_policy":{"id":"1914"}},"id":"1769","type":"ColumnDataSource"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1587","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1782"},{"id":"1786"}],"margin":[0,0,0,0],"name":"Column00784","sizing_mode":"stretch_both"},"id":"1768","type":"Column"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00857","sizing_mode":"stretch_width","text":"Help"},"id":"1627","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1901","type":"StringEditor"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1630"},{"id":"1632"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00860"},"id":"1629","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1631"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00859","sizing_mode":"stretch_width"},"id":"1630","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1609","type":"panel.models.markup.HTML"},{"attributes":{"columns":[{"id":"1774"},{"id":"1779"}],"height":190,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1769"},"view":{"id":"1784"}},"id":"1782","type":"DataTable"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00473","text":"&lt;p&gt;Compute phonon bands and DOS from DDB by invoking Anaddb then plot results.&lt;/p&gt;"},"id":"1583","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00861","sizing_mode":"stretch_width","text":"Warning"},"id":"1631","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1585"},{"id":"1587"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00844"},"id":"1584","type":"panel.models.layout.Card"},{"attributes":{"indices":[]},"id":"1770","type":"Selection"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00786","text":"&lt;h1&gt;Spacegroup:&lt;/h1&gt;"},"id":"1767","type":"panel.models.markup.HTML"},{"attributes":{"sizing_mode":"scale_both","text":"================================= File Info =================================\nName: mp-1009129-9x9x10q_ebecs_DDB\nDirectory: /Users/gmatteo/git_repos/abipy/abipy/data\nSize: 218.73 kb\nAccess Time: Fri Feb 21 18:04:19 2020\nModification Time: Wed Mar 20 16:53:35 2019\nChange Time: Wed Mar 20 16:53:35 2019\n\n================================= Structure =================================\nFull Formula (Mg1 O1)\nReduced Formula: MgO\nabc   :   2.908638   2.908638   2.656848\nangles:  90.000000  90.000000 120.000000\nSites (2)\n  #  SP           a         b    c\n---  ----  --------  --------  ---\n  0  Mg    0         0         0\n  1  O     0.333333  0.666667  0.5\n\nAbinit Spacegroup: spgid: 0, num_spatial_symmetries: 12, has_timerev: True, symmorphic: False\n\n================================== DDB Info ==================================\n\nNumber of q-points in DDB: 72\nguessed_ngqpt: [ 9  9 10] (guess for the q-mesh divisions made by AbiPy)\necut = 44.000000, ecutsm = 0.000000, nkpt = 405, nsym = 12, usepaw = 0\nnsppol 1, nspinor 1, nspden 1, ixc = -116133, occopt = 1, tsmear = 0.010000\n\nHas total energy: False, Has forces: False\nHas stress tensor: False\n\nHas (at least one) atomic pertubation: True\nHas (at least one diagonal) electric-field perturbation: True\nHas (at least one) Born effective charge: True\nHas (all) strain terms: False\nHas (all) internal strain terms: False\nHas (all) piezoelectric terms: False"},"id":"1560","type":"PreText"},{"attributes":{"children":[{"id":"1586"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00843","sizing_mode":"stretch_width"},"id":"1585","type":"Row"},{"attributes":{},"id":"1918","type":"UnionRenderers"},{"attributes":{},"id":"1771","type":"StringFormatter"},{"attributes":{"children":[{"id":"1589"}],"margin":[0,0,0,0],"name":"Row00524"},"id":"1588","type":"Row"},{"attributes":{"low":1,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Nqsmall","value":10,"value_throttled":10},"id":"1567","type":"Spinner"},{"attributes":{"children":[{"id":"1721"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00891","sizing_mode":"stretch_width"},"id":"1720","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00845","sizing_mode":"stretch_width","text":"Warning"},"id":"1586","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Ndivsm","value":5,"value_throttled":5},"id":"1568","type":"Spinner"},{"attributes":{"editor":{"id":"1773"},"field":"index","formatter":{"id":"1771"},"title":"index","width":0},"id":"1774","type":"TableColumn"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1731","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1705","type":"Select"},{"attributes":{"children":[{"id":"1767"},{"id":"1768"},{"id":"1787"},{"id":"1788"},{"id":"1812"},{"id":"1813"},{"id":"1837"}],"margin":[0,0,0,0],"name":"Column00782","sizing_mode":"scale_width"},"id":"1766","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Str00807"},"id":"1765","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1569","type":"Select"},{"attributes":{},"id":"1916","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1697"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00883","sizing_mode":"stretch_width"},"id":"1696","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1570","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00833","text":"&lt;h2&gt;Software stack:&lt;/h2&gt;"},"id":"1890","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1720"},{"id":"1722"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00892"},"id":"1719","type":"panel.models.layout.Card"},{"attributes":{"source":{"id":"1892"}},"id":"1907","type":"CDSView"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00832","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1909","type":"Div"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot PHbands with/without quadrupoles","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1711","type":"Button"},{"attributes":{"children":[{"id":"1727"},{"id":"1744"}],"margin":[0,0,0,0],"name":"Row00768"},"id":"1726","type":"Row"},{"attributes":{"editor":{"id":"1901"},"field":"version","formatter":{"id":"1900"},"title":"version","width":0},"id":"1902","type":"TableColumn"},{"attributes":{},"id":"1922","type":"UnionRenderers"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1571","type":"Select"},{"attributes":{"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Ndivsm","value":5,"value_throttled":5},"id":"1709","type":"Spinner"},{"attributes":{"child":{"id":"1726"},"name":"Row00768","title":"IFCs"},"id":"1746","type":"Panel"},{"attributes":{"children":[{"id":"1728"},{"id":"1729"},{"id":"1730"},{"id":"1731"},{"id":"1732"},{"id":"1733"}],"margin":[0,0,0,0],"name":"Column00762"},"id":"1727","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["automatic","automatic"],["True","True"],["False","False"]],"title":"Lo to splitting","value":"automatic"},"id":"1572","type":"Select"},{"attributes":{},"id":"1914","type":"UnionRenderers"},{"attributes":{"client_comm_id":"3fbcc8542f0c474094da997d3c24c1f1","comm_id":"0c8b37d87b204a708886a5f97c8dc416","plot_id":"1561"},"id":"1947","type":"panel.models.comm_manager.CommManager"},{"attributes":{"margin":[5,10,5,10],"options":[["automatic","automatic"],["True","True"],["False","False"]],"title":"Lo to splitting","value":"automatic"},"id":"1708","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1710","type":"Select"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1707","type":"Select"},{"attributes":{"children":[{"id":"1745"}],"margin":[0,0,0,0],"name":"Row00767"},"id":"1744","type":"Row"},{"attributes":{"margin":[0,0,0,0],"sizing_mode":"stretch_width","tabs":[{"id":"1563"},{"id":"1590"},{"id":"1612"},{"id":"1635"},{"id":"1656"},{"id":"1677"},{"id":"1701"},{"id":"1725"},{"id":"1746"},{"id":"1882"},{"id":"1910"}]},"id":"1561","type":"Tabs"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00849","sizing_mode":"stretch_width","text":"Help"},"id":"1604","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1706","type":"Select"},{"attributes":{},"id":"1912","type":"UnionRenderers"},{"attributes":{"children":[{"id":"1604"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00847","sizing_mode":"stretch_width"},"id":"1603","type":"Row"},{"attributes":{},"id":"1900","type":"StringFormatter"},{"attributes":{"children":[{"id":"1560"}],"margin":[0,0,0,0],"name":"Row00471"},"id":"1562","type":"Row"},{"attributes":{},"id":"1920","type":"UnionRenderers"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00531","text":"&lt;h3&gt;Born effective charges options&lt;/h3&gt;"},"id":"1593","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1603"},{"id":"1605"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00848"},"id":"1602","type":"panel.models.layout.Card"},{"attributes":{"child":{"id":"1562"},"name":"Row00471","title":"Summary"},"id":"1563","type":"Panel"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1632","type":"panel.models.markup.HTML"},{"attributes":{"button_type":"primary","icon":null,"label":"Compute IFC(R)","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1732","type":"Button"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00527","text":"&lt;p&gt;Compute eps_infinity and Born effective charges from DDB.&lt;/p&gt;"},"id":"1605","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1615"},{"id":"1616"},{"id":"1617"},{"id":"1618"},{"id":"1619"},{"id":"1620"},{"id":"1621"},{"id":"1622"}],"margin":[0,0,0,0],"name":"Column00592"},"id":"1614","type":"Column"},{"attributes":{"columns":[{"id":"1819"},{"id":"1824"},{"id":"1829"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1814"},"view":{"id":"1834"}},"id":"1832","type":"DataTable"},{"attributes":{},"id":"1894","type":"StringFormatter"},{"attributes":{"editor":{"id":"1823"},"field":"Degrees","formatter":{"id":"1822"},"title":"Degrees","width":0},"id":"1824","type":"TableColumn"},{"attributes":{"child":{"id":"1883"},"name":"Row00836","title":"Global"},"id":"1910","type":"Panel"},{"attributes":{"children":[{"id":"1749"},{"id":"1750"},{"id":"1751"},{"id":"1752"}],"margin":[0,0,0,0],"name":"Column00781"},"id":"1748","type":"Column"},{"attributes":{"children":[{"id":"1885"},{"id":"1886"},{"id":"1887"},{"id":"1888"}],"margin":[0,0,0,0],"name":"Column00829"},"id":"1884","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1594","type":"Select"},{"attributes":{"children":[{"id":"1884"},{"id":"1889"}],"margin":[0,0,0,0],"name":"Row00836"},"id":"1883","type":"Row"},{"attributes":{"columns":[{"id":"1897"},{"id":"1902"}],"height":670,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1892"},"view":{"id":"1907"}},"id":"1905","type":"DataTable"},{"attributes":{"children":[{"id":"1614"},{"id":"1633"}],"margin":[0,0,0,0],"name":"Row00598"},"id":"1613","type":"Row"},{"attributes":{"data":{"Package":["system","python_version","numpy","scipy","netCDF4","apscheduler","pydispatch","yaml","boken","panel","plotly","ase","phonopy","monty","pymatgen","abipy"],"version":["Darwin","3.7.0","1.20.2","1.6.2","1.5.6","3.7.0","2.0.5","5.4.1","2.3.1","0.11.3","4.14.3","3.21.1","2.9.3","2021.3.3","2022.0.5","0.9.1"]},"selected":{"id":"1893"},"selection_policy":{"id":"1912"}},"id":"1892","type":"ColumnDataSource"},{"attributes":{"format":"0,0.0[00000]"},"id":"1827","type":"NumberFormatter"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00796","text":"&lt;h1&gt;Lattice angles:&lt;/h1&gt;"},"id":"1812","type":"panel.models.markup.HTML"},{"attributes":{"data":{"Degrees":{"__ndarray__":"AAAAAACAVkAAAAAAAIBWQPXG/////11A","dtype":"float64","order":"little","shape":[3]},"Lattice angles":["alpha","beta","gamma"],"Radians":{"__ndarray__":"GC1EVPsh+T8YLURU+yH5P4pTLThSwQBA","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1815"},"selection_policy":{"id":"1918"}},"id":"1814","type":"ColumnDataSource"},{"attributes":{"child":{"id":"1613"},"name":"Row00598","title":"eps0"},"id":"1635","type":"Panel"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00770","text":"&lt;p&gt;Visualize input structure.&lt;/p&gt;"},"id":"1758","type":"panel.models.markup.HTML"},{"attributes":{"indices":[]},"id":"1893","type":"Selection"},{"attributes":{},"id":"1823","type":"NumberEditor"},{"attributes":{"children":[{"id":"1905"},{"id":"1909"}],"margin":[0,0,0,0],"name":"Column00831","sizing_mode":"stretch_both"},"id":"1891","type":"Column"},{"attributes":{"children":[{"id":"1634"}],"margin":[0,0,0,0],"name":"Row00597"},"id":"1633","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00812","text":"&lt;h3&gt;Global options&lt;/h3&gt;"},"id":"1885","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1595","type":"Select"},{"attributes":{},"id":"1896","type":"CellEditor"},{"attributes":{"children":[{"id":"1748"},{"id":"1763"}],"margin":[0,0,0,0],"name":"Row00811"},"id":"1747","type":"Row"},{"attributes":{"children":[{"id":"1807"},{"id":"1811"}],"margin":[0,0,0,0],"name":"Column00789","sizing_mode":"stretch_both"},"id":"1788","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1596","type":"Select"},{"attributes":{"low":1,"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Nqsmall","value":10,"value_throttled":10},"id":"1660","type":"Spinner"},{"attributes":{"data":{"Bohr":{"__ndarray__":"qO9L9uNEB0Co70v240QHQNEpUKU5QQVA","dtype":"float64","order":"little","shape":[3]},"Lattice lenghts":["a","b","c"],"\u212b":{"__ndarray__":"1OYcIHL8FUDU5hwgcvwVQOj/AHQ2FRRA","dtype":"float64","order":"little","shape":[3]}},"selected":{"id":"1790"},"selection_policy":{"id":"1916"}},"id":"1789","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1600"},{"id":"1601"}],"margin":[0,0,0,0],"name":"Column00526"},"id":"1599","type":"Column"},{"attributes":{"margin":[5,10,5,10],"mode":"int","placeholder":"0","title":"Ndivsm","value":5,"value_throttled":5},"id":"1661","type":"Spinner"},{"attributes":{"editor":{"id":"1896"},"field":"Package","formatter":{"id":"1894"},"title":"Package","width":0},"id":"1897","type":"TableColumn"},{"attributes":{"low":1e-20,"margin":[5,10,5,10],"placeholder":"0","step":0.1,"title":"Gamma ev","value":0.0001,"value_throttled":0.0001},"id":"1597","type":"Spinner"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1662","type":"Select"},{"attributes":{"indices":[]},"id":"1790","type":"Selection"},{"attributes":{"children":[{"id":"1611"}],"margin":[0,0,0,0],"name":"Row00558"},"id":"1610","type":"Row"},{"attributes":{"children":[{"id":"1765"}],"margin":[0,0,0,0],"name":"Row00809"},"id":"1764","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00530","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1600","type":"Div"},{"attributes":{"columns":[{"id":"1794"},{"id":"1799"},{"id":"1804"}],"height":150,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1789"},"view":{"id":"1809"}},"id":"1807","type":"DataTable"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00741"},"id":"1739","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1791","type":"StringFormatter"},{"attributes":{"button_type":"primary","icon":null,"label":"Compute","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1598","type":"Button"},{"attributes":{"button_type":"primary","icon":null,"label":"Compute phonons with/wo ASR and DIPDIP","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1663","type":"Button"},{"attributes":{"children":[{"id":"1832"},{"id":"1836"}],"margin":[0,0,0,0],"name":"Column00794","sizing_mode":"stretch_both"},"id":"1813","type":"Column"},{"attributes":{"editor":{"id":"1793"},"field":"Lattice lenghts","formatter":{"id":"1791"},"title":"Lattice lenghts","width":0},"id":"1794","type":"TableColumn"},{"attributes":{"children":[{"id":"1665"},{"id":"1666"}],"margin":[0,0,0,0],"name":"Column00628"},"id":"1664","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1756"},{"id":"1758"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00904"},"id":"1755","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00632","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1665","type":"Div"},{"attributes":{},"id":"1793","type":"CellEditor"},{"attributes":{"editor":{"id":"1818"},"field":"Lattice angles","formatter":{"id":"1816"},"title":"Lattice angles","width":0},"id":"1819","type":"TableColumn"},{"attributes":{"children":[{"id":"1602"},{"id":"1606"}],"margin":[0,0,0,0],"name":"Accordion00529"},"id":"1601","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00791","text":"&lt;h1&gt;Lattice lengths:&lt;/h1&gt;"},"id":"1787","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1761"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00907","sizing_mode":"stretch_width"},"id":"1760","type":"Row"},{"attributes":{"children":[{"id":"1667"},{"id":"1671"}],"margin":[0,0,0,0],"name":"Accordion00631"},"id":"1666","type":"Column"},{"attributes":{"child":{"id":"1747"},"name":"Row00811","title":"Structure"},"id":"1882","type":"Panel"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00795","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1836","type":"Div"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1617","type":"Select"},{"attributes":{"format":"0,0.0[00000]"},"id":"1797","type":"NumberFormatter"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1760"},{"id":"1762"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00908"},"id":"1759","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,5,5,5],"name":"Str00653"},"id":"1676","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1890"},{"id":"1891"}],"margin":[0,0,0,0],"name":"Column00835","sizing_mode":"scale_width"},"id":"1889","type":"Column"},{"attributes":{},"id":"1798","type":"NumberEditor"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00905","sizing_mode":"stretch_width","text":"Help"},"id":"1757","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1798"},"field":"\u212b","formatter":{"id":"1797"},"title":"\u212b","width":0},"id":"1799","type":"TableColumn"},{"attributes":{},"id":"1816","type":"StringFormatter"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1618","type":"Select"},{"attributes":{"children":[{"id":"1757"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00903","sizing_mode":"stretch_width"},"id":"1756","type":"Row"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot eps0(omega)","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1621","type":"Button"},{"attributes":{"low":1e-20,"margin":[5,10,5,10],"placeholder":"0","step":0.1,"title":"Gamma ev","value":0.0001,"value_throttled":0.0001},"id":"1619","type":"Spinner"},{"attributes":{},"id":"1818","type":"CellEditor"},{"attributes":{},"id":"1778","type":"StringEditor"},{"attributes":{"children":[{"id":"1623"},{"id":"1624"}],"margin":[0,0,0,0],"name":"Column00560"},"id":"1622","type":"Column"},{"attributes":{"format":"0,0.0[00000]"},"id":"1802","type":"NumberFormatter"},{"attributes":{},"id":"1777","type":"StringFormatter"},{"attributes":{},"id":"1803","type":"NumberEditor"},{"attributes":{"source":{"id":"1769"}},"id":"1784","type":"CDSView"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1762","type":"panel.models.markup.HTML"},{"attributes":{"source":{"id":"1814"}},"id":"1834","type":"CDSView"},{"attributes":{"editor":{"id":"1803"},"field":"Bohr","formatter":{"id":"1802"},"title":"Bohr","width":0},"id":"1804","type":"TableColumn"},{"attributes":{"margin":[5,10,5,10],"options":[["jsmol","jsmol"],["vesta","vesta"],["xcrysden","xcrysden"],["vtk","vtk"],["crystalk","crystalk"],["ngl","ngl"],["matplotlib","matplotlib"],["plotly","plotly"],["ase_atoms","ase_atoms"],["mayavi","mayavi"]],"title":"Structure viewer","value":"jsmol"},"id":"1750","type":"Select"},{"attributes":{"editor":{"id":"1846"},"field":"site_idx","formatter":{"id":"1844"},"title":"site_idx","width":0},"id":"1847","type":"TableColumn"},{"attributes":{"button_type":"primary","icon":null,"label":"View structure","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1751","type":"Button"},{"attributes":{},"id":"1828","type":"NumberEditor"},{"attributes":{"source":{"id":"1789"}},"id":"1809","type":"CDSView"},{"attributes":{"children":[{"id":"1753"},{"id":"1754"}],"margin":[0,0,0,0],"name":"Column00769"},"id":"1752","type":"Column"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1674","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1764"},{"id":"1766"}],"margin":[0,0,0,0],"name":"Column00810"},"id":"1763","type":"Column"},{"attributes":{},"id":"1846","type":"CellEditor"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00790","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1811","type":"Div"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00773","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1753","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00565","text":"&lt;h3&gt;epsilon_0&lt;/h3&gt;"},"id":"1615","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00785","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1786","type":"Div"},{"attributes":{"children":[{"id":"1755"},{"id":"1759"}],"margin":[0,0,0,0],"name":"Accordion00772"},"id":"1754","type":"Column"},{"attributes":{"editor":{"id":"1828"},"field":"Radians","formatter":{"id":"1827"},"title":"Radians","width":0},"id":"1829","type":"TableColumn"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1672"},{"id":"1674"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00876"},"id":"1671","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00909","sizing_mode":"stretch_width","text":"Warning"},"id":"1761","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1616","type":"Select"},{"attributes":{"children":[{"id":"1673"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00875","sizing_mode":"stretch_width"},"id":"1672","type":"Row"},{"attributes":{"children":[{"id":"1838"},{"id":"1860"}],"margin":[0,0,0,0],"name":"Accordion00798","sizing_mode":"stretch_width"},"id":"1837","type":"Column"},{"attributes":{"end":1.0,"margin":[5,10,5,10],"start":0.0,"step":0.1,"title":"W range","value":[0.0,0.1]},"id":"1620","type":"RangeSlider"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00774","text":"&lt;h3&gt;Visualize structure&lt;/h3&gt;"},"id":"1749","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00877","sizing_mode":"stretch_width","text":"Warning"},"id":"1673","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1773","type":"CellEditor"},{"attributes":{"format":"0,0.0[00000]"},"id":"1822","type":"NumberFormatter"},{"attributes":{"editor":{"id":"1778"},"field":"0","formatter":{"id":"1777"},"title":"0","width":0},"id":"1779","type":"TableColumn"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1741"},{"id":"1743"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00900"},"id":"1740","type":"panel.models.layout.Card"},{"attributes":{"indices":[]},"id":"1815","type":"Selection"},{"attributes":{"children":[{"id":"1565"},{"id":"1588"}],"margin":[0,0,0,0],"name":"Row00525"},"id":"1564","type":"Row"},{"attributes":{"children":[{"id":"1703"},{"id":"1723"}],"margin":[0,0,0,0],"name":"Row00739"},"id":"1702","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1698","type":"panel.models.markup.HTML"},{"attributes":{"child":{"id":"1564"},"name":"Row00525","title":"PH-bands"},"id":"1590","type":"Panel"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00658","text":"&lt;p&gt;Compare phonon DOSes computed with/without the inclusion\nof the dipole-quadrupole and quadrupole-quadrupole terms in the dynamical matrix.\nRequires DDB file with eps_inf, BECS and dynamical quadrupoles.&lt;/p&gt;"},"id":"1694","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1566"},{"id":"1567"},{"id":"1568"},{"id":"1569"},{"id":"1570"},{"id":"1571"},{"id":"1572"},{"id":"1573"},{"id":"1574"},{"id":"1575"},{"id":"1576"},{"id":"1577"}],"margin":[0,0,0,0],"name":"Column00519"},"id":"1565","type":"Column"},{"attributes":{"children":[{"id":"1700"}],"margin":[0,0,0,0],"name":"Row00694"},"id":"1699","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1653","type":"panel.models.markup.HTML"},{"attributes":{"active":[0],"labels":["Stacked PJDOS"],"margin":[5,10,5,10]},"id":"1574","type":"CheckboxGroup"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1729","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00600","text":"&lt;p&gt;Compute the speed of sound by fitting phonon frequencies\nalong selected directions by linear least-squares fit.&lt;/p&gt;"},"id":"1649","type":"panel.models.markup.HTML"},{"attributes":{"end":1000,"margin":[5,10,5,10],"start":0,"step":0.1,"title":"Temp range","value":[0.0,300.0]},"id":"1575","type":"RangeSlider"},{"attributes":{"children":[{"id":"1734"},{"id":"1735"}],"margin":[0,0,0,0],"name":"Column00740"},"id":"1733","type":"Column"},{"attributes":{"child":{"id":"1678"},"name":"Row00695","title":"DOS vs q-mesh"},"id":"1701","type":"Panel"},{"attributes":{"children":[{"id":"1679"},{"id":"1699"}],"margin":[0,0,0,0],"name":"Row00695"},"id":"1678","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1581"},{"id":"1583"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00840"},"id":"1580","type":"panel.models.layout.Card"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00701","text":"&lt;h3&gt;Quadrupoles options&lt;/h3&gt;"},"id":"1704","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1680"},{"id":"1681"},{"id":"1682"},{"id":"1683"},{"id":"1684"},{"id":"1685"},{"id":"1686"},{"id":"1687"},{"id":"1688"}],"margin":[0,0,0,0],"name":"Column00689"},"id":"1679","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Str00522"},"id":"1589","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1639","type":"Select"},{"attributes":{"children":[{"id":"1742"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00899","sizing_mode":"stretch_width"},"id":"1741","type":"Row"},{"attributes":{"children":[{"id":"1580"},{"id":"1584"}],"margin":[0,0,0,0],"name":"Accordion00475"},"id":"1579","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00476","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1578","type":"Div"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00853","sizing_mode":"stretch_width","text":"Warning"},"id":"1608","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1704"},{"id":"1705"},{"id":"1706"},{"id":"1707"},{"id":"1708"},{"id":"1709"},{"id":"1710"},{"id":"1711"},{"id":"1712"}],"margin":[0,0,0,0],"name":"Column00733"},"id":"1703","type":"Column"},{"attributes":{"children":[{"id":"1689"},{"id":"1690"}],"margin":[0,0,0,0],"name":"Column00657"},"id":"1688","type":"Column"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot PHDos vs Qmesh","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1687","type":"Button"},{"attributes":{"margin":[5,10,5,10],"title":"nsmalls (python list)","value":"[10, 20, 30]"},"id":"1685","type":"TextInput"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00629","text":"&lt;p&gt;Compare phonon bands and DOSes computed with/without the acoustic sum rule\nand the treatment of the dipole-dipole interaction in the dynamical matrix.\nRequires DDB file with eps_inf, BECS.&lt;/p&gt;"},"id":"1670","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1627"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00855","sizing_mode":"stretch_width"},"id":"1626","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00564","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1623","type":"Div"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00745","text":"&lt;h3&gt;IFCs options&lt;/h3&gt;"},"id":"1728","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1625"},{"id":"1629"}],"margin":[0,0,0,0],"name":"Accordion00563"},"id":"1624","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["tetra","tetra"],["gaussian","gaussian"]],"title":"Dos method","value":"tetra"},"id":"1684","type":"Select"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00561","text":"&lt;p&gt;Compute eps0(omega) from DDB and plot the results.&lt;/p&gt;"},"id":"1628","type":"panel.models.markup.HTML"},{"attributes":{"end":1000,"margin":[5,10,5,10],"start":0,"step":0.1,"title":"Temp range","value":[0.0,300.0]},"id":"1686","type":"RangeSlider"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1839"},{"id":"1841"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00912","sizing_mode":"stretch_width"},"id":"1838","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1736"},{"id":"1740"}],"margin":[0,0,0,0],"name":"Accordion00743"},"id":"1735","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1716"},{"id":"1718"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00888"},"id":"1715","type":"panel.models.layout.Card"},{"attributes":{"child":{"id":"1591"},"name":"Row00559","title":"BECs"},"id":"1612","type":"Panel"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00744","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1734","type":"Div"},{"attributes":{"children":[{"id":"1592"},{"id":"1610"}],"margin":[0,0,0,0],"name":"Row00559"},"id":"1591","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00700","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1713","type":"Div"},{"attributes":{"children":[{"id":"1840"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00911","sizing_mode":"stretch_width"},"id":"1839","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00901","sizing_mode":"stretch_width","text":"Warning"},"id":"1742","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00897","sizing_mode":"stretch_width","text":"Help"},"id":"1738","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Str00556"},"id":"1611","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00913","sizing_mode":"stretch_width","text":"Coordinates of Mg sites:"},"id":"1840","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1593"},{"id":"1594"},{"id":"1595"},{"id":"1596"},{"id":"1597"},{"id":"1598"},{"id":"1599"}],"margin":[0,0,0,0],"name":"Column00553"},"id":"1592","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1696"},{"id":"1698"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00884"},"id":"1695","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1855"},{"id":"1859"}],"margin":[0,0,0,0],"name":"Column00800","sizing_mode":"stretch_both"},"id":"1841","type":"Column"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1607"},{"id":"1609"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[0,5,5,5],"name":"Card00852"},"id":"1606","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Asr","value":"2"},"id":"1681","type":"Select"},{"attributes":{"children":[{"id":"1582"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00839","sizing_mode":"stretch_width"},"id":"1581","type":"Row"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1737"},{"id":"1739"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00896"},"id":"1736","type":"panel.models.layout.Card"},{"attributes":{"data":{"frac_coords":[[0.0,0.0,0.0]],"site_idx":[0]},"selected":{"id":"1843"},"selection_policy":{"id":"1920"}},"id":"1842","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1638"},{"id":"1639"},{"id":"1640"},{"id":"1641"},{"id":"1642"},{"id":"1643"}],"margin":[0,0,0,0],"name":"Column00621"},"id":"1637","type":"Column"},{"attributes":{"indices":[]},"id":"1843","type":"Selection"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00841","sizing_mode":"stretch_width","text":"Help"},"id":"1582","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00697","text":"&lt;p&gt;Compare phonon bands and DOSes computed with/without the inclusion\nof the dipole-quadrupole and quadrupole-quadrupole terms in the dynamical matrix.\nRequires DDB file with eps_inf, BECS and dynamical quadrupoles.&lt;/p&gt;"},"id":"1718","type":"panel.models.markup.HTML"},{"attributes":{"child":{"id":"1702"},"name":"Row00739","title":"Quadrupoles"},"id":"1725","type":"Panel"},{"attributes":{"columns":[{"id":"1847"},{"id":"1852"}],"height":70,"index_position":null,"margin":[5,10,5,10],"name":"","row_height":40,"sizing_mode":"scale_width","source":{"id":"1842"},"view":{"id":"1857"}},"id":"1855","type":"DataTable"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00477","text":"&lt;h3&gt;PH-bands options&lt;/h3&gt;"},"id":"1566","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1844","type":"NumberFormatter"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1682","type":"Select"},{"attributes":{"margin":[5,5,5,5],"name":"Str00692"},"id":"1700","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"warning","text":"&lt;p&gt;Widgets are &lt;strong&gt;shared by the different tabs&lt;/strong&gt;.\nThis means that if you change the value of one of these variables in the active tab,\nthe same value will &lt;strong&gt;automagically&lt;/strong&gt; appear in the other tabs yet results/figures\nare not automatically recomputed when you change the value.&lt;/p&gt;\n&lt;p&gt;In other words, if you change some variable in the active tab and then you move to another tab,\nthe results/figures (if any) are stil computed with the &lt;strong&gt;old input&lt;/strong&gt; hence you will have to\nrecompute the new results by clicking the button.&lt;/p&gt;"},"id":"1722","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1693"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00879","sizing_mode":"stretch_width"},"id":"1692","type":"Row"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00889","sizing_mode":"stretch_width","text":"Help"},"id":"1717","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1738"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00895","sizing_mode":"stretch_width"},"id":"1737","type":"Row"},{"attributes":{"margin":[5,5,5,5],"name":"Str00765"},"id":"1745","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1850","type":"StringFormatter"},{"attributes":{"children":[{"id":"1608"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00851","sizing_mode":"stretch_width"},"id":"1607","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00633","text":"&lt;h3&gt;ASR &amp;amp; DIPDIP options&lt;/h3&gt;"},"id":"1659","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00661","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1689","type":"Div"},{"attributes":{},"id":"1851","type":"StringEditor"},{"attributes":{"children":[{"id":"1637"},{"id":"1654"}],"margin":[0,0,0,0],"name":"Row00627"},"id":"1636","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"MyMarkdown00662","text":"&lt;h3&gt;DOS vs q-mesh options&lt;/h3&gt;"},"id":"1680","type":"panel.models.markup.HTML"},{"attributes":{"margin":[5,5,5,5],"name":"Str00736"},"id":"1724","type":"panel.models.markup.HTML"},{"attributes":{"editor":{"id":"1851"},"field":"frac_coords","formatter":{"id":"1850"},"title":"frac_coords","width":0},"id":"1852","type":"TableColumn"},{"attributes":{"child":{"id":"1636"},"name":"Row00627","title":"Speed of sound"},"id":"1656","type":"Panel"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1730","type":"Select"},{"attributes":{"children":[{"id":"1578"},{"id":"1579"}],"margin":[0,0,0,0],"name":"Column00472"},"id":"1577","type":"Column"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00885","sizing_mode":"stretch_width","text":"Warning"},"id":"1697","type":"panel.models.markup.HTML"},{"attributes":{"source":{"id":"1842"}},"id":"1857","type":"CDSView"},{"attributes":{"button_type":"primary","icon":null,"label":"Plot Bands and DOS","margin":[5,10,5,10],"subscribed_events":["button_click"]},"id":"1576","type":"Button"},{"attributes":{"children":[{"id":"1655"}],"margin":[0,0,0,0],"name":"Row00626"},"id":"1654","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1683","type":"Select"},{"attributes":{"children":[{"id":"1713"},{"id":"1714"}],"margin":[0,0,0,0],"name":"Column00696"},"id":"1712","type":"Column"},{"attributes":{"margin":[5,5,5,5],"name":"Str00595"},"id":"1634","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["card-title"],"margin":[2,5,2,5],"name":"HTML00881","sizing_mode":"stretch_width","text":"Help"},"id":"1693","type":"panel.models.markup.HTML"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1626"},{"id":"1628"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00856"},"id":"1625","type":"panel.models.layout.Card"},{"attributes":{"margin":[5,5,5,5],"name":"Divider00801","style":{"height":"100%","width":"100%"},"text":"<hr style=\"margin: 0px\">","width_policy":"fit"},"id":"1859","type":"Div"},{"attributes":{"children":[{"id":"1724"}],"margin":[0,0,0,0],"name":"Row00738"},"id":"1723","type":"Row"},{"attributes":{"children":[{"id":"1717"}],"css_classes":["card-header-row"],"margin":[0,0,0,0],"name":"Row00887","sizing_mode":"stretch_width"},"id":"1716","type":"Row"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["2","2"]],"title":"Chneut","value":"1"},"id":"1640","type":"Select"},{"attributes":{"active_header_background":"#ccc","button_css_classes":["card-button"],"children":[{"id":"1692"},{"id":"1694"}],"css_classes":["accordion"],"header_background":"","header_color":"","header_css_classes":["accordion-header"],"margin":[5,5,0,5],"name":"Card00880"},"id":"1691","type":"panel.models.layout.Card"},{"attributes":{"children":[{"id":"1691"},{"id":"1695"}],"margin":[0,0,0,0],"name":"Accordion00660"},"id":"1690","type":"Column"},{"attributes":{"children":[{"id":"1715"},{"id":"1719"}],"margin":[0,0,0,0],"name":"Accordion00699"},"id":"1714","type":"Column"},{"attributes":{"margin":[5,10,5,10],"options":[["0","0"],["1","1"],["-1","-1"]],"title":"Dipdip","value":"1"},"id":"1641","type":"Select"}],"root_ids":["1561","1947"]},"title":"Bokeh Application","version":"2.3.1"}};
    var render_items = [{"docid":"8eca1545-f025-4417-b516-362cf3f361eb","root_ids":["1561"],"roots":{"1561":"13b0f66e-9bcc-49b4-a1c9-75eb1263190d"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined  && root['MathJax'] !== undefined ) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined && root['Plotly'] !== undefined && root['MathJax'] !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div></div>
</div>
<p>The same result can be obtained from the CLI with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>abiopen.py mp-1009129-9x9x10q_ebecs_DDB -nb
</pre></div>
</div>
<p>There are, however, cases in which you don’t need the interactive environment provided
by jupyter notebooks as you are mainly interested in the visualization of the results.
In this case, it is possible to use the command line interface to automatically generate
a dashboard with widgets without having to start a notebook.</p>
<p>To build a dashboard for a <code class="docutils literal notranslate"><span class="pre">Structure</span></code> object extracted from <code class="docutils literal notranslate"><span class="pre">FILE</span></code>, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abistruct</span><span class="o">.</span><span class="n">py</span> <span class="n">panel</span> <span class="n">FILE</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">FILE</span></code> is <strong>any</strong> file providing a <code class="docutils literal notranslate"><span class="pre">Structure</span></code> object
e.g. netcdf files, cif files, abi, abo files etc.</p>
<p>To build a dashboard associated to one of the AbiPy file, use the syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abiopen</span><span class="o">.</span><span class="n">py</span> <span class="n">FILE</span> <span class="o">--</span><span class="n">panel</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">FILE</span></code> is one of the Abinit files supported by <code class="docutils literal notranslate"><span class="pre">abiopen.py</span></code>.
For instance, one can create a dashboard to interact with a <code class="docutils literal notranslate"><span class="pre">DDB</span></code> file with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abiopen</span><span class="o">.</span><span class="n">py</span> <span class="n">out_DDB</span> <span class="o">--</span><span class="n">panel</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>To build a dashboard for an AbiPy Flow use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abirun</span><span class="o">.</span><span class="n">py</span> <span class="n">FLOWDIR</span> <span class="n">panel</span>
</pre></div>
</div>
<p>or alternatively:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abiopen</span><span class="o">.</span><span class="n">py</span> <span class="n">FLOWDIR</span><span class="o">/</span><span class="n">__AbinitFlow__</span><span class="o">.</span><span class="n">pickle</span> <span class="o">--</span><span class="n">panel</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gallery/index.html" class="btn btn-neutral float-right" title="AbiPy Gallery" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="scripts/abirun.html" class="btn btn-neutral float-left" title="abirun.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, M. Giantomassi and the AbiPy group.
      <span class="lastupdated">
        Last updated on Jul 06, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>