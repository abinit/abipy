

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>abio Package &mdash; abipy 0.9.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="../_static/thebelab.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_style.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
    <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script> 
    
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="core Package" href="core_api.html" />
    <link rel="prev" title="abilab" href="abilab_api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> abipy
          

          
          </a>

          
            
            
              <div class="version">
                0.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Getting AbiPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zzbiblio.html">Bibliography</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripts/index.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphical_interface.html">Graphical interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">AbiPy Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postprocessing_howto.html">Post-processing How-To</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workflows/taskmanager.html">TaskManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/manager_examples.html">Manager Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flow_gallery/index.html">Flow Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flows_howto.html">Flows How-To</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="abilab_api.html">abilab</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">abio Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abio</span></code> Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.abivars"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abivars</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.abivars_db"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abivars_db</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.decorators"><code class="xref py py-mod docutils literal notranslate"><span class="pre">decorators</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.factories"><code class="xref py py-mod docutils literal notranslate"><span class="pre">factories</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.input_tags"><code class="xref py py-mod docutils literal notranslate"><span class="pre">input_tags</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.inputs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">inputs</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.outputs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">outputs</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.robots"><code class="xref py py-mod docutils literal notranslate"><span class="pre">robots</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.timer"><code class="xref py py-mod docutils literal notranslate"><span class="pre">timer</span></code> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-abipy.abio.variable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">variable</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core_api.html">core Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_api.html">data Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="dfpt_api.html">dfpt Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="display_api.html">display Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamics_api.html">dynamics Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="electrons_api.html">electrons Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="eph_api.html">eph Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="flowtk_api.html">flowtk Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="iotools_api.html">iotools Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="panels_api.html">panels Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools_api.html">tools Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="waves_api.html">waves Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wannier90_api.html">wannier90 Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../coding_guide.html">Coding guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Documenting AbiPy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">abipy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">API documentation</a> &raquo;</li>
        
      <li>abio Package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/abio_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="abio-package">
<h1><a class="toc-backref" href="#contents">abio Package</a><a class="headerlink" href="#abio-package" title="Permalink to this headline">Â¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#abio-package" id="id3">abio Package</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id4"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abio</span></code> Package</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.abivars" id="id5"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abivars</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.abivars_db" id="id6"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abivars_db</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.decorators" id="id7"><code class="xref py py-mod docutils literal notranslate"><span class="pre">decorators</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.factories" id="id8"><code class="xref py py-mod docutils literal notranslate"><span class="pre">factories</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.input_tags" id="id9"><code class="xref py py-mod docutils literal notranslate"><span class="pre">input_tags</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.inputs" id="id10"><code class="xref py py-mod docutils literal notranslate"><span class="pre">inputs</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.outputs" id="id11"><code class="xref py py-mod docutils literal notranslate"><span class="pre">outputs</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.robots" id="id12"><code class="xref py py-mod docutils literal notranslate"><span class="pre">robots</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.timer" id="id13"><code class="xref py py-mod docutils literal notranslate"><span class="pre">timer</span></code> Module</a></p></li>
<li><p><a class="reference internal" href="#module-abipy.abio.variable" id="id14"><code class="xref py py-mod docutils literal notranslate"><span class="pre">variable</span></code> Module</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abio</span></code> Package</a><a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h2>
<span class="target" id="module-abipy.abio"></span><p>This sub-package provides objects and methods to generate Input files.</p>
</div>
<div class="section" id="module-abipy.abio.abivars">
<span id="abivars-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abivars</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.abivars" title="Permalink to this headline">Â¶</a></h2>
<p>This module contains lookup table with the name of the ABINIT variables.</p>
<dl class="py function">
<dt id="abipy.abio.abivars.is_abivar">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars.</span></code><code class="sig-name descname"><span class="pre">is_abivar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#is_abivar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.is_abivar" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if s is an ABINIT variable.</p>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.abivars.is_abiunit">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars.</span></code><code class="sig-name descname"><span class="pre">is_abiunit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#is_abiunit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.is_abiunit" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if string is one of the units supported by the ABINIT parser</p>
</dd></dl>

<dl class="py class">
<dt id="abipy.abio.abivars.AbinitInputFile">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars.</span></code><code class="sig-name descname"><span class="pre">AbinitInputFile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.TextFile</span></code>, <a class="reference internal" href="core_api.html#abipy.core.mixins.Has_Structure" title="abipy.core.mixins.Has_Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.Has_Structure</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>This object parses the Abinit input file, stores the variables in
dict-like objects (Datasets) and build <cite>Structure</cite> objects from
the input variables. Mainly used for inspecting the structure
declared in the Abinit input file.</p>
<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputFile.from_string">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.from_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.from_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build the object from string.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputFile.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String representation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputFile.has_multi_structures">
<code class="sig-name descname"><span class="pre">has_multi_structures</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.has_multi_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.has_multi_structures" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if input defines multiple structures.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputFile.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.close" title="Permalink to this definition">Â¶</a></dt>
<dd><p>NOP, required by ABC.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputFile.structure">
<code class="sig-name descname"><span class="pre">structure</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.structure" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The structure defined in the input file.</p>
<p>If the input file contains multiple datasets <strong>AND</strong> the datasets
have different structures, this property returns None.
In this case, one has to access the structure of the individual datasets.
For example:</p>
<blockquote>
<div><p>input.datasets[0].structure</p>
</div></blockquote>
<p>gives the structure of the first dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputFile.yield_figs">
<code class="sig-name descname"><span class="pre">yield_figs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.yield_figs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.yield_figs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function <em>generates</em> a predefined list of matplotlib figures with minimal input from the user.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputFile.write_notebook">
<code class="sig-name descname"><span class="pre">write_notebook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.write_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.write_notebook" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Write an ipython notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.abivars.AbinitInputParser">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars.</span></code><code class="sig-name descname"><span class="pre">AbinitInputParser</span></code><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt id="abipy.abio.abivars.AbinitInputParser.verbose">
<code class="sig-name descname"><span class="pre">verbose</span></code><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.verbose" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputParser.parse">
<code class="sig-name descname"><span class="pre">parse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.parse" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function receives a string <cite>s</cite> with the Abinit input and return
a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code> objects.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputParser.eval_abinit_operators">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">eval_abinit_operators</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser.eval_abinit_operators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.eval_abinit_operators" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="abipy.abio.abivars.AbinitInputParser.varname_dtindex">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">varname_dtindex</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tok</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser.varname_dtindex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.varname_dtindex" title="Permalink to this definition">Â¶</a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">AbinitInputParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">p</span><span class="o">.</span><span class="n">varname_dtindex</span><span class="p">(</span><span class="s2">&quot;acell1&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s2">&quot;acell&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">p</span><span class="o">.</span><span class="n">varname_dtindex</span><span class="p">(</span><span class="s2">&quot;fa1k2&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s2">&quot;fa1k&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="abipy.abio.abivars.structure_from_abistruct_fmt">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars.</span></code><code class="sig-name descname"><span class="pre">structure_from_abistruct_fmt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#structure_from_abistruct_fmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars.structure_from_abistruct_fmt" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Parse geometrical information given in the structure:abivars format return Structure object</p>
<p>A typical input file in âstructure:abivarsâ format looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># MgB2 lattice structure.</span>
<span class="n">natom</span>   <span class="mi">3</span>
<span class="n">acell</span>   <span class="mi">2</span><span class="o">*</span><span class="mf">3.086</span>  <span class="mf">3.523</span> <span class="n">Angstrom</span>
<span class="n">rprim</span>   <span class="mf">0.866025403784439</span>  <span class="mf">0.5</span>  <span class="mf">0.0</span>
       <span class="o">-</span><span class="mf">0.866025403784439</span>  <span class="mf">0.5</span>  <span class="mf">0.0</span>
        <span class="mf">0.0</span>                <span class="mf">0.0</span>  <span class="mf">1.0</span>

<span class="c1"># Atomic positions</span>
<span class="n">xred_symbols</span>
    <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span> <span class="n">Mg</span>
    <span class="mi">1</span><span class="o">/</span><span class="mi">3</span>  <span class="mi">2</span><span class="o">/</span><span class="mi">3</span>  <span class="mf">0.5</span> <span class="n">B</span>
    <span class="mi">2</span><span class="o">/</span><span class="mi">3</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">3</span>  <span class="mf">0.5</span> <span class="n">B</span>
</pre></div>
</div>
<p>i.e. the zcucl, typat and ntypat vars are implicitly defined via the xred_symbols table.</p>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.abivars_db">
<span id="abivars-db-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abivars_db</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.abivars_db" title="Permalink to this headline">Â¶</a></h2>
<p>Database with the names of the input variables used in Abinit and in other main programs.</p>
<dl class="py function">
<dt id="abipy.abio.abivars_db.get_abinit_variables">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars_db.</span></code><code class="sig-name descname"><span class="pre">get_abinit_variables</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#get_abinit_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars_db.get_abinit_variables" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the database with the description of the ABINIT variables.</p>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.abivars_db.get_anaddb_variables">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars_db.</span></code><code class="sig-name descname"><span class="pre">get_anaddb_variables</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#get_anaddb_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars_db.get_anaddb_variables" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the database with the description of the ANADDB variables.</p>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.abivars_db.docvar">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars_db.</span></code><code class="sig-name descname"><span class="pre">docvar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'abinit'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#docvar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars_db.docvar" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the <cite>Variable</cite> object associated to this name.</p>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.abivars_db.abinit_help">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars_db.</span></code><code class="sig-name descname"><span class="pre">abinit_help</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">varname</span></em>, <em class="sig-param"><span class="pre">info=True</span></em>, <em class="sig-param"><span class="pre">stream=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#abinit_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars_db.abinit_help" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Print the abinit documentation on the ABINIT input variable <cite>varname</cite></p>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.abivars_db.repr_html_from_abinit_string">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.abivars_db.</span></code><code class="sig-name descname"><span class="pre">repr_html_from_abinit_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#repr_html_from_abinit_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.abivars_db.repr_html_from_abinit_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Given a string <cite>text</cite> with an Abinit input file, replace all variables
with HTML links pointing to the official documentation. Return new string.</p>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.decorators">
<span id="decorators-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">decorators</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.decorators" title="Permalink to this headline">Â¶</a></h2>
<p>Decorators for AbinitInput or MultiDataset objects.</p>
<dl class="py exception">
<dt id="abipy.abio.decorators.InputDecoratorError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.decorators.</span></code><code class="sig-name descname"><span class="pre">InputDecoratorError</span></code><a class="reference internal" href="../_modules/abipy/abio/decorators.html#InputDecoratorError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.InputDecoratorError" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Error class raised by <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInputDecorator</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="abipy.abio.decorators.AbinitInputDecorator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.decorators.</span></code><code class="sig-name descname"><span class="pre">AbinitInputDecorator</span></code><a class="reference internal" href="../_modules/abipy/abio/decorators.html#AbinitInputDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.AbinitInputDecorator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://pythonhosted.org/monty/monty.html#monty.json.MSONable" title="(in monty v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></a></p>
<p>An <cite>AbinitInputDecorator</cite> adds new options to an existing <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInput</span></code>
or an existing <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDataset</span></code> without altering its structure. This is an abstract Base class.</p>
<p class="rubric">Example</p>
<p>decorator = MyDecorator(arguments)</p>
<p>new_abinit_input = decorator(abinit_input)
new_multidataset = decorator(multidataset)</p>
<p>Note that a decorator does not modify the object on which it acts.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please avoid introducing decorators acting on the structure (in particular the lattice)
since the initial input may use the initial structure to  compute important variables.
For instance, the list of k-points for band structure calculation depend on the bravais lattice
and a decorator that changes it should recompute the path.
This should  not represent a serious limitation because itâs always possible to change the structure
with its methods and then call the factory function without having to decorate an already existing object.</p>
</div>
<dl class="py attribute">
<dt id="abipy.abio.decorators.AbinitInputDecorator.Error">
<code class="sig-name descname"><span class="pre">Error</span></code><a class="headerlink" href="#abipy.abio.decorators.AbinitInputDecorator.Error" title="Permalink to this definition">Â¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.decorators.InputDecoratorError" title="abipy.abio.decorators.InputDecoratorError"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.decorators.InputDecoratorError</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.decorators.SpinDecorator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.decorators.</span></code><code class="sig-name descname"><span class="pre">SpinDecorator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spinmode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt_ifspinor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SpinDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.SpinDecorator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator changes the spin polarization.</p>
<dl class="py method">
<dt id="abipy.abio.decorators.SpinDecorator.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SpinDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.SpinDecorator.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A JSON serializable dict representation of an object.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.decorators.SpinDecorator.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SpinDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.SpinDecorator.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> â Dict representation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSONable class.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.decorators.SmearingDecorator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.decorators.</span></code><code class="sig-name descname"><span class="pre">SmearingDecorator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">smearing</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SmearingDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.SmearingDecorator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator changes the electronic smearing.</p>
<dl class="py method">
<dt id="abipy.abio.decorators.SmearingDecorator.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SmearingDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.SmearingDecorator.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A JSON serializable dict representation of an object.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.decorators.SmearingDecorator.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SmearingDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.SmearingDecorator.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> â Dict representation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSONable class.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.decorators.XcDecorator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.decorators.</span></code><code class="sig-name descname"><span class="pre">XcDecorator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ixc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#XcDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.XcDecorator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>Change the exchange-correlation functional.</p>
<dl class="py method">
<dt id="abipy.abio.decorators.XcDecorator.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#XcDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.XcDecorator.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A JSON serializable dict representation of an object.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.decorators.XcDecorator.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#XcDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.XcDecorator.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> â Dict representation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSONable class.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.decorators.LdaUDecorator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.decorators.</span></code><code class="sig-name descname"><span class="pre">LdaUDecorator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols_luj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usepawu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eV'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LdaUDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.LdaUDecorator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator adds LDA+U parameters to an <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInput</span></code> object.</p>
<dl class="py method">
<dt id="abipy.abio.decorators.LdaUDecorator.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LdaUDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.LdaUDecorator.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A JSON serializable dict representation of an object.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.decorators.LdaUDecorator.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LdaUDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.LdaUDecorator.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> â Dict representation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSONable class.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.decorators.LexxDecorator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.decorators.</span></code><code class="sig-name descname"><span class="pre">LexxDecorator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols_lexx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exchmix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LexxDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.LexxDecorator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator add local exact exchange to an <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInput</span></code> object.</p>
<dl class="py method">
<dt id="abipy.abio.decorators.LexxDecorator.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LexxDecorator.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.LexxDecorator.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> â Dict representation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MSONable class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.decorators.LexxDecorator.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LexxDecorator.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.decorators.LexxDecorator.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A JSON serializable dict representation of an object.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-abipy.abio.factories">
<span id="factories-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">factories</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.factories" title="Permalink to this headline">Â¶</a></h2>
<p>Factory functions for Abinit input files</p>
<dl class="py function">
<dt id="abipy.abio.factories.gs_input">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">gs_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#gs_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.gs_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> for ground-state calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>kppa</strong> â Defines the sampling used for the SCF run. Defaults to 1000 if not given.</p></li>
<li><p><strong>ecut</strong> â cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</p></li>
<li><p><strong>pawecutdg</strong> â cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the pseudos
according to accuracy)</p></li>
<li><p><strong>scf_nband</strong> â Number of bands for SCF run. If scf_nband is None, nband is automatically initialized
from the list of pseudos, the structure and the smearing option.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving of the SCF cycle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.ebands_input">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">ebands_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndivsm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dos_kppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#ebands_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.ebands_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> object for band structure calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>kppa</strong> â Defines the sampling used for the SCF run. Defaults to 1000 if not given.</p></li>
<li><p><strong>nscf_nband</strong> â Number of bands included in the NSCF run. Set to scf_nband + 10 if None.</p></li>
<li><p><strong>ndivsm</strong> â Number of divisions used to sample the smallest segment of the k-path.
if 0, only the GS input is returned in multi[0].</p></li>
<li><p><strong>ecut</strong> â cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</p></li>
<li><p><strong>pawecutdg</strong> â cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the pseudos
according to accuracy)</p></li>
<li><p><strong>scf_nband</strong> â Number of bands for SCF run. If scf_nband is None, nband is automatically initialized
from the list of pseudos, the structure and the smearing option.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving of the SCF cycle.</p></li>
<li><p><strong>dos_kppa</strong> â Scalar or List of integers with the number of k-points per atom
to be used for the computation of the DOS (None if DOS is not wanted).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.phonons_from_gsinput">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">phonons_from_gsinput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gs_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ph_ngqpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qpoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_ddk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_bec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ph_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddk_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dde_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wfq_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qpoints_to_skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#phonons_from_gsinput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.phonons_from_gsinput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a list of inputs in the form of a MultiDataset to perform phonon calculations, based on
a ground state <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a>.
It will determine if WFQ files should be calculated for some q points and add the NSCF AbinitInputs to the set.
The inputs have the following tags, according to their function: âddkâ, âddeâ, ânscfâ, âph_q_pertâ.
All of them have the tag âphononâ.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gs_inp</strong> â an <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> representing a ground state calculation, likely the SCF performed to get the WFK.</p></li>
<li><p><strong>ph_ngqpt</strong> â a list of three integers representing the gamma centered q-point grid used for the calculation.
If None and qpoint==None the ngkpt value present in the gs_input will be used.
Incompatible with qpoints.</p></li>
<li><p><strong>qpoints</strong> â a list of coordinates of q points in reduced coordinates for which the phonon perturbations will
be calculated. Incompatible with ph_ngqpt.</p></li>
<li><p><strong>with_ddk</strong> â If True, if Gamma is included in the list of qpoints it will add inputs for the calculations of
the DDK.</p></li>
<li><p><strong>with_dde</strong> â If True, if Gamma is included in the list of qpoints it will add inputs for the calculations of
the DDE. Automatically sets with_ddk=True.</p></li>
<li><p><strong>with_bec</strong> â If Truem if Gamma is included in the list of qpoints the DDE will be calculated in the same
input as the phonons. This will allow to determine the BECs.
Automatically sets with_ddk=True and with_dde=False.</p></li>
<li><p><strong>ph_tol</strong> â a dictionary with a single key defining the type of tolerance used for the phonon calculations and
its value. Default: {âtolvrsâ: 1.0e-10}.</p></li>
<li><p><strong>ddk_tol</strong> â a dictionary with a single key defining the type of tolerance used for the DDK calculations and
its value. Default: {âtolwfrâ: 1.0e-22}.</p></li>
<li><p><strong>dde_tol</strong> â a dictionary with a single key defining the type of tolerance used for the DDE calculations and
its value. Default: {âtolvrsâ: 1.0e-10}.</p></li>
<li><p><strong>wfq_tol</strong> â a dictionary with a single key defining the type of tolerance used for the NSCF calculations of
the WFQ and its value. Default {âtolwfrâ: 1.0e-22}.</p></li>
<li><p><strong>qpoints_to_skip</strong> â a list of coordinates of q points in reduced coordinates that will be skipped.
Useful when calculating multiple grids for the same system to avoid duplicate calculations.
If a DDB needs to be extended with more q points use e.g. ddb.qpoints.to_array().</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.g0w0_with_ppmodel_inputs">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">g0w0_with_ppmodel_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_nband</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecuteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecutsigx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shifts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppmodel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'godby'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inclvkb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scr_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gw_qprange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#g0w0_with_ppmodel_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.g0w0_with_ppmodel_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> object that performs G0W0 calculations with the plasmon pole approximation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>kppa</strong> â Defines the sampling used for the SCF run.</p></li>
<li><p><strong>nscf_nband</strong> â Number of bands included in the NSCF run.</p></li>
<li><p><strong>ecuteps</strong> â Cutoff energy [Ha] for the screening matrix.</p></li>
<li><p><strong>ecutsigx</strong> â Cutoff energy [Ha] for the exchange part of the self-energy.</p></li>
<li><p><strong>ecut</strong> â cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</p></li>
<li><p><strong>pawecutdg</strong> â cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized
from the pseudos according to accuracy)</p></li>
<li><p><strong>shifts</strong> â Shifts for k-mesh.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>ppmodel</strong> â Plasmonpole technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving of the SCF cycle.</p></li>
<li><p><strong>inclvkb</strong> â Treatment of the dipole matrix elements (see abinit variable).</p></li>
<li><p><strong>scr_nband</strong> â Number of bands used to compute the screening (default is nscf_nband)</p></li>
<li><p><strong>sigma_nband</strong> â Number of bands used to compute the self-energy (default is nscf_nband)</p></li>
<li><p><strong>gw_qprange</strong> â Option for the automatic selection of k-points and bands for GW corrections.
See Abinit docs for more detail. The default value makes the code compute the
QP energies for all the point in the IBZ and one band above and one band below the Fermi level.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.g0w0_convergence_inputs">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">g0w0_convergence_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_nband</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecuteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecutsigx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_nband</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inclvkb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gw_qprange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nksmall</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_abivars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#g0w0_convergence_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.g0w0_convergence_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> object to generate a G0W0 work for the given the material.
See also <a class="bibtex reference internal" href="../zzbiblio.html#setten2017" id="id2">[Setten2017]</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object</p></li>
<li><p><strong>pseudos</strong> â List of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects.</p></li>
<li><p><strong>kppa</strong> â k points per reciprocal atom.</p></li>
<li><p><strong>scf_nband</strong> â number of scf bands</p></li>
<li><p><strong>ecut</strong> â ecut for all calcs that that are not ecut convergence  cals at scf level</p></li>
<li><p><strong>Defines the sampling used for the SCF run.</strong> (<em>scf</em>) â </p></li>
<li><p><strong>nscf_nband</strong> â a list of number of bands included in the screening and sigmaruns.
The NSCF run will be done with the maximum.</p></li>
<li><p><strong>ecuteps</strong> â list of Cutoff energy [Ha] for the screening matrix.</p></li>
<li><p><strong>ecutsigx</strong> â Cutoff energy [Ha] for the exchange part of the self-energy.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving of the SCF cycle.</p></li>
<li><p><strong>inclvkb</strong> â Treatment of the dipole matrix elements (see abinit variable).</p></li>
<li><p><strong>response_models</strong> â List of response models</p></li>
<li><p><strong>gw_qprange</strong> â selectpr for the qpoint mesh</p></li>
<li><p><strong>gamma</strong> â is true a gamma centered mesh is enforced</p></li>
<li><p><strong>nksmall</strong> â Kpoint division for additional band and dos calculations</p></li>
<li><p><strong>extra_abivars</strong> â Dictionary with extra variables passed to ABINIT for all tasks.</p></li>
</ul>
</dd>
</dl>
<p>extra abivars that are provided with _s appended will be take as a list of values to be tested a scf level</p>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.bse_with_mdf_inputs">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">bse_with_mdf_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_kppa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_nband</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_ngkpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_shiftk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecuteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs_loband</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs_nband</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mbpt_sciss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdf_epsinf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TDA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs_algo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'haydock'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#bse_with_mdf_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.bse_with_mdf_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> object that performs a GS + NSCF + Bethe-Salpeter calculation.
The self-energy corrections are approximated with the scissors operator.
The screening is modeled with the model dielectric function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>scf_kppa</strong> â Defines the sampling used for the SCF run.</p></li>
<li><p><strong>nscf_nband</strong> â Number of bands included in the NSCF run.</p></li>
<li><p><strong>nscf_ngkpt</strong> â Divisions of the k-mesh used for the NSCF and the BSE run.</p></li>
<li><p><strong>nscf_shiftk</strong> â Shifts used for the NSCF and the BSE run.</p></li>
<li><p><strong>ecuteps</strong> â Cutoff energy [Ha] for the screening matrix.</p></li>
<li><p><strong>bs_loband</strong> â Index of the first occupied band included the e-h basis set
(ABINIT convention i.e. first band starts at 1).
Can be scalar or array of shape (nsppol,)</p></li>
<li><p><strong>bs_nband</strong> â Highest band idex used for the construction of the e-h basis set.</p></li>
<li><p><strong>mbpt_sciss</strong> â Scissor energy in Hartree.</p></li>
<li><p><strong>mdf_epsinf</strong> â Value of the macroscopic dielectric function used in expression for the model dielectric function.</p></li>
<li><p><strong>ecut</strong> â cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</p></li>
<li><p><strong>pawecutdg</strong> â cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the pseudos
according to accuracy)</p></li>
<li><p><strong>exc_type</strong> â Approximation used for the BSE Hamiltonian (Tamm-Dancoff or coupling).</p></li>
<li><p><strong>bs_algo</strong> â Algorith for the computatio of the macroscopic dielectric function.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving the SCF cycle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.ion_ioncell_relax_input">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">ion_ioncell_relax_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Monkhorst-pack'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#ion_ioncell_relax_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.ion_ioncell_relax_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> for a structural relaxation. The first dataset optmizes the
atomic positions at fixed unit cell. The second datasets optimizes both ions and unit cell parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>kppa</strong> â Defines the sampling used for the Brillouin zone.</p></li>
<li><p><strong>nband</strong> â Number of bands included in the SCF run.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for the solution of the SCF cycle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.ion_ioncell_relax_and_ebands_input">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">ion_ioncell_relax_and_ebands_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#ion_ioncell_relax_and_ebands_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.ion_ioncell_relax_and_ebands_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> for a structural relaxation followed by a band structure run.
The first dataset optimizes the atomic positions at fixed unit cell.
The second datasets optimizes both ions and unit cell parameters.
The other datasets perform a band structure calculation.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Client code is responsible for propagating the relaxed structure obtained with the
second dataset to the inputs used for the band structure calculation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>kppa</strong> â Defines the sampling used for the Brillouin zone.</p></li>
<li><p><strong>nband</strong> â Number of bands included in the SCF run.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving of the SCF cycle.</p></li>
</ul>
</dd>
</dl>
<p>Returns: <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> object</p>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.scf_phonons_inputs">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">scf_phonons_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#scf_phonons_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.scf_phonons_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a list of input files for performing phonon calculations.
GS input + the input files for the phonon calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>kppa</strong> â Defines the sampling used for the SCF run.</p></li>
<li><p><strong>ecut</strong> â cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</p></li>
<li><p><strong>pawecutdg</strong> â cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the
pseudos according to accuracy)</p></li>
<li><p><strong>scf_nband</strong> â Number of bands for SCF run. If scf_nband is None, nband is automatically initialized from the list of
pseudos, the structure and the smearing option.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving of the SCF cycle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.piezo_elastic_inputs_from_gsinput">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">piezo_elastic_inputs_from_gsinput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gs_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddk_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rf_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddk_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rf_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#piezo_elastic_inputs_from_gsinput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.piezo_elastic_inputs_from_gsinput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> for performing elastic and piezoelectric constants calculations.
GS input + the input files for the elastic and piezoelectric constants calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gs_inp</strong> â Ground State input to build piezo elastic inputs from.</p></li>
<li><p><strong>ddk_tol</strong> â Tolerance for the DDK calculation (i.e. {âtolwfrâ: 1.0e-20}).</p></li>
<li><p><strong>rf_tol</strong> â Tolerance for the Strain RF calculations (i.e. {âtolvrsâ: 1.0e-12}).</p></li>
<li><p><strong>ddk_split</strong> â Whether to split the DDK calculations.</p></li>
<li><p><strong>rf_split</strong> â whether to split the RF calculations.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.scf_piezo_elastic_inputs">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">scf_piezo_elastic_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddk_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rf_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddk_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rf_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#scf_piezo_elastic_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.scf_piezo_elastic_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> for performing elastic and piezoelectric constants calculations.
GS input + the input files for the elastic and piezoelectric constants calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
<li><p><strong>kppa</strong> â Defines the sampling used for the SCF run.</p></li>
<li><p><strong>ecut</strong> â cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</p></li>
<li><p><strong>pawecutdg</strong> â cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the
pseudos according to accuracy)</p></li>
<li><p><strong>scf_nband</strong> â Number of bands for SCF run. If scf_nband is None, nband is automatically initialized
from the list of pseudos, the structure and the smearing option.</p></li>
<li><p><strong>accuracy</strong> â Accuracy of the calculation.</p></li>
<li><p><strong>spin_mode</strong> â Spin polarization.</p></li>
<li><p><strong>smearing</strong> â Smearing technique.</p></li>
<li><p><strong>charge</strong> â Electronic charge added to the unit cell.</p></li>
<li><p><strong>scf_algorithm</strong> â Algorithm used for solving of the SCF cycle.</p></li>
<li><p><strong>ddk_tol</strong> â Tolerance for the Ddk calculation (i.e. {âtolwfrâ: 1.0e-20}).</p></li>
<li><p><strong>rf_tol</strong> â Tolerance for the Strain RF calculations (i.e. {âtolvrsâ: 1.0e-12}).</p></li>
<li><p><strong>ddk_split</strong> â Whether to split the ddk calculations.</p></li>
<li><p><strong>rf_split</strong> â whether to split the RF calculations.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.scf_for_phonons">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">scf_for_phonons</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pawecutdg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'normal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'polarized'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smearing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fermi_dirac:0.1</span> <span class="pre">eV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scf_algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Symmetric'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#scf_for_phonons"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.scf_for_phonons" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.dte_from_gsinput">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">dte_from_gsinput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gs_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_phonons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ph_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddk_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dde_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_dte_permutations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#dte_from_gsinput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.dte_from_gsinput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a list of inputs in the form of a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> to perform calculations of non-linear properties, based on
a ground state AbinitInput.</p>
<p>The inputs have the following tags, according to their function: âddkâ, âddeâ, âph_q_pertâ and âdteâ.
All of them have the tag âdfptâ.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gs_inp</strong> â an <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> representing a ground state calculation, likely the SCF performed to get the WFK.</p></li>
<li><p><strong>use_phonons</strong> â determine wether the phonon perturbations at gamma should be included or not</p></li>
<li><p><strong>ph_tol</strong> â a dictionary with a single key defining the type of tolerance used for the phonon calculations and
its value. Default: {âtolvrsâ: 1.0e-22}.</p></li>
<li><p><strong>ddk_tol</strong> â a dictionary with a single key defining the type of tolerance used for the DDK calculations and
its value. Default: {âtolwfrâ: 1.0e-22}.</p></li>
<li><p><strong>dde_tol</strong> â a dictionary with a single key defining the type of tolerance used for the DDE calculations and
its value. Default: {âtolvrsâ: 1.0e-22}.</p></li>
<li><p><strong>skip_dte_permutations</strong> â Since the current version of abinit always performs all the permutations of the
perturbations, even if only one is asked, if True avoids the creation of inputs that will produce
duplicated outputs.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.dfpt_from_gsinput">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">dfpt_from_gsinput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gs_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ph_ngqpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qpoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_ddk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_dde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_strain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_dte</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ph_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddk_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dde_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wfq_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strain_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_dte_permutations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#dfpt_from_gsinput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.dfpt_from_gsinput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a list of inputs in the form of a MultiDataset to perform a set of calculations based on DFPT including
phonons, elastic and non-linear properties. Requires a ground state <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> as a starting point.</p>
<p>It will determine if WFQ files should be calculated for some q points and add the NSCF AbinitInputs to the set.
The original input is included and the inputs have the following tags, according to their function:
âscfâ, âddkâ, âddeâ, ânscfâ, âph_q_pertâ, âstrainâ, âdteâ, âdfptâ.</p>
<p>N.B. Currently (version 8.8.3) anaddb does not support a DDB containing both 2nd order derivatives with qpoints
different from gamma AND  3rd oreder derivatives. The calculations could be run, but the global DDB will not
be directly usable as is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gs_inp</strong> â an <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> representing a ground state calculation, likely the SCF performed to get the WFK.</p></li>
<li><p><strong>ph_ngqpt</strong> â a list of three integers representing the gamma centered q-point grid used for the calculation.
If None and qpoint==None the ngkpt value present in the gs_input will be used.
Incompatible with qpoints.</p></li>
<li><p><strong>qpoints</strong> â a list of coordinates of q points in reduced coordinates for which the phonon perturbations will
be calculated. Incompatible with ph_ngqpt.</p></li>
<li><p><strong>do_ddk</strong> â If True, if Gamma is included in the list of qpoints it will add inputs for the calculations of
the DDK.</p></li>
<li><p><strong>do_dde</strong> â If True, if Gamma is included in the list of qpoints it will add inputs for the calculations of
the DDE. Automatically sets with_ddk=True.</p></li>
<li><p><strong>do_strain</strong> â If True inputs for the strain perturbations will be included.</p></li>
<li><p><strong>do_dte</strong> â If True inputs for the non-linear perturbations will be included. The phonon non-linear perturbations
will be included only if a phonon calculation at gamma is present. The caller is responsible for
adding it. Automatically sets with_dde=True.</p></li>
<li><p><strong>ph_tol</strong> â a dictionary with a single key defining the type of tolerance used for the phonon calculations and
its value. Default: {âtolvrsâ: 1.0e-10}.</p></li>
<li><p><strong>ddk_tol</strong> â a dictionary with a single key defining the type of tolerance used for the DDK calculations and
its value. Default: {âtolwfrâ: 1.0e-22}.</p></li>
<li><p><strong>dde_tol</strong> â a dictionary with a single key defining the type of tolerance used for the DDE calculations and
its value. Default: {âtolvrsâ: 1.0e-10}.</p></li>
<li><p><strong>wfq_tol</strong> â a dictionary with a single key defining the type of tolerance used for the NSCF calculations of
the WFQ and its value. Default {âtolwfrâ: 1.0e-22}.</p></li>
<li><p><strong>strain_tol</strong> â dictionary with a single key defining the type of tolerance used for the strain calculations of
and its value. Default {âtolvrsâ: 1.0e-12}.</p></li>
<li><p><strong>skip_dte_permutations</strong> â Since the current version of abinit always performs all the permutations of the
perturbations, even if only one is asked, if True avoids the creation of inputs that will produce
duplicated outputs.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.factories.minimal_scf_input">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.factories.</span></code><code class="sig-name descname"><span class="pre">minimal_scf_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#minimal_scf_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.factories.minimal_scf_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Provides an input for a calculation with the minimum possible requirements.
Can be used to execute abinit with minimal requirements when needing files
that are produced only after a full calculation completes.
In general this will contain 1 kpt, 1 band, very low cutoff, no polarization,
no smearing. Disables checks on primitive cell and symmetries.
Even for large system it will require small memory allocations and few seconds
to execute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>pseudos</strong> â List of filenames or list of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects or <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.PseudoTable" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.PseudoTable</span></code></a> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.input_tags">
<span id="input-tags-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">input_tags</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.input_tags" title="Permalink to this headline">Â¶</a></h2>
<p>This module contains a list of default tags for the AbinitInput object</p>
</div>
<div class="section" id="module-abipy.abio.inputs">
<span id="inputs-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">inputs</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.inputs" title="Permalink to this headline">Â¶</a></h2>
<p>This module defines objects to facilitate the creation of ABINIT input files.</p>
<dl class="py class">
<dt id="abipy.abio.inputs.AbstractInput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">AbstractInput</span></code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></a></p>
<p>Abstract class defining the methods that must be implemented by Input classes.</p>
<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.write">
<code class="sig-name descname"><span class="pre">write</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'run.abi'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Write the input file to file <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.deepcopy">
<code class="sig-name descname"><span class="pre">deepcopy</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.deepcopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.deepcopy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Deep copy of the input.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.set_vars">
<code class="sig-name descname"><span class="pre">set_vars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.set_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.set_vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the value of the variables.
Return dict with the variables added to the input.</p>
<p class="rubric">Example</p>
<p>input.set_vars(ecut=10, ionmov=3)</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.set_vars_ifnotin">
<code class="sig-name descname"><span class="pre">set_vars_ifnotin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.set_vars_ifnotin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.set_vars_ifnotin" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the value of the variables only if the variable is not already present.
Return dict with the variables added to the input.</p>
<p class="rubric">Example</p>
<p>input.set_vars(ecut=10, ionmov=3)</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.pop_vars">
<code class="sig-name descname"><span class="pre">pop_vars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.pop_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.pop_vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove the variables listed in keys.
Return dictionary with the variables that have been removed.
Unlike remove_vars, no exception is raised if the variables are not in the input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>keys</strong> â string or list of strings with variable names.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>inp.pop_vars([âionmovâ, âoptcellâ, ântimeâ, âdilatmxâ])</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.remove_vars">
<code class="sig-name descname"><span class="pre">remove_vars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.remove_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.remove_vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove the variables listed in keys.
Return dictionary with the variables that have been removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> â string or list of strings with variable names.</p></li>
<li><p><strong>strict</strong> â If True, KeyError is raised if at least one variable is not present.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.vars">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">vars</span></code><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dictionary with the input variables. Used to implement the dict-like interface.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.to_string">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns string with the input.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbstractInput.generate">
<code class="sig-name descname"><span class="pre">generate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.generate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function generates new inputs by replacing the variables specified in kwargs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> â keyword arguments with the values used for each variable.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gs_inp</span> <span class="o">=</span> <span class="n">call_function_to_generate_initial_template</span><span class="p">()</span>

<span class="c1"># To generate two input files with different values of ecut:</span>
<span class="k">for</span> <span class="n">inp_ecut</span> <span class="ow">in</span> <span class="n">gs_inp</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">ecut</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;do something with inp_ecut </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inp_ecut</span><span class="p">)</span>

<span class="c1"># To generate four input files with all the possible combinations of ecut and nsppol:</span>
<span class="k">for</span> <span class="n">inp_ecut</span> <span class="ow">in</span> <span class="n">gs_inpt</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">ecut</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="n">nsppol</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;do something with inp_ecut </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inp_ecut</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.inputs.AbiAbstractInput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">AbiAbstractInput</span></code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbiAbstractInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbiAbstractInput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.AbstractInput" title="abipy.abio.inputs.AbstractInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbstractInput</span></code></a></p>
<p>Abstract class defining the methods that must be implemented by Input objects.
associated to Abinit executables.</p>
<dl class="py method">
<dt id="abipy.abio.inputs.AbiAbstractInput.add_abiobjects">
<code class="sig-name descname"><span class="pre">add_abiobjects</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">abi_objects</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbiAbstractInput.add_abiobjects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbiAbstractInput.add_abiobjects" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function receive a list of <code class="docutils literal notranslate"><span class="pre">AbiVarable</span></code> objects and add
the corresponding variables to the input.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbiAbstractInput.abivalidate">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">abivalidate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbiAbstractInput.abivalidate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbiAbstractInput.abivalidate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This method should invoke the executable associated to the input object.
to test whether the input variables are correct and consistent.
The executable is supposed to implement some sort of <cite>âdry-run</cite> option
that invokes the parser to validate the input and exits immediately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the IBZ. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>retcode: Return code. 0 if OK.
output_file: output file of the run.
log_file:  log file of the Abinit run, use log_file.read() to access its content.
stderr_file: stderr file of the Abinit run. use stderr_file.read() to access its content.
task: Task object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">namedtuple</span></code> with the following attributes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="abipy.abio.inputs.AbinitInputError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">AbinitInputError</span></code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInputError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInputError" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Base error class for exceptions raised by <code class="docutils literal notranslate"><span class="pre">AbinitInput</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt id="abipy.abio.inputs.AbinitInput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">AbinitInput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudo_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abi_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abi_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_znucl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_typat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.AbiAbstractInput" title="abipy.abio.inputs.AbiAbstractInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbiAbstractInput</span></code></a>, <a class="reference external" href="https://pythonhosted.org/monty/monty.html#monty.json.MSONable" title="(in monty v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.Has_Structure" title="abipy.core.mixins.Has_Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.Has_Structure</span></code></a></p>
<p>This object stores the ABINIT variables for a single dataset.</p>
<p class="rubric">Inheritance Diagram</p>
<div class="graphviz"><img src="../_images/inheritance-9653aeb185a079642d9dc00d43877274be399732.png" alt="Inheritance diagram of AbinitInput" usemap="#inheritancea477a00259" class="inheritance graphviz" /></div>
<map id="inheritancea477a00259" name="inheritancea477a00259">
<area shape="rect" id="node1" href="#abipy.abio.inputs.AbiAbstractInput" target="_top" title="Abstract class defining the methods that must be implemented by Input objects." alt="" coords="550,49,655,61"/>
<area shape="rect" id="node3" href="#abipy.abio.inputs.AbinitInput" target="_top" title="This object stores the ABINIT variables for a single dataset." alt="" coords="677,26,765,38"/>
<area shape="rect" id="node2" href="#abipy.abio.inputs.AbstractInput" target="_top" title="Abstract class defining the methods that must be implemented by Input classes." alt="" coords="432,49,527,61"/>
<area shape="rect" id="node5" href="core_api.html#abipy.core.mixins.Has_Structure" target="_top" title="Mixin class for |AbinitNcFile| containing crystallographic data." alt="" coords="552,26,652,38"/>
</map><dl class="py attribute">
<dt id="abipy.abio.inputs.AbinitInput.Error">
<code class="sig-name descname"><span class="pre">Error</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.Error" title="Permalink to this definition">Â¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.AbinitInputError" title="abipy.abio.inputs.AbinitInputError"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInputError</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.enforce_znucl_and_typat">
<code class="sig-name descname"><span class="pre">enforce_znucl_and_typat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">znucl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.enforce_znucl_and_typat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.enforce_znucl_and_typat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>These arrays are used to enforce a particular value of <cite>znucl</cite> and <cite>typat</cite> when writing the Abinit input file
This trick may be useful if the ordering of the types based on the sites in the structure does not
match the one used to produce other input file such as DDB/DVDB.
The ordering indeed changed â¦</p>
<p>znucl[ntypat] =
typat[natom] = Fortran convention. Start to count from 1.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.variable_checksum">
<code class="sig-name descname"><span class="pre">variable_checksum</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.variable_checksum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.variable_checksum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return string with sha1 value in hexadecimal format.
This method is mainly used in unit tests to check the invariance of the input objects</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.vars">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">vars</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dictionary with variables.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.runlevel">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">runlevel</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.runlevel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A set of strings defining the calculation type.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.decorators">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">decorators</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.decorators" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of decorators.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.register_decorator">
<code class="sig-name descname"><span class="pre">register_decorator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decorator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.register_decorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.register_decorator" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Register a <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInputDecorator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_mnemonics">
<code class="sig-name descname"><span class="pre">set_mnemonics</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boolean</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_mnemonics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_mnemonics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if mnemonics should be printed</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.mnemonics">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">mnemonics</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.mnemonics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return True if mnemonics should be printed</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.uses_ktimereversal">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">uses_ktimereversal</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.uses_ktimereversal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if time-reversal symmetry is used to generate k-points in the IBZ.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_spell_check">
<code class="sig-name descname"><span class="pre">set_spell_check</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">false_or_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_spell_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_spell_check" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Activate/Deactivate spell-checking</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.spell_check">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">spell_check</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.spell_check" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if spell checking is activated.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sortmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'section'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_mnemonics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_pseudos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sortmode</strong> â âsectionâ if variables should be grouped by sections.
âaâ for alphabetical order, None if no sorting is wanted.</p></li>
<li><p><strong>with_mnemonics</strong> â True if mnemonics should be added.</p></li>
<li><p><strong>mode</strong> â Either <cite>text</cite> or <cite>html</cite> if HTML output with links is wanted.</p></li>
<li><p><strong>post</strong> â String that will be appended to the name of the variables
Note that post is usually autodetected when we have multiple datatasets
It is mainly used when we have an input file with a single dataset
so that we can prevent the code from adding â1â to the name of the variables
(In this case, indeed, Abinit complains if ndtset=1 is not specified
and we donât want ndtset=1 simply because the code will start to add
_DS1_ to all the input and output files.</p></li>
<li><p><strong>with_structure</strong> â False if section with structure variables should not be printed.</p></li>
<li><p><strong>with_pseudos</strong> â False if JSON section with pseudo data should not be added.</p></li>
<li><p><strong>exclude</strong> â List of variable names that should be ignored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.comment">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">comment</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.comment" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Optional string with comment. None if comment is not set.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_comment">
<code class="sig-name descname"><span class="pre">set_comment</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_comment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_comment" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set a comment to be included at the top of the file.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.structure">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">structure</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.structure" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object associated to this input.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_structure">
<code class="sig-name descname"><span class="pre">set_structure</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_structure" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set structure.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_kmesh">
<code class="sig-name descname"><span class="pre">set_kmesh</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_kmesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_kmesh" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables for the sampling of the BZ.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngkpt</strong> â Monkhorst-Pack divisions</p></li>
<li><p><strong>shiftk</strong> â List of shifts.</p></li>
<li><p><strong>kptopt</strong> â Option for the generation of the mesh.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_gamma_sampling">
<code class="sig-name descname"><span class="pre">set_gamma_sampling</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_gamma_sampling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_gamma_sampling" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Gamma-only sampling of the BZ.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_autokmesh">
<code class="sig-name descname"><span class="pre">set_autokmesh</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nksmall</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_autokmesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_autokmesh" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables (ngkpt, shift, kptopt) for the sampling of the BZ.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nksmall</strong> â Number of k-points used to sample the smallest lattice vector.</p></li>
<li><p><strong>kptopt</strong> â Option for the generation of the mesh.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.get_ngkpt_shiftk">
<code class="sig-name descname"><span class="pre">get_ngkpt_shiftk</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.get_ngkpt_shiftk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.get_ngkpt_shiftk" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return info on the k-point sampling from the input file,
more specifically a tuple with nkgpt and shift.
ngkpt is set to None if the BZ sampling cannot be described in terms of
three divisions + one shift.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_phdos_qmesh">
<code class="sig-name descname"><span class="pre">set_phdos_qmesh</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nqsmall</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tetra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ph_qshift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_phdos_qmesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_phdos_qmesh" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables (ngkpt, shift, kptopt) for the computation of the Phonon DOS in Abinit.
Remember that the Phdos is computed via Fourier interpolation so thereâs no constraint
of the q-mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nqsmall</strong> â Number of k-points used to sample the smallest lattice vector.</p></li>
<li><p><strong>method</strong> â âgaussianâ or âtetraâ.</p></li>
<li><p><strong>ph_qshift</strong> â Shift for the mesh.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_kpath">
<code class="sig-name descname"><span class="pre">set_kpath</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndivsm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iscf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_kpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_kpath" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables for the NSCF computation of the electronic band structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndivsm</strong> â if &gt; 0, itâs the number of divisions for the smallest segment of the path (Abinit variable).
if &lt; 0, itâs interpreted as the pymatgen <cite>line_density</cite> parameter in which the number of points
in the segment is proportional to its length. Typical value: -20.
This option is the recommended one if the k-path contains two consecutive high symmetry k-points
that are very close as ndivsm &gt; 0 may produce a very large number of wavevectors.</p></li>
<li><p><strong>kptbounds</strong> â k-points defining the path in k-space.
If None, we use the default high-symmetry k-path defined in the pymatgen database.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_qpath">
<code class="sig-name descname"><span class="pre">set_qpath</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndivsm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qptbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_qpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_qpath" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables for the computation of the phonon band structure
and phonon linewidths in the EPH part.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndivsm</strong> â Number of divisions for the smallest segment in the q-path.</p></li>
<li><p><strong>qptbounds</strong> â q-points defining the path in q-space.
If None, we use the default high-symmetry q-path defined in the pymatgen database.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_kptgw">
<code class="sig-name descname"><span class="pre">set_kptgw</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kptgw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bdgw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_kptgw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_kptgw" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables (k-points, bands) and nkptgw for the computation of self-energy matrix elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kptgw</strong> â List of k-points in reduced coordinates.</p></li>
<li><p><strong>bdgw</strong> â Specifies the range of bands for the GW corrections.
Accepts iterable that can be reshaped as (nkptgw, 2)
or a tuple of two integers if the extrema are the same for each k-point.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_spin_mode">
<code class="sig-name descname"><span class="pre">set_spin_mode</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spin_mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_spin_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_spin_mode" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables used to the treat the spin degree of freedom.
Return dictionary with the variables that have been removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spin_mode</strong> â <code class="xref py py-class docutils literal notranslate"><span class="pre">SpinMode</span></code> object or string. Possible values for string are:</p></li>
<li><p><strong>polarized</strong> (<em>-</em>) â </p></li>
<li><p><strong>unpolarized</strong> (<em>-</em>) â </p></li>
<li><p><strong>afm</strong> (<em>-</em>) â </p></li>
<li><p><strong>spinor</strong> (<em>-</em>) â </p></li>
<li><p><strong>spinor_nomag</strong> (<em>-</em>) â </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_autospinat">
<code class="sig-name descname"><span class="pre">set_autospinat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.6</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_autospinat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_autospinat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variable spinat for collinear calculation in the format (0, 0, m) with the value of m determined
with the following order of preference:</p>
<ol class="arabic simple">
<li><p>If the site of the structure has a magmom setting, that is used.</p></li>
<li><p>If the species on the site has a spin setting, that is used.</p></li>
<li><p>If the species itself has a particular setting in the config file, that
is used, e.g., Mn3+ may have a different magmom than Mn4+.</p></li>
<li><p>The element symbol itself is checked in the config file.</p></li>
<li><p>If there are no settings, the default value is used.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_spinat_from_symbols">
<code class="sig-name descname"><span class="pre">set_spinat_from_symbols</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symb2spinat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_spinat_from_symbols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_spinat_from_symbols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set spinat parameters from a dictionary mapping chemical simbol to spinat value.
If an element in the structure is not present in symb2luj, default is used.</p>
<p class="rubric">Example</p>
<p>symb2spinat = {âEuâ: [0, 0, 7]}
inp.set_spinat_from_symbols(symb2spinat)</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_usepawu">
<code class="sig-name descname"><span class="pre">set_usepawu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usepawu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symb2luj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eV'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_usepawu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_usepawu" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set DFT+U parameters for PAW calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>usepawu</strong> â Option specifying the DFT+U flavor (Abinit input variable).</p></li>
<li><p><strong>symb2luj</strong> â Dictionary mapping chemical symbol to the values of <cite>lpawu</cite>, <cite>upawu</cite> and <cite>jpawu</cite>.
If an element in the structure is not present in symb2luj, the U+J term is automatically
disabled for this element. In other words, only the element on which U+J should be applied
must be speficied.</p></li>
<li><p><strong>units</strong> â Energy units for U and J. Note that defaultis eV although ABINIT uses Hartree by default!</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>symb2luj = {âEuâ: {âlpawuâ: 3, âupawuâ: 7, âjpawuâ: 0.7}
inp.set_luj(symb2luj)</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.set_kmesh_nband_and_occ">
<code class="sig-name descname"><span class="pre">set_kmesh_nband_and_occ</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsppol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">occ1k_spin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nspinor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">occopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_kmesh_nband_and_occ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_kmesh_nband_and_occ" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Helper function to set occupancies when occopt == 2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngkpt</strong> â Divisions of the k-mesh.</p></li>
<li><p><strong>shiftk</strong> â Shifts in reduced coordinates.</p></li>
<li><p><strong>nsppol</strong> â Spin polarization (Abinit input variable).</p></li>
<li><p><strong>occ1k_spin</strong> â List of <cite>nppols</cite> strings with the occupations for a single kpoint and
the spin_up, spin_down channels if nsppol is 2.</p></li>
<li><p><strong>nspinor</strong> â </p></li>
<li><p><strong>kptopt</strong> â </p></li>
<li><p><strong>occopt</strong> â </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.pseudos">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">pseudos</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pseudos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.pseudos.html#pymatgen.io.abinit.pseudos.Pseudo" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.pseudos.Pseudo</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.ispaw">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">ispaw</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.ispaw" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if this is a PAW calculation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.isnc">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">isnc</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.isnc" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if this is a norm-conserving calculation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.num_valence_electrons">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">num_valence_electrons</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.num_valence_electrons" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of valence electrons computed from the pseudos and the structure.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.valence_electrons_per_atom">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">valence_electrons_per_atom</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.valence_electrons_per_atom" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of valence electrons for each atom in the structure.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.linspace">
<code class="sig-name descname"><span class="pre">linspace</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.linspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.linspace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generate <cite>num</cite> input files by changing the value of variable <cite>varname</cite> over the interval [<cite>start</cite>, <cite>stop</cite>].
The endpoint of the interval can optionally be excluded.</p>
<p class="rubric">Example</p>
<p>input_list = gs_template.linspace(âecutâ, start=10, stop=60)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> â The starting value of the sequence.</p></li>
<li><p><strong>stop</strong> â The end value of the sequence, unless <cite>endpoint</cite> is set to False.
In this case, the sequence consists of all but the last of <code class="docutils literal notranslate"><span class="pre">ndtset</span> <span class="pre">+</span> <span class="pre">1</span></code>
evenly spaced samples, so that <cite>stop</cite> is excluded.  Note that the step
size changes when <cite>endpoint</cite> is False.</p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) â Number of samples to generate. Default is 50.</p></li>
<li><p><strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) â optional. If True, <cite>stop</cite> is the last sample. Otherwise, it is not included.
Default is True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.arange">
<code class="sig-name descname"><span class="pre">arange</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.arange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.arange" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generate list of input files by changing the value of variable <cite>varname</cite> over the interval [<cite>start</cite>, <cite>stop</cite>].
Values are generated within the half-open interval <code class="docutils literal notranslate"><span class="pre">[start,</span> <span class="pre">stop)</span></code>
(in other words, the interval including <cite>start</cite> but excluding <cite>stop</cite>).</p>
<p>When using a non-integer step, such as 0.1, the results will often not
be consistent. It is better to use <code class="docutils literal notranslate"><span class="pre">linspace</span></code> for these cases.</p>
<p class="rubric">Example</p>
<p>input_list = gs_template.linspace(âecutâ, start=10, stop=60, step=10)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> â Start of interval. The interval includes this value. The default start value is 0.</p></li>
<li><p><strong>stop</strong> â End of interval.  The interval does not include this value, except
in some cases where <cite>step</cite> is not an integer and floating point</p></li>
<li><p><strong>step</strong> â Spacing between values.  For any output <cite>out</cite>, this is the distance
between two adjacent values, <code class="docutils literal notranslate"><span class="pre">out[i+1]</span> <span class="pre">-</span> <span class="pre">out[i]</span></code>.  The default
step size is 1.  If <cite>step</cite> is specified, <cite>start</cite> must also be given.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.product">
<code class="sig-name descname"><span class="pre">product</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.product" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Cartesian product of input iterables. Equivalent to nested for-loops.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inp</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="s2">&quot;ngkpt&quot;</span><span class="p">,</span> <span class="s2">&quot;tsmear&quot;</span><span class="p">,</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.new_with_vars">
<code class="sig-name descname"><span class="pre">new_with_vars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.new_with_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.new_with_vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a new input with the given variables.</p>
<p class="rubric">Example</p>
<p>new = input.new_with_vars(ecut=20, tsmear=0.04)</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.new_with_structure">
<code class="sig-name descname"><span class="pre">new_with_structure</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scdims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.new_with_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.new_with_structure" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> with a different structure.
See notes below for the constraints that must be fulfilled by the new structure</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_structure</strong> â Parameters defining the crystalline structure. Accepts <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object
file with structure (CIF, netcdf file, â¦) or dictionary with ABINIT geo variables.</p></li>
<li><p><strong>scdims</strong> â 3 integer giving with the number of cells in the supercell along the three reduced directions.
Must be used when <cite>new_structure</cite> represents a supercell of the initial structure defined
in the input file.</p></li>
<li><p><strong>verbose</strong> â Verbosity level.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If <code class="docutils literal notranslate"><span class="pre">scdims</span></code> is None (i.e. no supercell), the two structures must have the same value of
<cite>natom</cite> and <cite>typat</cite>, they can only differ at the level of the lattice and of the atomic positions.
When structure represents a supercell, <cite>scdims</cite> must be coherent with the <cite>new_structure</cite> passed
as argument.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.new_with_decorators">
<code class="sig-name descname"><span class="pre">new_with_decorators</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decorators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.new_with_decorators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.new_with_decorators" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function receives a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitInputDecorator</span></code> objects or just a single object,
applies the decorators to the input and returns a new <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> object. self is not changed.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.pop_tolerances">
<code class="sig-name descname"><span class="pre">pop_tolerances</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.pop_tolerances"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pop_tolerances" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove all the tolerance variables present in the input.
Return dictionary with the variables that have been removed.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.pop_irdvars">
<code class="sig-name descname"><span class="pre">pop_irdvars</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.pop_irdvars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pop_irdvars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove all the <cite>ird*</cite> variables present in the input.
Return dictionary with the variables that have been removed.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.scf_tolvar">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">scf_tolvar</span></code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.scf_tolvar" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the tolerance variable and value relative to the SCF convergence.
If more than one is present, an error is raised.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_ebands_input">
<code class="sig-name descname"><span class="pre">make_ebands_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndivsm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolwfr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_ebands_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_ebands_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generate an input file for NSCF band structure calculation from a GS SCF input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndivsm</strong> â if &gt; 0, itâs the number of divisions for the smallest segment of the path (Abinit variable).
if &lt; 0, itâs interpreted as the pymatgen <cite>line_density</cite> parameter in which the number of points
in the segment is proportional to its length. Typical value: -20.
This option is the recommended one if the k-path contains two high symmetry k-points that are very close
as ndivsm &gt; 0 may produce a very large number of wavevectors.</p></li>
<li><p><strong>tolwfr</strong> â Tolerance on residuals for NSCF calculation.</p></li>
<li><p><strong>nscf_nband</strong> â Number of bands for NSCF calculation. If None, use nband + nb_extra</p></li>
<li><p><strong>nb_extra</strong> â Extra bandd to to be added to input nband if nscf_nband is None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_edos_input">
<code class="sig-name descname"><span class="pre">make_edos_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolwfr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscf_nband</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_edos_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_edos_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generate an input file for electron DOS calculation from a GS-SCF input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngkpt</strong> â Number of divisions for the k-mesh.</p></li>
<li><p><strong>shiftk</strong> â List of k-mesh shifts.</p></li>
<li><p><strong>tolwfr</strong> â Tolerance on residuals for NSCF calculation</p></li>
<li><p><strong>nscf_nband</strong> â Number of bands for NSCF calculation. +10 if None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_nscf_kptopt0_input">
<code class="sig-name descname"><span class="pre">make_nscf_kptopt0_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kpts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolwfr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iscf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_nscf_kptopt0_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_nscf_kptopt0_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build an input for NSCF calculation from a GS-SCF one.
Uses explicit list of k-points and kptopt 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kpts</strong> â List of k-points in reduced coordinates.</p></li>
<li><p><strong>tolwfr</strong> â Tolerance on residuals.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_dfpt_effmass_inputs">
<code class="sig-name descname"><span class="pre">make_dfpt_effmass_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kpts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">effmass_bands_f90</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngfft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolwfr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iscf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_dfpt_effmass_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_dfpt_effmass_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> object with 2 inputs for the calculation of effective masses with DFPT
The first input in a standard NSCF run, the second input computes the effective masses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kpts</strong> â List of k-points in reduced coordinates where effective masses are wanted.</p></li>
<li><p><strong>efmas_bands_f90</strong> â (nkpt, 2) array with band range for effmas computation.
WARNING: Assumes Fortran convention with indices starting from 1.</p></li>
<li><p><strong>ngfft</strong> â FFT divisions (3 integers). Used to enforce the same FFT mesh in the NSCF run as the one used for GS.</p></li>
<li><p><strong>tolwfr</strong> â Tolerance on residuals.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_ph_inputs_qpoint">
<code class="sig-name descname"><span class="pre">make_ph_inputs_qpoint</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prtwf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepgkk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_ph_inputs_qpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_ph_inputs_qpoint" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Builds and returns a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> list of input files for the calculation of phonons
at the given q-point <cite>qpt</cite>. This method should be called with an input the represents a GS run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qpt</strong> â q-point in reduced coordinates.</p></li>
<li><p><strong>tolerance</strong> â dict {varname: value} with the tolerance to be used in the DFPT run.
Defaults to {âtolvrsâ: 1.0e-10}.</p></li>
<li><p><strong>prtwf</strong> â 1WFs are only needed for restarting 2nd order DFPT or non-linear response.
Since these files are huge, we use prtwf -1 so that the 1WF file is produced
only if the calculation is not converged so that AbiPy can restart it.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The routine assumes the q-point is such that k + q belongs to the initial GS mesh
so that the DFPT run can be started from the WFK file directly without having
to generate intermediate WFQ files.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_ddk_inputs">
<code class="sig-name descname"><span class="pre">make_ddk_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_vk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_ddk_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_ddk_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return inputs for performing DDK calculations.
This functions should be called with an input the represents a GS run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerance</strong> â dict {varname: value} with the tolerance to be used in the DFPT run.
Defaults to {âtolwfrâ: 1.0e-22}.</p></li>
<li><p><strong>kptopt</strong> â 2 to take into account time-reversal symmetry. Note that kptopt 1 is not available.</p></li>
<li><p><strong>only_vk</strong> â If only matrix elements of the velocity operator are needed.
First-order wavefunctions wonât be converged â&gt; not usable for other DFPT calculations.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> objects for DFPT runs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_dde_inputs">
<code class="sig-name descname"><span class="pre">make_dde_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_symmetries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_dde_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_dde_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> inputs for the calculation of electric field perturbations.
This functions should be called with an input the represents a GS run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerance</strong> â dict {varname: value} with the tolerance to be used in the DFPT run.
Defaults to {âtolvrsâ: 1.0e-22}.</p></li>
<li><p><strong>use_symmetries</strong> â boolean that computes the irreducible components of the perturbation.
Default to True. Should be set to False for nonlinear coefficients calculation.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_dte_inputs">
<code class="sig-name descname"><span class="pre">make_dte_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phonon_pert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_permutations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ixc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_dte_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_dte_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> inputs for DTE calculation.
This functions should be called with an input that represents a GS run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phonon_pert</strong> â is True also the phonon perturbations will be considered. Default False.</p></li>
<li><p><strong>skip_permutations</strong> â Since the current version of abinit always performs all the permutations
of the perturbations, even if only one is asked, if True avoids the creation of inputs that
will produce duplicated outputs.</p></li>
<li><p><strong>ixc</strong> â Value of ixc variable. Used to overwrite the default value read from pseudos.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_bec_inputs">
<code class="sig-name descname"><span class="pre">make_bec_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_bec_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_bec_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> inputs for the calculation of Born effective charges.
This functions should be called with an input that represents a GS run.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_strain_perts_inputs">
<code class="sig-name descname"><span class="pre">make_strain_perts_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonon_pert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_strain_perts_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_strain_perts_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> inputs for strain perturbation calculation.
This functions should be called with an input that represents a GS run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerance</strong> â dict {varname: value} with the tolerance to be used in the DFPT run.
Defaults to {âtolvrsâ: 1.0e-12}.</p></li>
<li><p><strong>phonon_pert</strong> â isf True also the phonon perturbations are considered. Default False.</p></li>
<li><p><strong>kptopt</strong> â 2 to take into account time-reversal symmetry.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_wfk_kerange_inputs">
<code class="sig-name descname"><span class="pre">make_wfk_kerange_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma_kerange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_ngkpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">einterp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">5,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_wfk_kerange_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_wfk_kerange_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> with two inputs for performing a WFK calculation with the kerange trick.
This method should be called with the input associated to the NSCF run that produces
the WFK file used for the interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma_kerange</strong> â The energy window for the WFK generation.</p></li>
<li><p><strong>sigma_ngkpt</strong> â The fine grid of kpt inside the sigma_kerange interval.</p></li>
<li><p><strong>einterp</strong> â The interpolation used. By default it is a star-function interpolation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.make_eph_transport_input">
<code class="sig-name descname"><span class="pre">make_eph_transport_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ddb_ngqpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_erange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eph_ngqpt_fine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mixprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boxcutmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ibte_prep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ibte_niter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ibte_abs_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_eph_transport_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_eph_transport_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> to perform phonon-limited transport calculations.
This method is usually called with the input associated to the NSCF run that produces
the WFK file used to start the EPH run so that we can directly inherit the k-mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ddb_ngqpt</strong> â the coarse qpt grid used to compute the DDB and DVDB files in the phonon_work.</p></li>
<li><p><strong>eph_ngqpt_fine</strong> â the fine qpt grid used for the Fourier interpolation.</p></li>
<li><p><strong>sigma_erange</strong> â Energy window for k-states (see Abinit variable)</p></li>
<li><p><strong>tmesh</strong> â The mesh of temperatures (in Kelvin)</p></li>
<li><p><strong>boxcutmin</strong> â For the last task only, 1.1 is often used to decrease memory and is faster over the Abinit default of 2.</p></li>
<li><p><strong>mixprec</strong> â For the last task only, 1 is often used to make the EPH calculation faster. Note that Abinit default is 0.</p></li>
<li><p><strong>ibte_prep</strong> â Set it to 1 to activate the iterative Boltzmann equation. Default is RTA.</p></li>
<li><p><strong>ibte_niter</strong> â Number of iterations to solve the Boltzmann equation.</p></li>
<li><p><strong>ibte_abs_tol</strong> â Stopping criterion for the IBTE.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abivalidate">
<code class="sig-name descname"><span class="pre">abivalidate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abivalidate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abivalidate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Run ABINIT in dry-run mode to validate the input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> â Working directory of the temporary task. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>retcode: Return code. 0 if OK.
output_file: output file of the run.
log_file: log file of the Abinit run, use log_file.read() to access the content.
stderr_file: stderr file of the Abinit run. use stderr_file.read() to access the content.
task: Task object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>namedtuple</cite> with the following attributes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_spacegroup">
<code class="sig-name descname"><span class="pre">abiget_spacegroup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolsym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_spacegroup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_spacegroup" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function invokes Abinit to get the space group (as detected by Abinit, not by spglib)
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolsym</strong> â Abinit tolsym input variable. None corresponds to the default value.</p></li>
<li><p><strong>retdict</strong> â True to return dictionary with space group information instead of Structure.</p></li>
<li><p><strong>workdir</strong> â Working directory of the temporary task used to compute the IBZ. None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
<li><p><strong>verbose</strong> â Verbosity level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object with AbinitSpaceGroup obtained from the main output file if retdict is False
else dict with e.g.
{âbravaisâ: âBravais cF (face-center cubic)â, âspg_numberâ: 227, âspg_symbolâ: âFd-3mâ}.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_ibz">
<code class="sig-name descname"><span class="pre">abiget_ibz</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_ibz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_ibz" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function computes the list of points in the IBZ with the corresponding weights.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngkpt</strong> â Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</p></li>
<li><p><strong>shiftk</strong> â List of shifts (default None i.e. use shiftk from self)</p></li>
<li><p><strong>kptopt</strong> â Option for k-point generation. If None, the value in self is used.</p></li>
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
<li><p><strong>verbose</strong> â verbosity level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>points: <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> with points in the IBZ in reduced coordinates.
weights: <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> with weights of the points.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>namedtuple</cite> with attributes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_phperts">
<code class="sig-name descname"><span class="pre">abiget_irred_phperts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepgkk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_phperts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_phperts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for DFPT.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qpt</strong> â qpoint of the phonon in reduced coordinates. Used to shift the k-mesh
if qpt is not passed, self must already contain âqptâ otherwise an exception is raised.</p></li>
<li><p><strong>ngkpt</strong> â Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</p></li>
<li><p><strong>shiftk</strong> â Shiftks (default None i.e. use shiftk from self)</p></li>
<li><p><strong>kptopt</strong> â Option for k-point generation. If None, the value in self is used.</p></li>
<li><p><strong>prepgkk</strong> â 1 to activate computation of all 3*natom perts (debugging option).</p></li>
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl class="simple">
<dt>[{âidirâ: 1, âipertâ: 1, âqptâ: [0.25, 0.0, 0.0]},</dt><dd><p>{âidirâ: 2, âipertâ: 1, âqptâ: [0.25, 0.0, 0.0]}]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_ddeperts">
<code class="sig-name descname"><span class="pre">abiget_irred_ddeperts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_ddeperts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_ddeperts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for DFPT computations.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngkpt</strong> â Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</p></li>
<li><p><strong>shiftk</strong> â Shiftks (default None i.e. use shiftk from self)</p></li>
<li><p><strong>kptopt</strong> â Option for k-point generation. If None, the value in self is used.</p></li>
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl class="simple">
<dt>[{âidirâ: 1, âipertâ: 4, âqptâ: [0.0, 0.0, 0.0]},</dt><dd><p>{âidirâ: 2, âipertâ: 4, âqptâ: [0.0, 0.0, 0.0]}]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_dteperts">
<code class="sig-name descname"><span class="pre">abiget_irred_dteperts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ixc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonon_pert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_dteperts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_dteperts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for DFPT.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngkpt</strong> â Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</p></li>
<li><p><strong>shiftk</strong> â Shiftks (default None i.e. use shiftk from self)</p></li>
<li><p><strong>kptopt</strong> â Option for k-point generation. If None, the value in self is used.</p></li>
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
<li><p><strong>phonon_pert</strong> â if True also the phonon perturbations will be considered. Default False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl class="simple">
<dt>[{âidirâ: 1, âipertâ: 4, âqptâ: [0.0, 0.0, 0.0]},</dt><dd><p>{âidirâ: 2, âipertâ: 4, âqptâ: [0.0, 0.0, 0.0]}]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_strainperts">
<code class="sig-name descname"><span class="pre">abiget_irred_strainperts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ngkpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shiftk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kptopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonon_pert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_strainperts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_strainperts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for strain perturbations in DFPT.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ngkpt</strong> â Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</p></li>
<li><p><strong>shiftk</strong> â Shiftks (default None i.e. use shiftk from self)</p></li>
<li><p><strong>kptopt</strong> â Option for k-point generation. If None, the value in self is used.</p></li>
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
<li><p><strong>phonon_pert</strong> â if True the phonon perturbation at gamma will be included.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl class="simple">
<dt>[{âidirâ: 1, âipertâ: 4, âqptâ: [0.0, 0.0, 0.0]},</dt><dd><p>{âidirâ: 2, âipertâ: 4, âqptâ: [0.0, 0.0, 0.0]}]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.pop_par_vars">
<code class="sig-name descname"><span class="pre">pop_par_vars</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.pop_par_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pop_par_vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove all the variables associated to parallelism from the input file.
Useful in case of a restart when we need to remove the parallel variables before rerunning autoparal</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_autoparal_pconfs">
<code class="sig-name descname"><span class="pre">abiget_autoparal_pconfs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_ncpus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoparal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_autoparal_pconfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_autoparal_pconfs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get all the possible configurations up to <code class="docutils literal notranslate"><span class="pre">max_ncpus</span></code>.
Return list of parallel configurations.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.add_tags">
<code class="sig-name descname"><span class="pre">add_tags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.add_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.add_tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add tags to the input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tags</strong> â A single tag or list/tuple/set of tags</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.remove_tags">
<code class="sig-name descname"><span class="pre">remove_tags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.remove_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.remove_tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove tags from the input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tags</strong> â A single tag or list/tuple/set of tags</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AbinitInput.run_in_shell">
<code class="sig-name descname"><span class="pre">run_in_shell</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.run_in_shell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.run_in_shell" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Helper method to quickly execute abinit in a shell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
<li><p><strong>verbose</strong> â verbosity level.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.AbinitTask" title="abipy.flowtk.tasks.AbinitTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.AbinitTask</span></code></a> of the executed calculation.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.inputs.MultiDataset">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">MultiDataset</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pseudo_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndtset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This object is essentially a list of <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> objects.
It provides an easy-to-use interface to apply global changes to the
the inputs stored in the objects.</p>
<p>Letâs assume for example that multi contains two <code class="docutils literal notranslate"><span class="pre">AbinitInput</span></code> objects and we
want to set <cite>ecut</cite> to 1 in both dictionaries. The direct approach would be:</p>
<blockquote>
<div><dl class="simple">
<dt>for inp in multi:</dt><dd><p>inp.set_vars(ecut=1)</p>
</dd>
</dl>
</div></blockquote>
<p>or alternatively:</p>
<blockquote>
<div><dl class="simple">
<dt>for i in range(multi.ndtset):</dt><dd><p>multi[i].set_vars(ecut=1)</p>
</dd>
</dl>
</div></blockquote>
<p>MultiDataset provides its own implementaion of __getattr__ so that one can simply use:</p>
<blockquote>
<div><p>multi.set_vars(ecut=1)</p>
<p>multi.get(âecutâ) returns a list of values. It is equivalent to:</p>
<blockquote>
<div><p>[inp[âecutâ] for inp in multi]</p>
</div></blockquote>
<p>Note that if âecutâ is not present in one of the input of multi, the corresponding entry is set to None.
A default value can be specified with:</p>
<blockquote>
<div><p>multi.get(âparal_kgbâ, 0)</p>
</div></blockquote>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>MultiDataset does not support calculations done with different sets of pseudopotentials.
The inputs can have different crystalline structures (as long as the atom types are equal)
but each input in MultiDataset must have the same set of pseudopotentials.</p>
</div>
<dl class="py attribute">
<dt id="abipy.abio.inputs.MultiDataset.Error">
<code class="sig-name descname"><span class="pre">Error</span></code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.Error" title="Permalink to this definition">Â¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.AbinitInputError" title="abipy.abio.inputs.AbinitInputError"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInputError</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.from_inputs">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_inputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.from_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.from_inputs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build object from a list of <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.replicate_input">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">replicate_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndtset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.replicate_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.replicate_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Construct a multidataset with ndtset from the <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> input.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.ndtset">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">ndtset</span></code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.ndtset" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of inputs in MultiDataset.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.pseudos">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">pseudos</span></code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.pseudos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Pseudopotential objects.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.ispaw">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">ispaw</span></code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.ispaw" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if PAW calculation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.isnc">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">isnc</span></code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.isnc" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if norm-conserving calculation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.append">
<code class="sig-name descname"><span class="pre">append</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abinit_input</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.append" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add a <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> to the list.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.extend">
<code class="sig-name descname"><span class="pre">extend</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abinit_inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.extend" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Extends self with a list of <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.addnew_from">
<code class="sig-name descname"><span class="pre">addnew_from</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtindex</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.addnew_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.addnew_from" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add a new entry in the multidataset by copying the input with index <code class="docutils literal notranslate"><span class="pre">dtindex</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.split_datasets">
<code class="sig-name descname"><span class="pre">split_datasets</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.split_datasets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.split_datasets" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return list of <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbinitInput</span></code></a> objects..</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.deepcopy">
<code class="sig-name descname"><span class="pre">deepcopy</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.deepcopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.deepcopy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Deep copy of the MultiDataset.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.has_same_structures">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">has_same_structures</span></code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.has_same_structures" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if all inputs in the MultiDataset are equal.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_pseudos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String representation i.e. the ABINIT input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> â Either <code class="docutils literal notranslate"><span class="pre">text</span></code> or <code class="docutils literal notranslate"><span class="pre">html</span></code> if HTML output with links is wanted.</p></li>
<li><p><strong>with_pseudos</strong> â False if JSON section with pseudo data should not be added.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.get_vars_dataframe">
<code class="sig-name descname"><span class="pre">get_vars_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">varnames</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.get_vars_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.get_vars_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return pandas DataFrame with the value of the variables specified in <cite>varnames</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.filter_by_tags">
<code class="sig-name descname"><span class="pre">filter_by_tags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_tags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.filter_by_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.filter_by_tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Filters the input according to the tags</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tags</strong> â A single tag or list/tuple/set of tags</p></li>
<li><p><strong>exclude_tags</strong> â A single tag or list/tuple/set of tags that should be excluded</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> containing the inputs containing all the requested tags.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.add_tags">
<code class="sig-name descname"><span class="pre">add_tags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtindeces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.add_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.add_tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add tags to the selected inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tags</strong> â A single tag or list/tuple/set of tags</p></li>
<li><p><strong>dtindeces</strong> â a list of indices to which the tags will be added. None=all the inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.remove_tags">
<code class="sig-name descname"><span class="pre">remove_tags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtindeces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.remove_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.remove_tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove tags from the selected inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tags</strong> â A single tag or list/tuple/set of tags</p></li>
<li><p><strong>dtindeces</strong> â a list of indices from which the tags will be removed. None=all the inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.filter_by_runlevel">
<code class="sig-name descname"><span class="pre">filter_by_runlevel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runlevel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.filter_by_runlevel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.filter_by_runlevel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return new <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.MultiDataset</span></code></a> object in which only the inputs with the given runlevel are selected.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.MultiDataset.write">
<code class="sig-name descname"><span class="pre">write</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'run.abi'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Write <code class="docutils literal notranslate"><span class="pre">ndset</span></code> input files to disk. The name of the file is constructed from the dataset index e.g. runDS0.abi</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="abipy.abio.inputs.AnaddbInputError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">AnaddbInputError</span></code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInputError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInputError" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Base error class for exceptions raised by <cite>AnaddbInput</cite></p>
</dd></dl>

<dl class="py class">
<dt id="abipy.abio.inputs.AnaddbInput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">AnaddbInput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spell_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.AbiAbstractInput" title="abipy.abio.inputs.AbiAbstractInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbiAbstractInput</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.Has_Structure" title="abipy.core.mixins.Has_Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.Has_Structure</span></code></a></p>
<p>This object stores the anaddb variables.</p>
<p class="rubric">Inheritance Diagram</p>
<div class="graphviz"><img src="../_images/inheritance-4241eec88c43921303fffff7e67f6e8600d64660.png" alt="Inheritance diagram of AnaddbInput" usemap="#inheritance53ec35adff" class="inheritance graphviz" /></div>
<map id="inheritance53ec35adff" name="inheritance53ec35adff">
<area shape="rect" id="node1" href="#abipy.abio.inputs.AbiAbstractInput" target="_top" title="Abstract class defining the methods that must be implemented by Input objects." alt="" coords="546,26,650,38"/>
<area shape="rect" id="node4" href="#abipy.abio.inputs.AnaddbInput" target="_top" title="This object stores the anaddb variables." alt="" coords="673,14,765,26"/>
<area shape="rect" id="node2" href="#abipy.abio.inputs.AbstractInput" target="_top" title="Abstract class defining the methods that must be implemented by Input classes." alt="" coords="429,26,524,38"/>
<area shape="rect" id="node5" href="core_api.html#abipy.core.mixins.Has_Structure" target="_top" title="Mixin class for |AbinitNcFile| containing crystallographic data." alt="" coords="549,3,648,14"/>
</map><dl class="py attribute">
<dt id="abipy.abio.inputs.AnaddbInput.Error">
<code class="sig-name descname"><span class="pre">Error</span></code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.Error" title="Permalink to this definition">Â¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.AnaddbInputError" title="abipy.abio.inputs.AnaddbInputError"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInputError</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.vars">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">vars</span></code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dictionary with the input variables. Used to implement the dict-like interface.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.set_spell_check">
<code class="sig-name descname"><span class="pre">set_spell_check</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">false_or_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.set_spell_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.set_spell_check" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Activate/Deactivate spell-checking</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.spell_check">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">spell_check</span></code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.spell_check" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if spell checking is activated.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.modes_at_qpoint">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">modes_at_qpoint</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qpoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chneut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dipdip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifcflag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lo_to_splitting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spell_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.modes_at_qpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.modes_at_qpoint" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build an <a class="reference internal" href="#abipy.abio.inputs.AnaddbInput" title="abipy.abio.inputs.AnaddbInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInput</span></code></a> for the calculation of the phonon frequencies at a given q-point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object</p></li>
<li><p><strong>qpoint</strong> â Reduced coordinates of the q-point where phonon frequencies and modes are wanted</p></li>
<li><p><strong>asr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>chneut</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dipdp</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>ifcflag</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>lo_to_splitting</strong> â if True calculation of the LO-TO splitting will be included if qpoint==Gamma</p></li>
<li><p><strong>directions</strong> â list of 3D directions along which the LO-TO splitting will be calculated. If None the three
cartesian direction will be used</p></li>
<li><p><strong>anaddb_args</strong> â List of tuples (key, value) with Anaddb input variables (default: empty)</p></li>
<li><p><strong>anaddb_kwargs</strong> â Dictionary with Anaddb input variables (default: empty)</p></li>
<li><p><strong>spell_check</strong> â False to disable spell checking for input variables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.modes_at_qpoints">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">modes_at_qpoints</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qpoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chneut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dipdip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifcflag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lo_to_splitting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngqpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q1shft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spell_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.modes_at_qpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.modes_at_qpoints" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build an <a class="reference internal" href="#abipy.abio.inputs.AnaddbInput" title="abipy.abio.inputs.AnaddbInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInput</span></code></a> for the calculation of the phonon frequencies at a given q-point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object</p></li>
<li><p><strong>qpoints</strong> â List of reduced coordinates of the q-point where phonon frequencies and modes are wanted</p></li>
<li><p><strong>asr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>chneut</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dipdp</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>ifcflag</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>lo_to_splitting</strong> â if True calculation of the LO-TO splitting will be included if qpoint==Gamma</p></li>
<li><p><strong>directions</strong> â list of 3D directions along which the LO-TO splitting will be calculated. If None the three
cartesian direction will be used</p></li>
<li><p><strong>ngqpt</strong> â Monkhorst-Pack divisions for the phonon Q-mesh. Required if ifcflag=1.</p></li>
<li><p><strong>q1shft</strong> â Shifts used for the coarse Q-mesh</p></li>
<li><p><strong>anaddb_args</strong> â List of tuples (key, value) with Anaddb input variables (default: empty)</p></li>
<li><p><strong>anaddb_kwargs</strong> â Dictionary with Anaddb input variables (default: empty)</p></li>
<li><p><strong>spell_check</strong> â False to disable spell checking for input variables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.piezo_elastic">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">piezo_elastic</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relaxed_ion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stress_correction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chneut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dipdip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.piezo_elastic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.piezo_elastic" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build an <a class="reference internal" href="#abipy.abio.inputs.AnaddbInput" title="abipy.abio.inputs.AnaddbInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInput</span></code></a> for the calculation of piezoelectric and elastic tensor calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>chneut</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dipdp</strong> â Anaddb input variable. See official documentation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.phbands_and_dos">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">phbands_and_dos</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngqpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nqsmall</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndivsm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q1shft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qptbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chneut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dipdip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dos_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tetra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lo_to_splitting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_ifc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spell_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.phbands_and_dos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.phbands_and_dos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build an <a class="reference internal" href="#abipy.abio.inputs.AnaddbInput" title="abipy.abio.inputs.AnaddbInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInput</span></code></a> for the computation of phonon bands and phonon DOS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object</p></li>
<li><p><strong>ngqpt</strong> â Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</p></li>
<li><p><strong>nqsmall</strong> â Used to generate the (dense) mesh for the DOS.
It defines the number of q-points used to sample the smallest lattice vector.</p></li>
<li><p><strong>qppa</strong> â Defines the homogeneous q-mesh used for the DOS in units of q-points per reciproval atom.
Overrides nqsmall.</p></li>
<li><p><strong>line_density</strong> â Defines the a density of k-points per reciprocal atom to plot the phonon dispersion.
Overrides ndivsm.</p></li>
<li><p><strong>ndivsm</strong> â Used to generate a normalized path for the phonon bands.
If gives the number of divisions for the smallest segment of the path.</p></li>
<li><p><strong>q1shft</strong> â Shifts used for the coarse Q-mesh</p></li>
<li><p><strong>Boundaries of the path. If None</strong> (<em>qptbounds</em>) â depending on the input structure.</p></li>
<li><p><strong>path is generated from an internal database</strong> (<em>the</em>) â depending on the input structure.</p></li>
<li><p><strong>asr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>chneut</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dipdp</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dos_method</strong> â Possible choices: âtetraâ, âgaussianâ or âgaussian:0.001 eVâ.
In the later case, the value 0.001 eV is used as gaussian broadening</p></li>
<li><p><strong>lo_to_splitting</strong> â if True calculation of the LO-TO splitting will be included</p></li>
<li><p><strong>with_ifc</strong> â if True calculation of the interatomic force constants will be included.</p></li>
<li><p><strong>anaddb_args</strong> â List of tuples (key, value) with Anaddb input variables (default: empty)</p></li>
<li><p><strong>anaddb_kwargs</strong> â Dictionary with Anaddb input variables (default: empty)</p></li>
<li><p><strong>spell_check</strong> â False to disable spell checking for input variables.</p></li>
<li><p><strong>comment</strong> â Optional string with a comment that will be placed at the beginning of the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.modes">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">modes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enunit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chneut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.modes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.modes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build an <a class="reference internal" href="#abipy.abio.inputs.AnaddbInput" title="abipy.abio.inputs.AnaddbInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInput</span></code></a> for the computation of phonon modes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object</p></li>
<li><p><strong>ngqpt</strong> â Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</p></li>
<li><p><strong>nqsmall</strong> â Used to generate the (dense) mesh for the DOS.
It defines the number of q-points used to sample the smallest lattice vector.</p></li>
<li><p><strong>q1shft</strong> â Shifts used for the coarse Q-mesh</p></li>
<li><p><strong>Boundaries of the path. If None</strong> (<em>qptbounds</em>) â depending on the input structure.</p></li>
<li><p><strong>path is generated from an internal database</strong> (<em>the</em>) â depending on the input structure.</p></li>
<li><p><strong>asr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>chneut</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dipdp</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>anaddb_args</strong> â List of tuples (key, value) with Anaddb input variables (default: empty)</p></li>
<li><p><strong>anaddb_kwargs</strong> â Dictionary with Anaddb input variables (default: empty)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.ifc">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">ifc</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngqpt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifcout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q1shft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chneut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dipdip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.ifc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.ifc" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build an <a class="reference internal" href="#abipy.abio.inputs.AnaddbInput" title="abipy.abio.inputs.AnaddbInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInput</span></code></a> for the computation of interatomic force constants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object</p></li>
<li><p><strong>ngqpt</strong> â Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</p></li>
<li><p><strong>ifcout</strong> â Number of neighbouring atoms for which the ifcâs will be output. If None all the atoms in the big box.</p></li>
<li><p><strong>q1shft</strong> â Shifts used for the coarse Q-mesh</p></li>
<li><p><strong>asr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>chneut</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dipdip</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>anaddb_args</strong> â List of tuples (key, value) with Anaddb input variables (default: empty)</p></li>
<li><p><strong>anaddb_kwargs</strong> â Dictionary with Anaddb input variables (default: empty)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.dfpt">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">dfpt</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngqpt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relaxed_ion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">piezo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dte</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raman</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stress_correction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nqsmall</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qppa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndivsm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q1shft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qptbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chneut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dipdip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ramansr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dos_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tetra'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anaddb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.dfpt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.dfpt" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Builds an <a class="reference internal" href="#abipy.abio.inputs.AnaddbInput" title="abipy.abio.inputs.AnaddbInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AnaddbInput</span></code></a> to post-process a generic DFPT calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p></li>
<li><p><strong>ngqpt</strong> â Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</p></li>
<li><p><strong>stress_correction</strong> â True to activate computation of  stress correction in elastic tensor.
Requires DDB with stress entries.</p></li>
<li><p><strong>relaxed_ion</strong> â True to activate computation of relaxed-ion elastic and piezoelectric tensors.
(assume the DDB has atomic perturbations at Gamma)</p></li>
<li><p><strong>piezo</strong> â if True the piezoelectric tensor are calculated (requires piezoelectric perturbations)</p></li>
<li><p><strong>dde</strong> â if True dielectric tensors will be calculated. If phonon band
structure is calculated will also enable the calculation of the lo_to splitting
(requires the DDE perturbations)</p></li>
<li><p><strong>strain</strong> â if True the elastic tensors will be calculated (requires the strain perturbations)</p></li>
<li><p><strong>dte</strong> â if True properties related to the nonlinear tensors will be calculated
(requires third orders perturbations)</p></li>
<li><p><strong>raman</strong> â if True the Raman tensor will be calculated (sets dte to True).</p></li>
<li><p><strong>nqsmall</strong> â Used to generate the (dense) mesh for the DOS.
It defines the number of q-points used to sample the smallest lattice vector.</p></li>
<li><p><strong>qppa</strong> â Defines the homogeneous q-mesh used for the DOS in units of q-points per reciproval atom.
Overrides nqsmall.</p></li>
<li><p><strong>line_density</strong> â Defines the a density of k-points per reciprocal atom to plot the phonon dispersion.
Overrides ndivsm.</p></li>
<li><p><strong>ndivsm</strong> â Used to generate a normalized path for the phonon bands.
If gives the number of divisions for the smallest segment of the path.</p></li>
<li><p><strong>q1shft</strong> â Shifts used for the coarse Q-mesh</p></li>
<li><p><strong>qptbounds</strong> â Boundaries of the path. If None, the path is generated from an internal database
depending on the input structure.</p></li>
<li><p><strong>asr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>chneut</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dipdp</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>ramansr</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>alphon</strong> â Anaddb input variable. See official documentation.</p></li>
<li><p><strong>dos_method</strong> â Possible choices: âtetraâ, âgaussianâ or âgaussian:0.001 eVâ.
In the later case, the value 0.001 eV is used as gaussian broadening</p></li>
<li><p><strong>directions</strong> â list of 3D directions along which the non analytical contribution will be calculated.
If None the three cartesian direction will be used. Used only when dte=True.</p></li>
<li><p><strong>anaddb_args</strong> â List of tuples (key, value) with Anaddb input variables (default: empty)</p></li>
<li><p><strong>anaddb_kwargs</strong> â Dictionary with Anaddb input variables (default: empty)</p></li>
<li><p><strong>comment</strong> â Optional string with a comment that will be placed at the beginning of the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.structure">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">structure</span></code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.structure" title="Permalink to this definition">Â¶</a></dt>
<dd><p><a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sortmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sortmode</strong> â âaâ for alphabetical order, None if no sorting is wanted</p></li>
<li><p><strong>mode</strong> â Either <cite>text</cite> or <cite>html</cite> if HTML output with links is wanted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.set_qpath">
<code class="sig-name descname"><span class="pre">set_qpath</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ndivsm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qptbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.set_qpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.set_qpath" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variables for the computation of the phonon band structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ndivsm</strong> â Number of divisions for the smallest segment.</p></li>
<li><p><strong>qptbounds</strong> â q-points defining the path in k-space.
If None, we use the default high-symmetry k-path defined in the pymatgen database.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.set_autoqmesh">
<code class="sig-name descname"><span class="pre">set_autoqmesh</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nqsmall</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.set_autoqmesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.set_autoqmesh" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the variable nqpt for the sampling of the BZ.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nqsmall</strong> â Number of divisions used to sample the smallest lattice vector.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.AnaddbInput.abivalidate">
<code class="sig-name descname"><span class="pre">abivalidate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.abivalidate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.abivalidate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Run ANADDB in dry-run mode to validate the input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>retcode: Return code. 0 if OK.
output_file: output file of the run.
log_file:  log file of the Abinit run, use log_file.read() to access its content.
stderr_file: stderr file of the Abinit run. use stderr_file.read() to access its content.
task: Task object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>namedtuple</cite> with the following attributes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.inputs.OpticVar">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">OpticVar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticVar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticVar" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.OpticVar" title="abipy.abio.inputs.OpticVar"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.OpticVar</span></code></a></p>
<dl class="py method">
<dt id="abipy.abio.inputs.OpticVar.url">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">url</span></code><a class="headerlink" href="#abipy.abio.inputs.OpticVar.url" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The url associated to the variable.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticVar.html_link">
<code class="sig-name descname"><span class="pre">html_link</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticVar.html_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticVar.html_link" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String with the URL of the web page.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="abipy.abio.inputs.OpticError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">OpticError</span></code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticError" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Error class raised by OpticInput.</p>
</dd></dl>

<dl class="py class">
<dt id="abipy.abio.inputs.OpticInput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">OpticInput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.AbiAbstractInput" title="abipy.abio.inputs.AbiAbstractInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.AbiAbstractInput</span></code></a>, <a class="reference external" href="https://pythonhosted.org/monty/monty.html#monty.json.MSONable" title="(in monty v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></a></p>
<p>Input file for optic executable</p>
<dl class="py attribute">
<dt id="abipy.abio.inputs.OpticInput.Error">
<code class="sig-name descname"><span class="pre">Error</span></code><a class="headerlink" href="#abipy.abio.inputs.OpticInput.Error" title="Permalink to this definition">Â¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.OpticError" title="abipy.abio.inputs.OpticError"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.inputs.OpticError</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticInput.vars">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">vars</span></code><a class="headerlink" href="#abipy.abio.inputs.OpticInput.vars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dictionary with the input variables. Used to implement the dict-like interface.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticInput.get_default">
<code class="sig-name descname"><span class="pre">get_default</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.get_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.get_default" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the default value of variable <cite>key</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticInput.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticInput.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticInput.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String representation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticInput.only_independent_chi_components">
<code class="sig-name descname"><span class="pre">only_independent_chi_components</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assume_symmetric_tensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.only_independent_chi_components"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.only_independent_chi_components" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Use the crystal system returned by spglib to find the independent components
of the linear susceptibility tensor and set the appropriate variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> â Crystalline structure</p></li>
<li><p><strong>assume_symmetric_tensor</strong> â True if tensor can be assumed symmetric.
Note that the tensor is symmetric only for a lossless and non-optically active material.</p></li>
<li><p><strong>symprec</strong> â Parameters passed to spglib.</p></li>
<li><p><strong>angle_tolerance</strong> â Parameters passed to spglib.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Set internal variables and return list of components to compute.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.OpticInput.abivalidate">
<code class="sig-name descname"><span class="pre">abivalidate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.abivalidate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.abivalidate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Run OPTIC in dry-run mode to validate the input file.
Note: This method is a stub, it always return retcode 0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> â Working directory of the fake task used to compute the ibz. Use None for temporary dir.</p></li>
<li><p><strong>manager</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.tasks.TaskManager" title="abipy.flowtk.tasks.TaskManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.TaskManager</span></code></a> of the task. If None, the manager is initialized from the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>retcode: Return code. 0 if OK.
output_file: output file of the run.
log_file:  log file of the Abinit run, use log_file.read() to access its content.
stderr_file: stderr file of the Abinit run. use stderr_file.read() to access its content.
task: Task object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>namedtuple</cite> with the following attributes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.inputs.Cut3DInput">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">Cut3DInput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://pythonhosted.org/monty/monty.html#monty.json.MSONable" title="(in monty v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This object stores the options to run a single cut3d analysis.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Converters with nspden &gt; 1 wonât work since cut3d asks for the ispden index.</p>
</div>
<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a string with the input.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.write">
<code class="sig-name descname"><span class="pre">write</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the input to a file.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_3d_formatted">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">den_to_3d_formatted</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_3d_formatted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_3d_formatted" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a 3D formatted format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit.
Can be None to be defined at a later time.</p></li>
<li><p><strong>output_filepath</strong> â path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_3d_indexed">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">den_to_3d_indexed</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_3d_indexed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_3d_indexed" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a 3D indexed format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</p></li>
<li><p><strong>output_filepath</strong> â path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_molekel">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">den_to_molekel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_molekel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_molekel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a Molekel format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</p></li>
<li><p><strong>output_filepath</strong> â path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_tecplot">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">den_to_tecplot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_tecplot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_tecplot" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a Tecplot format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</p></li>
<li><p><strong>output_filepath</strong> â path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_xsf">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">den_to_xsf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_xsf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_xsf" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to an xsf format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</p></li>
<li><p><strong>output_filepath</strong> â path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</p></li>
<li><p><strong>shift</strong> â a list of three integers defining the shift along the x, y, z axis.
None if no shift is required.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_cube">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">den_to_cube</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_cube" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a cube format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</p></li>
<li><p><strong>output_filepath</strong> â path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.hirshfeld">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">hirshfeld</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_el_dens_paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.hirshfeld"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.hirshfeld" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the calculation of the Hirshfeld charges from the density.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</p></li>
<li><p><strong>all_el_dens_paths</strong> â a list of paths to the all-electron density files corresponding to the elements defined
in the abinit input. See <a class="reference external" href="https://www.abinit.org/downloads/all_core_electron">https://www.abinit.org/downloads/all_core_electron</a> for files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.hirshfeld_from_fhi_path">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">hirshfeld_from_fhi_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fhi_all_el_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.hirshfeld_from_fhi_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.hirshfeld_from_fhi_path" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a cut3d input for the calculation of the Hirshfeld charges from the density. Automatically
selects the all-electron density files from a folder containing the fhi all-electron density files:
<a class="reference external" href="https://www.abinit.org/downloads/all_core_electron">https://www.abinit.org/downloads/all_core_electron</a></p>
<p>This will work only if the input has been generated with AbinitInput and the Structure object is the same
provided to AbinitInput because the order of the pseudos depends on znucl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_filepath</strong> â absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</p></li>
<li><p><strong>structure</strong> â the structure used for the ground state calculation. Used to determine the elements</p></li>
<li><p><strong>fhi_all_el_path</strong> â path to the folder containing the fhi all-electron density files</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.as_dict">
<code class="sig-name descname"><span class="pre">as_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.as_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.inputs.Cut3DInput.from_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.from_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="abipy.abio.inputs.product_dict">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">product_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#product_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.product_dict" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function receives a dictionary d where each key defines a list of items or a simple scalar.
It constructs the Cartesian product of the values (equivalent to nested for-loops),
and returns a list of dictionaries with the values that would be used inside the loop.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]),</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]),</span> <span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="p">[{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="gp">... </span><span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span>
<span class="gp">... </span><span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="gp">... </span><span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="abipy.abio.inputs.kpoints_from_line_density">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.inputs.</span></code><code class="sig-name descname"><span class="pre">kpoints_from_line_density</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#kpoints_from_line_density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.inputs.kpoints_from_line_density" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Compute an high-symmetry k-path using pymatgen conventions and line_density</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line_density</strong> â Number of points in each segment is computed as: int(ceil(distance * line_density))
where distance is the lenght of the segment.
This option is the recommended one if the k-path contains two consecutive high symmetry k-points
that are very close as ndivsm &gt; 0 may produce a very large number of wavevectors.</p></li>
<li><p><strong>symprec</strong> â Symmetry precision passed to spglib.</p></li>
</ul>
</dd>
</dl>
<p>Return: (nkpt,3) numpy array with k-points in reduced coords.</p>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.outputs">
<span id="outputs-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">outputs</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.outputs" title="Permalink to this headline">Â¶</a></h2>
<p>Objects used to extract and plot results from output files in text format.</p>
<dl class="py class">
<dt id="abipy.abio.outputs.AbinitTextFile">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.outputs.</span></code><code class="sig-name descname"><span class="pre">AbinitTextFile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitTextFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitTextFile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.TextFile</span></code></p>
<p>Base class for the ABINIT main output files and log files.</p>
<dl class="py method">
<dt id="abipy.abio.outputs.AbinitTextFile.events">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">events</span></code><a class="headerlink" href="#abipy.abio.outputs.AbinitTextFile.events" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of ABINIT events reported in the file.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitTextFile.get_timer">
<code class="sig-name descname"><span class="pre">get_timer</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitTextFile.get_timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitTextFile.get_timer" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Timer data.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.outputs.AbinitLogFile">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.outputs.</span></code><code class="sig-name descname"><span class="pre">AbinitLogFile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitLogFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitLogFile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.outputs.AbinitTextFile" title="abipy.abio.outputs.AbinitTextFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.outputs.AbinitTextFile</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>Class representing the Abinit log file.</p>
<p class="rubric">Inheritance Diagram</p>
<div class="graphviz"><img src="../_images/inheritance-265ffd96b28b33b1d2d4eb800e44cb801e128b52.png" alt="Inheritance diagram of AbinitLogFile" usemap="#inheritance3cb3580177" class="inheritance graphviz" /></div>
<map id="inheritance3cb3580177" name="inheritance3cb3580177">
<area shape="rect" id="node1" href="#abipy.abio.outputs.AbinitLogFile" target="_top" title="Class representing the Abinit log file." alt="" coords="605,24,764,43"/>
<area shape="rect" id="node2" href="#abipy.abio.outputs.AbinitTextFile" target="_top" title="Base class for the ABINIT main output files and log files." alt="" coords="403,4,565,24"/>
<area shape="rect" id="node3" href="core_api.html#abipy.core.mixins.NotebookWriter" target="_top" title="Mixin class for objects that are able to generate jupyter_ notebooks." alt="" coords="400,42,568,62"/>
</map><dl class="py method">
<dt id="abipy.abio.outputs.AbinitLogFile.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitLogFile.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitLogFile.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitLogFile.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitLogFile.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitLogFile.plot" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Empty placeholder.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitLogFile.yield_figs">
<code class="sig-name descname"><span class="pre">yield_figs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitLogFile.yield_figs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitLogFile.yield_figs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function <em>generates</em> a predefined list of matplotlib figures with minimal input from the user.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitLogFile.write_notebook">
<code class="sig-name descname"><span class="pre">write_notebook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitLogFile.write_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitLogFile.write_notebook" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Write a <a class="reference external" href="http://jupyter.org/">jupyter</a> notebook to <code class="docutils literal notranslate"><span class="pre">nbpath</span></code>. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.outputs.AbinitOutputFile">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.outputs.</span></code><code class="sig-name descname"><span class="pre">AbinitOutputFile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.outputs.AbinitTextFile" title="abipy.abio.outputs.AbinitTextFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.outputs.AbinitTextFile</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>Class representing the main Abinit output file.</p>
<p class="rubric">Inheritance Diagram</p>
<div class="graphviz"><img src="../_images/inheritance-2212602c2aa5f3e7559d91a3e3bf9b0a3464e6d3.png" alt="Inheritance diagram of AbinitOutputFile" usemap="#inheritance37da1e7bb5" class="inheritance graphviz" /></div>
<map id="inheritance37da1e7bb5" name="inheritance37da1e7bb5">
<area shape="rect" id="node1" href="#abipy.abio.outputs.AbinitOutputFile" target="_top" title="Class representing the main Abinit output file." alt="" coords="594,23,764,42"/>
<area shape="rect" id="node2" href="#abipy.abio.outputs.AbinitTextFile" target="_top" title="Base class for the ABINIT main output files and log files." alt="" coords="396,4,555,23"/>
<area shape="rect" id="node3" href="core_api.html#abipy.core.mixins.NotebookWriter" target="_top" title="Mixin class for objects that are able to generate jupyter_ notebooks." alt="" coords="393,41,558,61"/>
</map><dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.initial_structures">
<code class="sig-name descname"><span class="pre">initial_structures</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.initial_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.initial_structures" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of initial <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.has_same_initial_structures">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">has_same_initial_structures</span></code><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.has_same_initial_structures" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if all initial structures are equal.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.final_structures">
<code class="sig-name descname"><span class="pre">final_structures</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.final_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.final_structures" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of final <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.initial_structure">
<code class="sig-name descname"><span class="pre">initial_structure</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.initial_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.initial_structure" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> defined in the output file.</p>
<p>If the input file contains multiple datasets <strong>AND</strong> the datasets
have different structures, this property returns None.
In this case, one has to access the structure of the individual datasets.
For example:</p>
<blockquote>
<div><p>self.initial_structures[0]</p>
</div></blockquote>
<p>gives the structure of the first dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.has_same_final_structures">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">has_same_final_structures</span></code><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.has_same_final_structures" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if all initial structures are equal.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.final_structure">
<code class="sig-name descname"><span class="pre">final_structure</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.final_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.final_structure" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The <a class="reference internal" href="core_api.html#abipy.core.structure.Structure" title="abipy.core.structure.Structure"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.structure.Structure</span></code></a> defined in the output file.</p>
<p>If the input file contains multiple datasets <strong>AND</strong> the datasets
have different structures, this property returns None.
In this case, one has to access the structure of the individual datasets.
For example:</p>
<blockquote>
<div><p>self.final_structures[0]</p>
</div></blockquote>
<p>gives the structure of the first dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.diff_datasets">
<code class="sig-name descname"><span class="pre">diff_datasets</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt_list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_list2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">differ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.diff_datasets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.diff_datasets" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Compare datasets</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String representation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.get_dims_spginfo_dataframe">
<code class="sig-name descname"><span class="pre">get_dims_spginfo_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.get_dims_spginfo_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.get_dims_spginfo_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Parse the section with the dimensions of the calculation. Return Dataframe.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.get_dims_spginfo_dataset">
<code class="sig-name descname"><span class="pre">get_dims_spginfo_dataset</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.get_dims_spginfo_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.get_dims_spginfo_dataset" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Parse the section with the dimensions of the calculation. Return dictionaries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verbose</strong> â Verbosity level.</p>
</dd>
</dl>
<dl class="simple">
<dt>Return: (dims_dataset, spginfo_dataset)</dt><dd><p>where dims_dataset[i] is an OrderedDict with the dimensions of dataset <cite>i</cite>
spginfo_dataset[i] is a dictionary with space group information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.next_gs_scf_cycle">
<code class="sig-name descname"><span class="pre">next_gs_scf_cycle</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.next_gs_scf_cycle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.next_gs_scf_cycle" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the next <code class="xref py py-class docutils literal notranslate"><span class="pre">GroundStateScfCycle</span></code> in the file. None if not found.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.get_all_gs_scf_cycles">
<code class="sig-name descname"><span class="pre">get_all_gs_scf_cycles</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.get_all_gs_scf_cycles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.get_all_gs_scf_cycles" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return list of <code class="xref py py-class docutils literal notranslate"><span class="pre">GroundStateScfCycle</span></code> objects. Empty list if no entry is found.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.next_d2de_scf_cycle">
<code class="sig-name descname"><span class="pre">next_d2de_scf_cycle</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.next_d2de_scf_cycle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.next_d2de_scf_cycle" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <code class="xref py py-class docutils literal notranslate"><span class="pre">D2DEScfCycle</span></code> with information on the DFPT iterations. None if not found.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.get_all_d2de_scf_cycles">
<code class="sig-name descname"><span class="pre">get_all_d2de_scf_cycles</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.get_all_d2de_scf_cycles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.get_all_d2de_scf_cycles" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return list of <code class="xref py py-class docutils literal notranslate"><span class="pre">D2DEScfCycle</span></code> objects. Empty list if no entry is found.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.plot">
<code class="sig-name descname"><span class="pre">plot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_timer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.plot" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Plot GS/DFPT SCF cycles and timer data found in the output file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>with_timer</strong> â True if timer section should be plotted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.yield_figs">
<code class="sig-name descname"><span class="pre">yield_figs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.yield_figs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.yield_figs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function <em>generates</em> a predefined list of matplotlib figures with minimal input from the user.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.compare_gs_scf_cycles">
<code class="sig-name descname"><span class="pre">compare_gs_scf_cycles</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">others</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.compare_gs_scf_cycles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.compare_gs_scf_cycles" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Produce and returns a list of <a class="reference external" href="http://matplotlib.org">matplotlib</a> figure comparing the GS self-consistent
cycle in self with the ones in others.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>others</strong> â list of <a class="reference internal" href="#abipy.abio.outputs.AbinitOutputFile" title="abipy.abio.outputs.AbinitOutputFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitOutputFile</span></code></a> objects or strings with paths to output files.</p></li>
<li><p><strong>show</strong> â True to diplay plots.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.compare_d2de_scf_cycles">
<code class="sig-name descname"><span class="pre">compare_d2de_scf_cycles</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">others</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.compare_d2de_scf_cycles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.compare_d2de_scf_cycles" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Produce and returns a <a class="reference external" href="http://matplotlib.org">matplotlib</a> figure comparing the DFPT self-consistent
cycle in self with the ones in others.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>others</strong> â list of <a class="reference internal" href="#abipy.abio.outputs.AbinitOutputFile" title="abipy.abio.outputs.AbinitOutputFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbinitOutputFile</span></code></a> objects or strings with paths to output files.</p></li>
<li><p><strong>show</strong> â True to diplay plots.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.get_panel">
<code class="sig-name descname"><span class="pre">get_panel</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.get_panel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.get_panel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build panel with widgets to interact with the Abinit output file either in a notebook or in panel app.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AbinitOutputFile.write_notebook">
<code class="sig-name descname"><span class="pre">write_notebook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.write_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.write_notebook" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Write a <a class="reference external" href="http://jupyter.org/">jupyter</a> notebook to nbpath. If <code class="docutils literal notranslate"><span class="pre">nbpath</span></code> is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="abipy.abio.outputs.validate_output_parser">
<code class="sig-prename descclassname"><span class="pre">abipy.abio.outputs.</span></code><code class="sig-name descname"><span class="pre">validate_output_parser</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abitests_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#validate_output_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.validate_output_parser" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Validate/test Abinit output parser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirpath</strong> â Abinit tests directory.</p></li>
<li><p><strong>output_files</strong> â List of Abinit output files.</p></li>
</ul>
</dd>
</dl>
<p>Return: Exit code.</p>
</dd></dl>

<dl class="py class">
<dt id="abipy.abio.outputs.AboRobot">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.outputs.</span></code><code class="sig-name descname"><span class="pre">AboRobot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AboRobot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AboRobot" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.robots.Robot" title="abipy.abio.robots.Robot"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.abio.robots.Robot</span></code></a></p>
<p>This robot analyzes the results contained in multiple Abinit output files.
Can compare dimensions, SCF cycles, analyze timers.</p>
<p class="rubric">Inheritance Diagram</p>
<div class="graphviz"><img src="../_images/inheritance-d6d032dabd7da8f55cf1eab3b08ebc5293498729.png" alt="Inheritance diagram of AboRobot" usemap="#inheritance2f43c8a51a" class="inheritance graphviz" /></div>
<map id="inheritance2f43c8a51a" name="inheritance2f43c8a51a">
<area shape="rect" id="node1" href="#abipy.abio.outputs.AboRobot" target="_top" title="This robot analyzes the results contained in multiple Abinit output files." alt="" coords="612,4,764,25"/>
<area shape="rect" id="node2" href="#abipy.abio.robots.Robot" target="_top" title="This is the base class from which all Robot subclasses should derive." alt="" coords="446,4,574,25"/>
<area shape="rect" id="node3" href="core_api.html#abipy.core.mixins.NotebookWriter" target="_top" title="Mixin class for objects that are able to generate jupyter_ notebooks." alt="" coords="234,4,408,25"/>
</map><dl class="py attribute">
<dt id="abipy.abio.outputs.AboRobot.EXT">
<code class="sig-name descname"><span class="pre">EXT</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'abo'</span></em><a class="headerlink" href="#abipy.abio.outputs.AboRobot.EXT" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AboRobot.get_dims_dataframe">
<code class="sig-name descname"><span class="pre">get_dims_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AboRobot.get_dims_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AboRobot.get_dims_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build and return <a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with the dimensions of the calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_time</strong> â True if walltime and cputime should be added</p></li>
<li><p><strong>index</strong> â Index of the dataframe. Use relative paths of files if None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AboRobot.get_dataframe">
<code class="sig-name descname"><span class="pre">get_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_geo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AboRobot.get_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AboRobot.get_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with the most important results and the filenames as index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_geo</strong> â True if structure info should be added to the dataframe</p></li>
<li><p><strong>with_dims</strong> â True if dimensions should be added</p></li>
<li><p><strong>abspath</strong> â True if paths in index should be absolute. Default: Relative to getcwd().</p></li>
<li><p><strong>funcs</strong> â Function or list of functions to execute to add more data to the DataFrame.
Each function receives a <a class="reference internal" href="electrons_api.html#abipy.electrons.gsr.GsrFile" title="abipy.electrons.gsr.GsrFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.electrons.gsr.GsrFile</span></code></a> object and returns a tuple (key, value)
where key is a string with the name of column and value is the value to be inserted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AboRobot.get_time_dataframe">
<code class="sig-name descname"><span class="pre">get_time_dataframe</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AboRobot.get_time_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AboRobot.get_time_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a <a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with the wall-time, cpu time in seconds and the filenames as index.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AboRobot.yield_figs">
<code class="sig-name descname"><span class="pre">yield_figs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AboRobot.yield_figs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AboRobot.yield_figs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function <em>generates</em> a predefined list of matplotlib figures with minimal input from the user.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.AboRobot.write_notebook">
<code class="sig-name descname"><span class="pre">write_notebook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AboRobot.write_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.AboRobot.write_notebook" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Write a <a class="reference external" href="http://jupyter.org/">jupyter</a> notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.outputs.OutNcFile">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.outputs.</span></code><code class="sig-name descname"><span class="pre">OutNcFile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#OutNcFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.OutNcFile" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core_api.html#abipy.core.mixins.AbinitNcFile" title="abipy.core.mixins.AbinitNcFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.AbinitNcFile</span></code></a></p>
<p>Class representing the _OUT.nc file containing the dataset results
produced at the end of the run. The netcdf variables can be accessed
via instance attribute e.g. <code class="docutils literal notranslate"><span class="pre">outfile.ecut</span></code>. Provides integration with <a class="reference external" href="https://ipython.org/index.html">ipython</a>.</p>
<dl class="py method">
<dt id="abipy.abio.outputs.OutNcFile.params">
<code class="sig-name descname"><span class="pre">params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#OutNcFile.params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.OutNcFile.params" title="Permalink to this definition">Â¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code> with parameters that might be subject to convergence studies.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.OutNcFile.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#OutNcFile.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.OutNcFile.close" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Close the file.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.outputs.OutNcFile.get_allvars">
<code class="sig-name descname"><span class="pre">get_allvars</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#OutNcFile.get_allvars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.outputs.OutNcFile.get_allvars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Read all <a class="reference external" href="https://www.unidata.ucar.edu/software/netcdf/docs/faq.html#whatisit">netcdf</a> variables present in the file.
Return dictionary varname â&gt; value</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-abipy.abio.robots">
<span id="robots-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">robots</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.robots" title="Permalink to this headline">Â¶</a></h2>
<p>This module defines the Robot BaseClass. Robots operates on multiple files and provide helper
functions to plot the data e.g. convergence studies and to build pandas dataframes from the output files.</p>
<dl class="py class">
<dt id="abipy.abio.robots.Robot">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.robots.</span></code><code class="sig-name descname"><span class="pre">Robot</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>This is the base class from which all Robot subclasses should derive.
A Robot supports the <cite>with</cite> context manager:</p>
<p>Usage example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Robot</span><span class="p">([(</span><span class="s2">&quot;label1&quot;</span><span class="p">,</span> <span class="s2">&quot;file1&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">label2</span><span class="p">,</span> <span class="s2">&quot;file2&quot;</span><span class="p">)])</span> <span class="k">as</span> <span class="n">robot</span><span class="p">:</span>
    <span class="c1"># Do something with robot. files are automatically closed when we exit.</span>
    <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">abifile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="abipy.abio.robots.Robot.start">
<code class="sig-name descname"><span class="pre">start</span></code><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#abipy.abio.robots.Robot.start" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.get_supported_extensions">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get_supported_extensions</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.get_supported_extensions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.get_supported_extensions" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of strings with extensions supported by Robot subclasses.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.class_for_ext">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">class_for_ext</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ext</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.class_for_ext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.class_for_ext" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the Robot subclass associated to the given extension.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.from_dir">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dir</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">walk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_dir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This class method builds a robot by scanning all files located within directory <cite>top</cite>.
This method should be invoked with a concrete robot class, for example:</p>
<blockquote>
<div><p>robot = GsrRobot.from_dir(â.â)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>top</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) â Root directory</p></li>
<li><p><strong>walk</strong> â if True, directories inside <cite>top</cite> are included as well.</p></li>
<li><p><strong>abspath</strong> â True if paths in index should be absolute. Default: Relative to <cite>top</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.from_dirs">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dirs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">walk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_dirs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Similar to <cite>from_dir</cite> but accepts a list of directories instead of a single directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>walk</strong> â if True, directories inside <cite>top</cite> are included as well.</p></li>
<li><p><strong>abspath</strong> â True if paths in index should be absolute. Default: Relative to <cite>top</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.from_dir_glob">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_dir_glob</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">walk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_dir_glob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_dir_glob" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This class method builds a robot by scanning all files located within the directories
matching <cite>pattern</cite> as implemented by glob.glob
This method should be invoked with a concrete robot class, for example:</p>
<blockquote>
<div><p>robot = GsrRobot.from_dir_glob(âflow_dir/w*/outdata/â)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> â Pattern string</p></li>
<li><p><strong>walk</strong> â if True, directories inside <cite>top</cite> are included as well.</p></li>
<li><p><strong>abspath</strong> â True if paths in index should be absolute. Default: Relative to getcwd().</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.class_handles_filename">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">class_handles_filename</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.class_handles_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.class_handles_filename" title="Permalink to this definition">Â¶</a></dt>
<dd><p>True if robot class handles filename.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.from_files">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_files</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_files" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build a Robot from a list of <cite>filenames</cite>.
if labels is None, labels are automatically generated from absolute paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>abspath</strong> â True if paths in index should be absolute. Default: Relative to <cite>top</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.from_flow">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_flow</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_flow" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build a robot from a <a class="reference internal" href="flowtk_api.html#abipy.flowtk.flows.Flow" title="abipy.flowtk.flows.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.flows.Flow</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flow</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.flows.Flow" title="abipy.flowtk.flows.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.flows.Flow</span></code></a> object</p></li>
<li><p><strong>outdirs</strong> â String used to select/ignore the files in the output directory of flow, works and tasks
outdirs=âworkâ selects only the outdir of the Works,
outdirs=âflow+taskâ selects the outdir of the Flow and the outdirs of the tasks
outdirs=â-workâ excludes the outdir of the Works.
Cannot use <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> flags in the same string.
Default: <cite>all</cite> that is equivalent to âflow+work+taskâ</p></li>
<li><p><strong>nids</strong> â List of node identifiers used to select particular nodes. Not used if None</p></li>
<li><p><strong>ext</strong> â File extension associated to the robot. Mainly used if method is invoked with the BaseClass</p></li>
<li><p><strong>task_class</strong> â Task class or string with the class name used to select the tasks in the flow.
None implies no filtering.</p></li>
</ul>
</dd>
</dl>
<p>Usage example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">abilab</span><span class="o">.</span><span class="n">GsrRobot</span><span class="o">.</span><span class="n">from_flow</span><span class="p">(</span><span class="n">flow</span><span class="p">)</span> <span class="k">as</span> <span class="n">robot</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>

<span class="c1"># That is equivalent to:</span>
<span class="k">with</span> <span class="n">Robot</span><span class="o">.</span><span class="n">from_flow</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s2">&quot;GSR&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">robot</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Robot</span></code> subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.add_extfile_of_node">
<code class="sig-name descname"><span class="pre">add_extfile_of_node</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.add_extfile_of_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.add_extfile_of_node" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add the file produced by this node to the robot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> â <a class="reference internal" href="flowtk_api.html#abipy.flowtk.flows.Flow" title="abipy.flowtk.flows.Flow"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.flows.Flow</span></code></a> or <a class="reference internal" href="flowtk_api.html#abipy.flowtk.works.Work" title="abipy.flowtk.works.Work"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.works.Work</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.flowtk.tasks.Task</span></code> object.</p></li>
<li><p><strong>nids</strong> â List of node identifiers used to select particular nodes. Not used if None</p></li>
<li><p><strong>task_class</strong> â Task class or string with class name used to select the tasks in the flow.
None implies no filtering.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.scan_dir">
<code class="sig-name descname"><span class="pre">scan_dir</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">walk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.scan_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.scan_dir" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scan directory tree starting from <code class="docutils literal notranslate"><span class="pre">top</span></code>. Add files to the robot instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>top</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) â Root directory</p></li>
<li><p><strong>walk</strong> â if True, directories inside <code class="docutils literal notranslate"><span class="pre">top</span></code> are included as well.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of files found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.add_file">
<code class="sig-name descname"><span class="pre">add_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abifile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_abifile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.add_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.add_file" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add a file to the robot with the given label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> â String used to identify the file (must be unique, ax exceptions is
raised if label is already present.</p></li>
<li><p><strong>abifile</strong> â Specify the file to be added. Accepts strings (filepath) or abipy file-like objects.</p></li>
<li><p><strong>filter_abifile</strong> â Function that receives an <code class="docutils literal notranslate"><span class="pre">abifile</span></code> object and returns
True if the file should be added to the plotter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.iter_lineopt">
<code class="sig-name descname"><span class="pre">iter_lineopt</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.iter_lineopt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.iter_lineopt" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates matplotlib linestyles.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.ordered_intersection">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">ordered_intersection</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.ordered_intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.ordered_intersection" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return ordered intersection of two lists. Items must be hashable.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.pop_label">
<code class="sig-name descname"><span class="pre">pop_label</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.pop_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.pop_label" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Remove file with the given <code class="docutils literal notranslate"><span class="pre">label</span></code> and close it.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.change_labels">
<code class="sig-name descname"><span class="pre">change_labels</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.change_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.change_labels" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Change labels of the files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_labels</strong> â List of strings (same length as self.abifiles)</p></li>
<li><p><strong>dryrun</strong> â True to activate dryrun mode.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mapping new_label â&gt; old_label.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.remap_labels">
<code class="sig-name descname"><span class="pre">remap_labels</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.remap_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.remap_labels" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Change labels of the files by executing <code class="docutils literal notranslate"><span class="pre">function</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> â Callable object e.g. lambda function. The output of function(abifile) is used as
new label. Note that the function shall not return duplicated labels when applied to self.abifiles.</p></li>
<li><p><strong>dryrun</strong> â True to activate dryrun mode.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mapping new_label â&gt; old_label.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.trim_paths">
<code class="sig-name descname"><span class="pre">trim_paths</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.trim_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.trim_paths" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Replace absolute filepaths in the robot with relative paths wrt to <code class="docutils literal notranslate"><span class="pre">start</span></code> directory.
If start is None, os.getcwd() is used. Set <code class="docutils literal notranslate"><span class="pre">self.start</span></code> attribute, return <code class="docutils literal notranslate"><span class="pre">self.start</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.exceptions">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">exceptions</span></code><a class="headerlink" href="#abipy.abio.robots.Robot.exceptions" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of exceptions.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.keys">
<code class="sig-name descname"><span class="pre">keys</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.keys" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.items">
<code class="sig-name descname"><span class="pre">items</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.items" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.labels">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">labels</span></code><a class="headerlink" href="#abipy.abio.robots.Robot.labels" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of strings used to create labels in matplotlib figures when plotting results
taked from multiple files. By default, labels is initialized with the path of the files in the robot.
Use change_labels to change the list.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.get_label_files_str">
<code class="sig-name descname"><span class="pre">get_label_files_str</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.get_label_files_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.get_label_files_str" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return string with [label, filepath].</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.show_files">
<code class="sig-name descname"><span class="pre">show_files</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">stream=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.show_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.show_files" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Show label â&gt; file path</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.to_string" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String representation.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.abifiles">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">abifiles</span></code><a class="headerlink" href="#abipy.abio.robots.Robot.abifiles" title="Permalink to this definition">Â¶</a></dt>
<dd><p>List of netcdf files.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.has_different_structures">
<code class="sig-name descname"><span class="pre">has_different_structures</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.has_different_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.has_different_structures" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Check if structures are equivalent,
return string with info about differences (if any).</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.is_sortable">
<code class="sig-name descname"><span class="pre">is_sortable</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_exc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.is_sortable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.is_sortable" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return True if <code class="docutils literal notranslate"><span class="pre">aname</span></code> is an attribute of the netcdf file
If raise_exc is True, AttributeError with an explicit message is raised.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.sortby">
<code class="sig-name descname"><span class="pre">sortby</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_or_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.sortby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.sortby" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sort files in the robot by <code class="docutils literal notranslate"><span class="pre">func_or_string</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func_or_string</strong> â Either None, string, callable defining the quantity to be used for sorting.
If string, itâs assumed that the abifile has an attribute with the same name and getattr is invoked.
If callable, the output of func_or_string(abifile) is used.
If None, no sorting is performed.</p></li>
<li><p><strong>reverse</strong> â If set to True, then the list elements are sorted as if each comparison were reversed.</p></li>
<li><p><strong>unpack</strong> â Return (labels, abifiles, params) if True</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Return: list of (label, abifile, param) tuples where param is obtained via <code class="docutils literal notranslate"><span class="pre">func_or_string</span></code>.</dt><dd><p>or labels, abifiles, params if <code class="docutils literal notranslate"><span class="pre">unpack</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.group_and_sortby">
<code class="sig-name descname"><span class="pre">group_and_sortby</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_or_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.group_and_sortby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.group_and_sortby" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Group files by <code class="docutils literal notranslate"><span class="pre">hue</span></code> and, inside each group` sort items by <code class="docutils literal notranslate"><span class="pre">func_or_string</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hue</strong> â Variable that define subsets of the data, which will be drawn on separate lines.
Accepts callable or string
If string, itâs assumed that the abifile has an attribute with the same name and getattr is invoked.
Dot notation is also supported e.g. hue=âstructure.formulaâ â&gt; abifile.structure.formula
If callable, the output of hue(abifile) is used.</p></li>
<li><p><strong>func_or_string</strong> â Either None, string, callable defining the quantity to be used for sorting.
If string, itâs assumed that the abifile has an attribute with the same name and getattr is invoked.
If callable, the output of func_or_string(abifile) is used.
If None, no sorting is performed.</p></li>
</ul>
</dd>
</dl>
<p>Return: List of <a class="reference internal" href="#abipy.abio.robots.HueGroup" title="abipy.abio.robots.HueGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">HueGroup</span></code></a> instance.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.close" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Close all files that have been opened by the Robot.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.sortby_label">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">sortby_label</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sortby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.sortby_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.sortby_label" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the label to be used when files are sorted with <code class="docutils literal notranslate"><span class="pre">sortby</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.get_structure_dataframes">
<code class="sig-name descname"><span class="pre">get_structure_dataframes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_abifile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.get_structure_dataframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.get_structure_dataframes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Wrap dataframes_from_structures function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abspath</strong> â True if paths in index should be absolute. Default: Relative to getcwd().</p></li>
<li><p><strong>filter_abifile</strong> â Function that receives an <code class="docutils literal notranslate"><span class="pre">abifile</span></code> object and returns
True if the file should be added to the plotter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.get_lattice_dataframe">
<code class="sig-name descname"><span class="pre">get_lattice_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.get_lattice_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.get_lattice_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with lattice parameters.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.get_coords_dataframe">
<code class="sig-name descname"><span class="pre">get_coords_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.get_coords_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.get_coords_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with atomic positions.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.get_params_dataframe">
<code class="sig-name descname"><span class="pre">get_params_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.get_params_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.get_params_dataframe" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return <a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with the most important parameters.
that are usually subject to convergence studies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>abspath</strong> â True if paths in index should be absolute. Default: Relative to <cite>top</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.plot_xy_with_hue">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">plot_xy_with_hue</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#abipy.abio.robots.Robot.plot_xy_with_hue" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Plot y = f(x) relation for different values of <cite>hue</cite>.
Useful for convergence tests done wrt to two parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> â <a class="reference external" href="http://pandas-docs.github.io/pandas-docs-travis/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.0.dev0+752.g49f33f0d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> containing columns <cite>x</cite>, <cite>y</cite>, and <cite>hue</cite>.</p></li>
<li><p><strong>x</strong> â Name of the column used as x-value</p></li>
<li><p><strong>y</strong> â Name of the column(s) used as y-value</p></li>
<li><p><strong>hue</strong> â Variable that define subsets of the data, which will be drawn on separate lines</p></li>
<li><p><strong>decimals</strong> â Number of decimal places to round <cite>hue</cite> columns. Ignore if None</p></li>
<li><p><strong>ax</strong> â <a class="reference external" href="https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a> or None if a new figure should be created.</p></li>
<li><p><strong>ylims</strong> (<em>xlims</em>) â Set the data limits for the x(y)-axis. Accept tuple e.g. <cite>(left, right)</cite>
or scalar e.g. <cite>left</cite>. If left (right) is None, default values are used</p></li>
<li><p><strong>fontsize</strong> â Legend fontsize.</p></li>
<li><p><strong>kwargs</strong> â Keywork arguments are passed to ax.plot method.</p></li>
</ul>
</dd>
</dl>
<p>Returns: <a class="reference external" href="https://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure" title="(in Matplotlib v3.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code></a></p>
<blockquote>
<div><p>Keyword arguments controlling the display of the figure:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>kwargs</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>title</p></td>
<td><p>Title of the plot (Default: None).</p></td>
</tr>
<tr class="row-odd"><td><p>show</p></td>
<td><p>True to show the figure (default: True).</p></td>
</tr>
<tr class="row-even"><td><p>savefig</p></td>
<td><p>âabc.pngâ or âabc.epsâ to save the figure to a file.</p></td>
</tr>
<tr class="row-odd"><td><p>size_kwargs</p></td>
<td><p>Dictionary with options passed to fig.set_size_inches
e.g. size_kwargs=dict(w=3, h=4)</p></td>
</tr>
<tr class="row-even"><td><p>tight_layout</p></td>
<td><p>True to call fig.tight_layout (default: False)</p></td>
</tr>
<tr class="row-odd"><td><p>ax_grid</p></td>
<td><p>True (False) to add (remove) grid from all axes in fig.
Default: None i.e. fig is left unchanged.</p></td>
</tr>
<tr class="row-even"><td><p>ax_annotate</p></td>
<td><p>Add labels to  subplots e.g. (a), (b).
Default: False</p></td>
</tr>
<tr class="row-odd"><td><p>fig_close</p></td>
<td><p>Close figure. Default: False.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.plot_convergence">
<code class="sig-name descname"><span class="pre">plot_convergence</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sortby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.plot_convergence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.plot_convergence" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Plot the convergence of <code class="docutils literal notranslate"><span class="pre">item</span></code> wrt the <code class="docutils literal notranslate"><span class="pre">sortby</span></code> parameter.
Values can optionally be grouped by <code class="docutils literal notranslate"><span class="pre">hue</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> â Define the quantity to plot. Accepts callable or string
If string, itâs assumed that the abifile has an attribute with the same name and <cite>getattr</cite> is invoked.
Dot notation is also supported e.g. hue=âstructure.formulaâ â&gt; abifile.structure.formula
If callable, the output of item(abifile) is used.</p></li>
<li><p><strong>sortby</strong> â Define the convergence parameter, sort files and produce plot labels.
Can be None, string or function. If None, no sorting is performed.
If string and not empty itâs assumed that the abifile has an attribute
with the same name and <cite>getattr</cite> is invoked.
If callable, the output of sortby(abifile) is used.</p></li>
<li><p><strong>hue</strong> â Variable that define subsets of the data, which will be drawn on separate lines.
Accepts callable or string
If string, itâs assumed that the abifile has an attribute with the same name and getattr is invoked.
If callable, the output of hue(abifile) is used.</p></li>
<li><p><strong>ax</strong> â <a class="reference external" href="https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a> or None if a new figure should be created.</p></li>
<li><p><strong>fontsize</strong> â legend and label fontsize.</p></li>
<li><p><strong>kwargs</strong> â keyword arguments passed to matplotlib plot method.</p></li>
</ul>
</dd>
</dl>
<p>Returns: <a class="reference external" href="https://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure" title="(in Matplotlib v3.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code></a></p>
<p class="rubric">Example</p>
<p>robot.plot_convergence(âenergyâ)</p>
<p>robot.plot_convergence(âenergyâ, sortby=ânkptâ)</p>
<p>robot.plot_convergence(âpressureâ, sortby=ânkptâ, hue=âtsmearâ)</p>
<p>Keyword arguments controlling the display of the figure:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>kwargs</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>title</p></td>
<td><p>Title of the plot (Default: None).</p></td>
</tr>
<tr class="row-odd"><td><p>show</p></td>
<td><p>True to show the figure (default: True).</p></td>
</tr>
<tr class="row-even"><td><p>savefig</p></td>
<td><p>âabc.pngâ or âabc.epsâ to save the figure to a file.</p></td>
</tr>
<tr class="row-odd"><td><p>size_kwargs</p></td>
<td><p>Dictionary with options passed to fig.set_size_inches
e.g. size_kwargs=dict(w=3, h=4)</p></td>
</tr>
<tr class="row-even"><td><p>tight_layout</p></td>
<td><p>True to call fig.tight_layout (default: False)</p></td>
</tr>
<tr class="row-odd"><td><p>ax_grid</p></td>
<td><p>True (False) to add (remove) grid from all axes in fig.
Default: None i.e. fig is left unchanged.</p></td>
</tr>
<tr class="row-even"><td><p>ax_annotate</p></td>
<td><p>Add labels to  subplots e.g. (a), (b).
Default: False</p></td>
</tr>
<tr class="row-odd"><td><p>fig_close</p></td>
<td><p>Close figure. Default: False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.plot_convergence_items">
<code class="sig-name descname"><span class="pre">plot_convergence_items</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sortby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.plot_convergence_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.plot_convergence_items" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Plot the convergence of a list of <code class="docutils literal notranslate"><span class="pre">items</span></code> wrt to the <code class="docutils literal notranslate"><span class="pre">sortby</span></code> parameter.
Values can optionally be grouped by <code class="docutils literal notranslate"><span class="pre">hue</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> â List of attributes (or callables) to be analyzed.</p></li>
<li><p><strong>sortby</strong> â Define the convergence parameter, sort files and produce plot labels.
Can be None, string or function. If None, no sorting is performed.
If string and not empty itâs assumed that the abifile has an attribute
with the same name and <cite>getattr</cite> is invoked.
If callable, the output of sortby(abifile) is used.</p></li>
<li><p><strong>hue</strong> â Variable that define subsets of the data, which will be drawn on separate lines.
Accepts callable or string
If string, itâs assumed that the abifile has an attribute with the same name and getattr is invoked.
Dot notation is also supported e.g. hue=âstructure.formulaâ â&gt; abifile.structure.formula
If callable, the output of hue(abifile) is used.</p></li>
<li><p><strong>fontsize</strong> â legend and label fontsize.</p></li>
<li><p><strong>kwargs</strong> â keyword arguments are passed to ax.plot</p></li>
</ul>
</dd>
</dl>
<p>Returns: <a class="reference external" href="https://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure" title="(in Matplotlib v3.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code></a></p>
<p>Keyword arguments controlling the display of the figure:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>kwargs</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>title</p></td>
<td><p>Title of the plot (Default: None).</p></td>
</tr>
<tr class="row-odd"><td><p>show</p></td>
<td><p>True to show the figure (default: True).</p></td>
</tr>
<tr class="row-even"><td><p>savefig</p></td>
<td><p>âabc.pngâ or âabc.epsâ to save the figure to a file.</p></td>
</tr>
<tr class="row-odd"><td><p>size_kwargs</p></td>
<td><p>Dictionary with options passed to fig.set_size_inches
e.g. size_kwargs=dict(w=3, h=4)</p></td>
</tr>
<tr class="row-even"><td><p>tight_layout</p></td>
<td><p>True to call fig.tight_layout (default: False)</p></td>
</tr>
<tr class="row-odd"><td><p>ax_grid</p></td>
<td><p>True (False) to add (remove) grid from all axes in fig.
Default: None i.e. fig is left unchanged.</p></td>
</tr>
<tr class="row-even"><td><p>ax_annotate</p></td>
<td><p>Add labels to  subplots e.g. (a), (b).
Default: False</p></td>
</tr>
<tr class="row-odd"><td><p>fig_close</p></td>
<td><p>Close figure. Default: False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.plot_lattice_convergence">
<code class="sig-name descname"><span class="pre">plot_lattice_convergence</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">what_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sortby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.plot_lattice_convergence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.plot_lattice_convergence" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Plot the convergence of the lattice parameters (a, b, c, alpha, beta, gamma).
wrt the``sortby`` parameter. Values can optionally be grouped by <code class="docutils literal notranslate"><span class="pre">hue</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>what_list</strong> â List of strings with the quantities to plot e.g. [âaâ, âalphaâ, âbetaâ].
None means all.</p></li>
<li><p><strong>item</strong> â Define the quantity to plot. Accepts callable or string
If string, itâs assumed that the abifile has an attribute
with the same name and <cite>getattr</cite> is invoked.
If callable, the output of item(abifile) is used.</p></li>
<li><p><strong>sortby</strong> â Define the convergence parameter, sort files and produce plot labels.
Can be None, string or function.
If None, no sorting is performed.
If string and not empty itâs assumed that the abifile has an attribute
with the same name and <cite>getattr</cite> is invoked.
If callable, the output of sortby(abifile) is used.</p></li>
<li><p><strong>hue</strong> â Variable that define subsets of the data, which will be drawn on separate lines.
Accepts callable or string
If string, itâs assumed that the abifile has an attribute with the same name and getattr is invoked.
Dot notation is also supported e.g. hue=âstructure.formulaâ â&gt; abifile.structure.formula
If callable, the output of hue(abifile) is used.</p></li>
<li><p><strong>ax</strong> â <a class="reference external" href="https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a> or None if a new figure should be created.</p></li>
<li><p><strong>fontsize</strong> â legend and label fontsize.</p></li>
</ul>
</dd>
</dl>
<p>Returns: <a class="reference external" href="https://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure" title="(in Matplotlib v3.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code></a></p>
<p class="rubric">Example</p>
<p>robot.plot_lattice_convergence()</p>
<p>robot.plot_lattice_convergence(sortby=ânkptâ)</p>
<p>robot.plot_lattice_convergence(sortby=ânkptâ, hue=âtsmearâ)</p>
<p>Keyword arguments controlling the display of the figure:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>kwargs</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>title</p></td>
<td><p>Title of the plot (Default: None).</p></td>
</tr>
<tr class="row-odd"><td><p>show</p></td>
<td><p>True to show the figure (default: True).</p></td>
</tr>
<tr class="row-even"><td><p>savefig</p></td>
<td><p>âabc.pngâ or âabc.epsâ to save the figure to a file.</p></td>
</tr>
<tr class="row-odd"><td><p>size_kwargs</p></td>
<td><p>Dictionary with options passed to fig.set_size_inches
e.g. size_kwargs=dict(w=3, h=4)</p></td>
</tr>
<tr class="row-even"><td><p>tight_layout</p></td>
<td><p>True to call fig.tight_layout (default: False)</p></td>
</tr>
<tr class="row-odd"><td><p>ax_grid</p></td>
<td><p>True (False) to add (remove) grid from all axes in fig.
Default: None i.e. fig is left unchanged.</p></td>
</tr>
<tr class="row-even"><td><p>ax_annotate</p></td>
<td><p>Add labels to  subplots e.g. (a), (b).
Default: False</p></td>
</tr>
<tr class="row-odd"><td><p>fig_close</p></td>
<td><p>Close figure. Default: False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.robots.Robot.get_baserobot_code_cells">
<code class="sig-name descname"><span class="pre">get_baserobot_code_cells</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.get_baserobot_code_cells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.Robot.get_baserobot_code_cells" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return list of <a class="reference external" href="http://jupyter.org/">jupyter</a> cells with calls to methods provided by the base class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="abipy.abio.robots.HueGroup">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.robots.</span></code><code class="sig-name descname"><span class="pre">HueGroup</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvalue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xvalues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abifiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#HueGroup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.robots.HueGroup" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This small object is used by <code class="docutils literal notranslate"><span class="pre">group_and_sortby</span></code> to store information abouth the group.</p>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.timer">
<span id="timer-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">timer</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.timer" title="Permalink to this headline">Â¶</a></h2>
<p>This module provides objects for extracting timing data from the ABINIT output files
It also provides tools to analyze and to visualize the parallel efficiency.</p>
<dl class="py class">
<dt id="abipy.abio.timer.AbinitTimerParser">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.timer.</span></code><code class="sig-name descname"><span class="pre">AbinitTimerParser</span></code><a class="reference internal" href="../_modules/abipy/abio/timer.html#AbinitTimerParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.timer.AbinitTimerParser" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://pymatgen.org/pymatgen.io.abinit.abitimer.html#pymatgen.io.abinit.abitimer.AbinitTimerParser" title="(in pymatgen v2022.0.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.abinit.abitimer.AbinitTimerParser</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<dl class="py method">
<dt id="abipy.abio.timer.AbinitTimerParser.yield_figs">
<code class="sig-name descname"><span class="pre">yield_figs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/timer.html#AbinitTimerParser.yield_figs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.timer.AbinitTimerParser.yield_figs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function <em>generates</em> a predefined list of matplotlib figures with minimal input from the user.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.timer.AbinitTimerParser.write_notebook">
<code class="sig-name descname"><span class="pre">write_notebook</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/timer.html#AbinitTimerParser.write_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.timer.AbinitTimerParser.write_notebook" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Write an ipython notebook to nbpath. If nbpath is None, a temporary file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-abipy.abio.variable">
<span id="variable-module"></span><h2><a class="toc-backref" href="#contents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">variable</span></code> Module</a><a class="headerlink" href="#module-abipy.abio.variable" title="Permalink to this headline">Â¶</a></h2>
<p>Support for Abinit input variables.</p>
<dl class="py class">
<dt id="abipy.abio.variable.InputVariable">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">abipy.abio.variable.</span></code><code class="sig-name descname"><span class="pre">InputVariable</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valperline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/variable.html#InputVariable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.variable.InputVariable" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An Abinit input variable.</p>
<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.get_value">
<code class="sig-name descname"><span class="pre">get_value</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/variable.html#InputVariable.get_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.variable.InputVariable.get_value" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the value.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.name">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#abipy.abio.variable.InputVariable.name" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Name of the variable.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.basename">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">basename</span></code><a class="headerlink" href="#abipy.abio.variable.InputVariable.basename" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the name trimmed of any dataset index.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.dataset">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">dataset</span></code><a class="headerlink" href="#abipy.abio.variable.InputVariable.dataset" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the dataset index in string form.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.units">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">units</span></code><a class="headerlink" href="#abipy.abio.variable.InputVariable.units" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the units.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.format_scalar">
<code class="sig-name descname"><span class="pre">format_scalar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floatdecimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/variable.html#InputVariable.format_scalar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.variable.InputVariable.format_scalar" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Format a single numerical value into a string
with the appropriate number of decimal.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.format_list2d">
<code class="sig-name descname"><span class="pre">format_list2d</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floatdecimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/variable.html#InputVariable.format_list2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.variable.InputVariable.format_list2d" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Format a list of lists.</p>
</dd></dl>

<dl class="py method">
<dt id="abipy.abio.variable.InputVariable.format_list">
<code class="sig-name descname"><span class="pre">format_list</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floatdecimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/variable.html#InputVariable.format_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#abipy.abio.variable.InputVariable.format_list" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Format a list of values into a string.
The result might be spread among several lines.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="core_api.html" class="btn btn-neutral float-right" title="core Package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="abilab_api.html" class="btn btn-neutral float-left" title="abilab" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, M. Giantomassi and the AbiPy group.
      <span class="lastupdated">
        Last updated on May 29, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>