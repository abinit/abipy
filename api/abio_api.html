<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>abio Package &#8212; abipy 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="core Package" href="core_api.html" />
    <link rel="prev" title="API documentation" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/abipy_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">abio Package</a><ul>
<li><a class="reference internal" href="#id1"><code class="docutils literal"><span class="pre">abio</span></code> Package</a></li>
<li><a class="reference internal" href="#module-abipy.abio.abivars"><code class="docutils literal"><span class="pre">abivars</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.abivars_db"><code class="docutils literal"><span class="pre">abivars_db</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.decorators"><code class="docutils literal"><span class="pre">decorators</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.factories"><code class="docutils literal"><span class="pre">factories</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.input_tags"><code class="docutils literal"><span class="pre">input_tags</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.inputs"><code class="docutils literal"><span class="pre">inputs</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.outputs"><code class="docutils literal"><span class="pre">outputs</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.robots"><code class="docutils literal"><span class="pre">robots</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.abio.timer"><code class="docutils literal"><span class="pre">timer</span></code> Module</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">API documentation</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">API documentation</a></li>
      <li>Next: <a href="core_api.html" title="next chapter">core Package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/abio_api.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="abio-package">
<h1>abio Package<a class="headerlink" href="#abio-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><code class="xref py py-mod docutils literal"><span class="pre">abio</span></code> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-abipy.abio"></span><p>This sub-package provides objects and methods to generate Input files.</p>
</div>
<div class="section" id="module-abipy.abio.abivars">
<span id="abivars-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">abivars</span></code> Module<a class="headerlink" href="#module-abipy.abio.abivars" title="Permalink to this headline">¶</a></h2>
<p>This module contains lookup table with the name of the ABINIT variables.</p>
<dl class="function">
<dt id="abipy.abio.abivars.is_abivar">
<code class="descclassname">abipy.abio.abivars.</code><code class="descname">is_abivar</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#is_abivar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.is_abivar" title="Permalink to this definition">¶</a></dt>
<dd><p>True if s is an ABINIT variable.</p>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.abivars.is_abiunit">
<code class="descclassname">abipy.abio.abivars.</code><code class="descname">is_abiunit</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#is_abiunit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.is_abiunit" title="Permalink to this definition">¶</a></dt>
<dd><p>True if string is one of the units supported by the ABINIT parser</p>
</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars.AbinitInputFile">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars.</code><code class="descname">AbinitInputFile</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.TextFile</span></code>, <a class="reference internal" href="core_api.html#abipy.core.mixins.Has_Structure" title="abipy.core.mixins.Has_Structure"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.Has_Structure</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>This object parses the Abinit input file, stores the variables in
dict-like objects (Datasets) and build <cite>Structure</cite> objects from
the input variables. Mainly used for inspecting the structure
declared in the Abinit input file.</p>
<dl class="method">
<dt id="abipy.abio.abivars.AbinitInputFile.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>NOP, required by ABC.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.abivars.AbinitInputFile.from_string">
<em class="property">classmethod </em><code class="descname">from_string</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.from_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the object from string.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars.AbinitInputFile.structure">
<code class="descname">structure</code><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.structure" title="Permalink to this definition">¶</a></dt>
<dd><p>The structure defined in the input file.</p>
<p>If the input file contains multiple datasets <strong>AND</strong> the datasets
have different structures, this property returns None.
In this case, one has to access the structure of the individual datasets.
For example:</p>
<blockquote>
<div>input.datasets[0].structure</div></blockquote>
<p>gives the structure of the first dataset.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.abivars.AbinitInputFile.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.abivars.AbinitInputFile.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputFile.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputFile.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an ipython notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars.AbinitInputParser">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars.</code><code class="descname">AbinitInputParser</code><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="staticmethod">
<dt id="abipy.abio.abivars.AbinitInputParser.eval_abinit_operators">
<em class="property">static </em><code class="descname">eval_abinit_operators</code><span class="sig-paren">(</span><em>tokens</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser.eval_abinit_operators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.eval_abinit_operators" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a list of strings, find the occurences of operators supported
in the input file (e.g. sqrt), evalute the expression and return new list of strings.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.abivars.AbinitInputParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>This function receives a string <cite>s</cite> with the Abinit input and return
a list of <code class="xref py py-class docutils literal"><span class="pre">Dataset</span></code> objects.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="abipy.abio.abivars.AbinitInputParser.varname_dtindex">
<em class="property">static </em><code class="descname">varname_dtindex</code><span class="sig-paren">(</span><em>tok</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars.html#AbinitInputParser.varname_dtindex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.varname_dtindex" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">AbinitInputParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">p</span><span class="o">.</span><span class="n">varname_dtindex</span><span class="p">(</span><span class="s2">&quot;acell1&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s2">&quot;acell&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">p</span><span class="o">.</span><span class="n">varname_dtindex</span><span class="p">(</span><span class="s2">&quot;fa1k2&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="s2">&quot;fa1k&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars.AbinitInputParser.verbose">
<code class="descname">verbose</code><em class="property"> = 0</em><a class="headerlink" href="#abipy.abio.abivars.AbinitInputParser.verbose" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-abipy.abio.abivars_db">
<span id="abivars-db-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">abivars_db</span></code> Module<a class="headerlink" href="#module-abipy.abio.abivars_db" title="Permalink to this headline">¶</a></h2>
<p>Database with the names of the input variables used in Abinit and in other main programs.</p>
<dl class="class">
<dt id="abipy.abio.abivars_db.MultipleValue">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">MultipleValue</code><span class="sig-paren">(</span><em>number=None</em>, <em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#MultipleValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.MultipleValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">yaml.YAMLObject</span></code></p>
<dl class="attribute">
<dt id="abipy.abio.abivars_db.MultipleValue.number">
<code class="descname">number</code><em class="property"> = None</em><a class="headerlink" href="#abipy.abio.abivars_db.MultipleValue.number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.MultipleValue.value">
<code class="descname">value</code><em class="property"> = None</em><a class="headerlink" href="#abipy.abio.abivars_db.MultipleValue.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.MultipleValue.yaml_tag">
<code class="descname">yaml_tag</code><em class="property"> = '!multiplevalue'</em><a class="headerlink" href="#abipy.abio.abivars_db.MultipleValue.yaml_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars_db.Range">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">Range</code><span class="sig-paren">(</span><em>start=None</em>, <em>stop=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#Range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.Range" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">yaml.YAMLObject</span></code></p>
<dl class="method">
<dt id="abipy.abio.abivars_db.Range.isin">
<code class="descname">isin</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#Range.isin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.Range.isin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.Range.start">
<code class="descname">start</code><em class="property"> = None</em><a class="headerlink" href="#abipy.abio.abivars_db.Range.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.Range.stop">
<code class="descname">stop</code><em class="property"> = None</em><a class="headerlink" href="#abipy.abio.abivars_db.Range.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.Range.yaml_tag">
<code class="descname">yaml_tag</code><em class="property"> = '!range'</em><a class="headerlink" href="#abipy.abio.abivars_db.Range.yaml_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars_db.ValueWithConditions">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">ValueWithConditions</code><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#ValueWithConditions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.ValueWithConditions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">yaml.YAMLObject</span></code></p>
<dl class="attribute">
<dt id="abipy.abio.abivars_db.ValueWithConditions.yaml_tag">
<code class="descname">yaml_tag</code><em class="property"> = '!valuewithconditions'</em><a class="headerlink" href="#abipy.abio.abivars_db.ValueWithConditions.yaml_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars_db.ValueWithUnit">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">ValueWithUnit</code><span class="sig-paren">(</span><em>value=None</em>, <em>units=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#ValueWithUnit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.ValueWithUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">yaml.YAMLObject</span></code></p>
<dl class="attribute">
<dt id="abipy.abio.abivars_db.ValueWithUnit.units">
<code class="descname">units</code><em class="property"> = None</em><a class="headerlink" href="#abipy.abio.abivars_db.ValueWithUnit.units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.ValueWithUnit.value">
<code class="descname">value</code><em class="property"> = None</em><a class="headerlink" href="#abipy.abio.abivars_db.ValueWithUnit.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.ValueWithUnit.yaml_tag">
<code class="descname">yaml_tag</code><em class="property"> = '!valuewithunit'</em><a class="headerlink" href="#abipy.abio.abivars_db.ValueWithUnit.yaml_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars_db.Variable">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">Variable</code><span class="sig-paren">(</span><em>vartype=None</em>, <em>characteristics=None</em>, <em>definition=None</em>, <em>dimensions=None</em>, <em>default=None</em>, <em>text=None</em>, <em>varname=None</em>, <em>section=None</em>, <em>range=None</em>, <em>commentdefault=None</em>, <em>commentdims=None</em>, <em>requires=None</em>, <em>excludes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#Variable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.Variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">yaml.YAMLObject</span></code></p>
<dl class="classmethod">
<dt id="abipy.abio.abivars_db.Variable.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#Variable.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.Variable.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.Variable.info">
<code class="descname">info</code><a class="headerlink" href="#abipy.abio.abivars_db.Variable.info" title="Permalink to this definition">¶</a></dt>
<dd><p>String with Extra info on the variable.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.Variable.isarray">
<code class="descname">isarray</code><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#Variable.isarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.Variable.isarray" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the variable is an array.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.Variable.name">
<code class="descname">name</code><a class="headerlink" href="#abipy.abio.abivars_db.Variable.name" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for self.varname</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.Variable.yaml_tag">
<code class="descname">yaml_tag</code><em class="property"> = '!variable'</em><a class="headerlink" href="#abipy.abio.abivars_db.Variable.yaml_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars_db.VariableDatabase">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">VariableDatabase</code><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/collections.html#collections.OrderedDict" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">collections.OrderedDict</span></code></a></p>
<p>Stores the mapping varname &#8211;&gt; variable object.</p>
<dl class="method">
<dt id="abipy.abio.abivars_db.VariableDatabase.apropos">
<code class="descname">apropos</code><span class="sig-paren">(</span><em>varname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.apropos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.apropos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of <a class="reference internal" href="#abipy.abio.abivars_db.Variable" title="abipy.abio.abivars_db.Variable"><code class="xref py py-class docutils literal"><span class="pre">Variable</span></code></a> objects that are related` to the given varname</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.VariableDatabase.characteristics">
<code class="descname">characteristics</code><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.characteristics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.characteristics" title="Permalink to this definition">¶</a></dt>
<dd><p>List of characteristics.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.abivars_db.VariableDatabase.group_by_section">
<code class="descname">group_by_section</code><span class="sig-paren">(</span><em>names</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.group_by_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.group_by_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Group a list of variable in sections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>names</strong> &#8211; string or list of strings with ABINIT variable names.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Ordered dict mapping section_name to the list of variable names belonging to the section.
The dict uses the same ordering as those in <cite>self.sections</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.abivars_db.VariableDatabase.json_dumps_varnames">
<code class="descname">json_dumps_varnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.json_dumps_varnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.json_dumps_varnames" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON string with the list of variable names extracted from the database.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.VariableDatabase.name2section">
<code class="descname">name2section</code><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.name2section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.name2section" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary mapping the name of the variable to the section.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.abivars_db.VariableDatabase.sections">
<code class="descname">sections</code><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.sections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.sections" title="Permalink to this definition">¶</a></dt>
<dd><p>List of sections</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.abivars_db.VariableDatabase.vars_with_char">
<code class="descname">vars_with_char</code><span class="sig-paren">(</span><em>chars</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.vars_with_char"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.vars_with_char" title="Permalink to this definition">¶</a></dt>
<dd><p>List of <a class="reference internal" href="#abipy.abio.abivars_db.Variable" title="abipy.abio.abivars_db.Variable"><code class="xref py py-class docutils literal"><span class="pre">Variable</span></code></a> with the specified characteristic.
chars can be a string or a list of strings.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.abivars_db.VariableDatabase.vars_with_section">
<code class="descname">vars_with_section</code><span class="sig-paren">(</span><em>sections</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#VariableDatabase.vars_with_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.VariableDatabase.vars_with_section" title="Permalink to this definition">¶</a></dt>
<dd><p>List of <a class="reference internal" href="#abipy.abio.abivars_db.Variable" title="abipy.abio.abivars_db.Variable"><code class="xref py py-class docutils literal"><span class="pre">Variable</span></code></a> associated to the given sections.
sections can be a string or a list of strings.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="abipy.abio.abivars_db.abinit_help">
<code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">abinit_help</code><span class="sig-paren">(</span><em>varname</em>, <em>info=True</em>, <em>stream=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#abinit_help"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.abinit_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the abinit documentation on the ABINIT input variable <cite>varname</cite></p>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.abivars_db.docvar">
<code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">docvar</code><span class="sig-paren">(</span><em>varname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#docvar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.docvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>Variable</cite> object associated to this name.</p>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.abivars_db.get_abinit_variables">
<code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">get_abinit_variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#get_abinit_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.get_abinit_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the database with the description of the ABINIT variables.</p>
</dd></dl>

<dl class="class">
<dt id="abipy.abio.abivars_db.literal">
<em class="property">class </em><code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">literal</code><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#literal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.literal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.abivars_db.literal_unicode_representer">
<code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">literal_unicode_representer</code><span class="sig-paren">(</span><em>dumper</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#literal_unicode_representer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.literal_unicode_representer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="abipy.abio.abivars_db.valuewithunit_representer">
<code class="descclassname">abipy.abio.abivars_db.</code><code class="descname">valuewithunit_representer</code><span class="sig-paren">(</span><em>dumper</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/abivars_db.html#valuewithunit_representer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.abivars_db.valuewithunit_representer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-abipy.abio.decorators">
<span id="decorators-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">decorators</span></code> Module<a class="headerlink" href="#module-abipy.abio.decorators" title="Permalink to this headline">¶</a></h2>
<p>Decorators for AbinitInput or MultiDataset objects.</p>
<dl class="class">
<dt id="abipy.abio.decorators.AbinitInputDecorator">
<em class="property">class </em><code class="descclassname">abipy.abio.decorators.</code><code class="descname">AbinitInputDecorator</code><a class="reference internal" href="../_modules/abipy/abio/decorators.html#AbinitInputDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.AbinitInputDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">monty.json.MSONable</span></code></p>
<p>An <cite>AbinitInputDecorator</cite> adds new options to an existing <code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code>
or an existing <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> without altering its structure. This is an abstract Base class.</p>
<p class="rubric">Example</p>
<p>decorator = MyDecorator(arguments)</p>
<p>new_abinit_input = decorator(abinit_input)
new_multidataset = decorator(multidataset)</p>
<p>Note that a decorator does not modify the object on which it acts.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please avoid introducing decorators acting on the structure (in particular the lattice)
since the initial input may use the initial structure to  compute important variables.
For instance, the list of k-points for band structure calculation depend on the bravais lattice
and a decorator that changes it should recompute the path.
This should  not represent a serious limitation because it&#8217;s always possible to change the structure
with its methods and then call the factory function without having to decorate an already existing object.</p>
</div>
<dl class="attribute">
<dt id="abipy.abio.decorators.AbinitInputDecorator.Error">
<code class="descname">Error</code><a class="headerlink" href="#abipy.abio.decorators.AbinitInputDecorator.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.decorators.InputDecoratorError" title="abipy.abio.decorators.InputDecoratorError"><code class="xref py py-class docutils literal"><span class="pre">InputDecoratorError</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="abipy.abio.decorators.InputDecoratorError">
<em class="property">exception </em><code class="descclassname">abipy.abio.decorators.</code><code class="descname">InputDecoratorError</code><a class="reference internal" href="../_modules/abipy/abio/decorators.html#InputDecoratorError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.InputDecoratorError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Error class raised by <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal"><span class="pre">AbinitInputDecorator</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="abipy.abio.decorators.LdaUDecorator">
<em class="property">class </em><code class="descclassname">abipy.abio.decorators.</code><code class="descname">LdaUDecorator</code><span class="sig-paren">(</span><em>symbols_luj</em>, <em>usepawu=1</em>, <em>unit='eV'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LdaUDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.LdaUDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator adds LDA+U parameters to an <code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code> object.</p>
<dl class="method">
<dt id="abipy.abio.decorators.LdaUDecorator.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LdaUDecorator.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.LdaUDecorator.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.decorators.LdaUDecorator.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LdaUDecorator.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.LdaUDecorator.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.decorators.LexxDecorator">
<em class="property">class </em><code class="descclassname">abipy.abio.decorators.</code><code class="descname">LexxDecorator</code><span class="sig-paren">(</span><em>symbols_lexx</em>, <em>exchmix=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LexxDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.LexxDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator add local exact exchange to an <code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code> object.</p>
<dl class="method">
<dt id="abipy.abio.decorators.LexxDecorator.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LexxDecorator.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.LexxDecorator.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.decorators.LexxDecorator.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#LexxDecorator.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.LexxDecorator.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.decorators.SmearingDecorator">
<em class="property">class </em><code class="descclassname">abipy.abio.decorators.</code><code class="descname">SmearingDecorator</code><span class="sig-paren">(</span><em>smearing</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SmearingDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.SmearingDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator changes the electronic smearing.</p>
<dl class="method">
<dt id="abipy.abio.decorators.SmearingDecorator.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SmearingDecorator.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.SmearingDecorator.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.decorators.SmearingDecorator.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SmearingDecorator.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.SmearingDecorator.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.decorators.SpinDecorator">
<em class="property">class </em><code class="descclassname">abipy.abio.decorators.</code><code class="descname">SpinDecorator</code><span class="sig-paren">(</span><em>spinmode</em>, <em>kptopt_ifspinor=4</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SpinDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.SpinDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>This decorator changes the spin polarization.</p>
<dl class="method">
<dt id="abipy.abio.decorators.SpinDecorator.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SpinDecorator.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.SpinDecorator.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.decorators.SpinDecorator.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#SpinDecorator.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.SpinDecorator.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.decorators.XcDecorator">
<em class="property">class </em><code class="descclassname">abipy.abio.decorators.</code><code class="descname">XcDecorator</code><span class="sig-paren">(</span><em>ixc</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#XcDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.XcDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.decorators.AbinitInputDecorator" title="abipy.abio.decorators.AbinitInputDecorator"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.decorators.AbinitInputDecorator</span></code></a></p>
<p>Change the exchange-correlation functional.</p>
<dl class="method">
<dt id="abipy.abio.decorators.XcDecorator.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#XcDecorator.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.XcDecorator.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.decorators.XcDecorator.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/decorators.html#XcDecorator.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.decorators.XcDecorator.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-abipy.abio.factories">
<span id="factories-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">factories</span></code> Module<a class="headerlink" href="#module-abipy.abio.factories" title="Permalink to this headline">¶</a></h2>
<p>Factory functions for Abinit input files</p>
<dl class="function">
<dt id="abipy.abio.factories.gs_input">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">gs_input</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa=None</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>scf_nband=None</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#gs_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.gs_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code> for band structure calculations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>kppa</strong> &#8211; Defines the sampling used for the SCF run. Defaults to 1000 if not given.</li>
<li><strong>ecut</strong> &#8211; cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</li>
<li><strong>pawecutdg</strong> &#8211; cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the pseudos
according to accuracy)</li>
<li><strong>scf_nband</strong> &#8211; Number of bands for SCF run. If scf_nband is None, nband is automatically initialized
from the list of pseudos, the structure and the smearing option.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving of the SCF cycle.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.ebands_input">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">ebands_input</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa=None</em>, <em>nscf_nband=None</em>, <em>ndivsm=15</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>scf_nband=None</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em>, <em>dos_kppa=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#ebands_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.ebands_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> for band structure calculations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>kppa</strong> &#8211; Defines the sampling used for the SCF run. Defaults to 1000 if not given.</li>
<li><strong>nscf_nband</strong> &#8211; Number of bands included in the NSCF run. Set to scf_nband + 10 if None.</li>
<li><strong>ndivsm</strong> &#8211; Number of divisions used to sample the smallest segment of the k-path.</li>
<li><strong>ecut</strong> &#8211; cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</li>
<li><strong>pawecutdg</strong> &#8211; cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the pseudos
according to accuracy)</li>
<li><strong>scf_nband</strong> &#8211; Number of bands for SCF run. If scf_nband is None, nband is automatically initialized
from the list of pseudos, the structure and the smearing option.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving of the SCF cycle.</li>
<li><strong>dos_kppa</strong> &#8211; Scalar or List of integers with the number of k-points per atom
to be used for the computation of the DOS (None if DOS is not wanted).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.phonons_from_gsinput">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">phonons_from_gsinput</code><span class="sig-paren">(</span><em>gs_inp</em>, <em>ph_ngqpt=None</em>, <em>qpoints=None</em>, <em>with_ddk=True</em>, <em>with_dde=True</em>, <em>with_bec=False</em>, <em>ph_tol=None</em>, <em>ddk_tol=None</em>, <em>dde_tol=None</em>, <em>wfq_tol=None</em>, <em>qpoints_to_skip=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#phonons_from_gsinput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.phonons_from_gsinput" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of inputs in the form of a MultiDataset to perform phonon calculations, based on
a ground state AbinitInput.
It will determine if WFQ files should be calculated for some q points and add the NSCF AbinitInputs to the set.
The inputs have the following tags, according to their function: &#8220;ddk&#8221;, &#8220;dde&#8221;, &#8220;nscf&#8221;, &#8220;ph_q_pert&#8221;.
All of them have the tag &#8220;phonon&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>gs_inp</strong> &#8211; an AbinitInput representing a ground state calculation, likely the SCF performed to get the WFK.</li>
<li><strong>ph_ngqpt</strong> &#8211; a list of three integers representing the gamma centered q-point grid used for the calculation.
If None and qpoint==None the ngkpt value present in the gs_input will be used.
Incompatible with qpoints.</li>
<li><strong>qpoints</strong> &#8211; a list of of coordinatesq points in reduced coordinates for which the phonon perturbations will
be calculated. Incompatible with ph_ngqpt.</li>
<li><strong>with_ddk</strong> &#8211; If True, if Gamma is included in the list of qpoints it will add inputs for the calculations of
the DDK.</li>
<li><strong>with_dde</strong> &#8211; If True, if Gamma is included in the list of qpoints it will add inputs for the calculations of
the DDE. Automatically sets with_ddk=True.</li>
<li><strong>with_bec</strong> &#8211; If Truem if Gamma is included in the list of qpoints the DDE will be calculated in the same
input as the phonons. This will allow to determine the BECs.
Automatically sets with_ddk=True and with_dde=False.</li>
<li><strong>ph_tol</strong> &#8211; a dictionary with a single key defining the type of tolarence used for the phonon calculations and
its value. Default from AbinitInput.make_ph_inputs_qpoint: {&#8220;tolvrs&#8221;: 1.0e-10}.</li>
<li><strong>ddk_tol</strong> &#8211; a dictionary with a single key defining the type of tolarence used for the DDK calculations and
its value. Default from AbinitInput.make_ddk_inputs: {&#8220;tolwfr&#8221;: 1.0e-22}.</li>
<li><strong>dde_tol</strong> &#8211; a dictionary with a single key defining the type of tolarence used for the DDE calculations and
its value. Default from AbinitInput.make_dde_inputs: {&#8220;tolvrs&#8221;: 1.0e-10}.</li>
<li><strong>wfq_tol</strong> &#8211; a dictionary with a single key defining the type of tolarence used for the NSCF calculations of
the WFQ and its value. Default {&#8220;tolwfr&#8221;: 1.0e-22}.</li>
<li><strong>qpoints_to_skip</strong> &#8211; a list of coordinates of q points in reduced coordinates that will be skipped.
Useful when calculating multiple grids for the same system to avoid duplicate calculations.
If a DDB needs to be extended with more q points use e.g. ddb.qpoints.to_array().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.g0w0_with_ppmodel_inputs">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">g0w0_with_ppmodel_inputs</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa</em>, <em>nscf_nband</em>, <em>ecuteps</em>, <em>ecutsigx</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>ppmodel='godby'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em>, <em>inclvkb=2</em>, <em>scr_nband=None</em>, <em>sigma_nband=None</em>, <em>gw_qprange=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#g0w0_with_ppmodel_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.g0w0_with_ppmodel_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> object that performs G0W0 calculations with the plasmon pole approximation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; Pymatgen structure.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>kppa</strong> &#8211; Defines the sampling used for the SCF run.</li>
<li><strong>nscf_nband</strong> &#8211; Number of bands included in the NSCF run.</li>
<li><strong>ecuteps</strong> &#8211; Cutoff energy [Ha] for the screening matrix.</li>
<li><strong>ecutsigx</strong> &#8211; Cutoff energy [Ha] for the exchange part of the self-energy.</li>
<li><strong>ecut</strong> &#8211; cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</li>
<li><strong>pawecutdg</strong> &#8211; cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized
from the pseudos according to accuracy)</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>ppmodel</strong> &#8211; Plasmonpole technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving of the SCF cycle.</li>
<li><strong>inclvkb</strong> &#8211; Treatment of the dipole matrix elements (see abinit variable).</li>
<li><strong>scr_nband</strong> &#8211; Number of bands used to compute the screening (default is nscf_nband)</li>
<li><strong>sigma_nband</strong> &#8211; Number of bands used to compute the self-energy (default is nscf_nband)</li>
<li><strong>gw_qprange</strong> &#8211; Option for the automatic selection of k-points and bands for GW corrections.
See Abinit docs for more detail. The default value makes the code compute the
QP energies for all the point in the IBZ and one band above and one band below the Fermi level.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.g0w0_convergence_inputs">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">g0w0_convergence_inputs</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa</em>, <em>nscf_nband</em>, <em>ecuteps</em>, <em>ecutsigx</em>, <em>scf_nband</em>, <em>ecut</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>response_models=None</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em>, <em>inclvkb=2</em>, <em>gw_qprange=1</em>, <em>gamma=True</em>, <em>nksmall=None</em>, <em>extra_abivars=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#g0w0_convergence_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.g0w0_convergence_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> object to generate a G0W0 work for the given the material.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; Pymatgen structure.</li>
<li><strong>pseudos</strong> &#8211; List of <cite>Pseudo</cite> objects.</li>
<li><strong>kppa</strong> &#8211; k poits per reciprocal atom</li>
<li><strong>scf_nband</strong> &#8211; number of scf bands</li>
<li><strong>ecut</strong> &#8211; ecut for all calcs that that are not ecut convergence  cals at scf level</li>
<li><strong>Defines the sampling used for the SCF run.</strong> (<em>scf</em>) &#8211; </li>
<li><strong>nscf_nband</strong> &#8211; a list of number of bands included in the screening and sigmaruns. The NSCF run will be done on the
maximum</li>
<li><strong>ecuteps</strong> &#8211; list of Cutoff energy [Ha] for the screening matrix.</li>
<li><strong>ecutsigx</strong> &#8211; Cutoff energy [Ha] for the exchange part of the self-energy.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving of the SCF cycle.</li>
<li><strong>inclvkb</strong> &#8211; Treatment of the dipole matrix elements (see abinit variable).</li>
<li><strong>response_models</strong> &#8211; List of response models</li>
<li><strong>gw_qprange</strong> &#8211; selectpr for the qpoint mesh</li>
<li><strong>gamma</strong> &#8211; is true a gamma centered mesh is enforced</li>
<li><strong>nksmall</strong> &#8211; Kpoint division for additional band and dos calculations</li>
<li><strong>extra_abivars</strong> &#8211; Dictionary with extra variables passed to ABINIT for all tasks.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>extra abivars that are provided with _s appended will be take as a list of values to be tested a scf level</p>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.bse_with_mdf_inputs">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">bse_with_mdf_inputs</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>scf_kppa</em>, <em>nscf_nband</em>, <em>nscf_ngkpt</em>, <em>nscf_shiftk</em>, <em>ecuteps</em>, <em>bs_loband</em>, <em>bs_nband</em>, <em>mbpt_sciss</em>, <em>mdf_epsinf</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>exc_type='TDA'</em>, <em>bs_algo='haydock'</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#bse_with_mdf_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.bse_with_mdf_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> object that performs a GS + NSCF + Bethe-Salpeter calculation.
The self-energy corrections are approximated with the scissors operator.
The screening is modeled with the model dielectric function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>scf_kppa</strong> &#8211; Defines the sampling used for the SCF run.</li>
<li><strong>nscf_nband</strong> &#8211; Number of bands included in the NSCF run.</li>
<li><strong>nscf_ngkpt</strong> &#8211; Divisions of the k-mesh used for the NSCF and the BSE run.</li>
<li><strong>nscf_shiftk</strong> &#8211; Shifts used for the NSCF and the BSE run.</li>
<li><strong>ecuteps</strong> &#8211; Cutoff energy [Ha] for the screening matrix.</li>
<li><strong>bs_loband</strong> &#8211; Index of the first occupied band included the e-h basis set
(ABINIT convention i.e. first band starts at 1).
Can be scalar or array of shape (nsppol,)</li>
<li><strong>bs_nband</strong> &#8211; Highest band idex used for the construction of the e-h basis set.</li>
<li><strong>mbpt_sciss</strong> &#8211; Scissor energy in Hartree.</li>
<li><strong>mdf_epsinf</strong> &#8211; Value of the macroscopic dielectric function used in expression for the model dielectric function.</li>
<li><strong>ecut</strong> &#8211; cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</li>
<li><strong>pawecutdg</strong> &#8211; cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the pseudos
according to accuracy)</li>
<li><strong>exc_type</strong> &#8211; Approximation used for the BSE Hamiltonian (Tamm-Dancoff or coupling).</li>
<li><strong>bs_algo</strong> &#8211; Algorith for the computatio of the macroscopic dielectric function.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving the SCF cycle.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.ion_ioncell_relax_input">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">ion_ioncell_relax_input</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa=None</em>, <em>nband=None</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em>, <em>shift_mode='Monkhorst-pack'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#ion_ioncell_relax_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.ion_ioncell_relax_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> for a structural relaxation. The first dataset optmizes the
atomic positions at fixed unit cell. The second datasets optimizes both ions and unit cell parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>kppa</strong> &#8211; Defines the sampling used for the Brillouin zone.</li>
<li><strong>nband</strong> &#8211; Number of bands included in the SCF run.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for the solution of the SCF cycle.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.ion_ioncell_relax_and_ebands_input">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">ion_ioncell_relax_and_ebands_input</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa=None</em>, <em>nband=None</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#ion_ioncell_relax_and_ebands_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.ion_ioncell_relax_and_ebands_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> for a structural relaxation followed by a band structure run.
The first dataset optimizes the atomic positions at fixed unit cell.
The second datasets optimizes both ions and unit cell parameters.
The other datasets perform a band structure calculation.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Client code is responsible for propagating the relaxed structure obtained with the
second dataset to the inputs used for the band structure calculation.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>kppa</strong> &#8211; Defines the sampling used for the Brillouin zone.</li>
<li><strong>nband</strong> &#8211; Number of bands included in the SCF run.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving of the SCF cycle.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.scf_phonons_inputs">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">scf_phonons_inputs</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>scf_nband=None</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#scf_phonons_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.scf_phonons_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of input files for performing phonon calculations.
GS input + the input files for the phonon calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>kppa</strong> &#8211; Defines the sampling used for the SCF run.</li>
<li><strong>ecut</strong> &#8211; cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</li>
<li><strong>pawecutdg</strong> &#8211; cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the
pseudos according to accuracy)</li>
<li><strong>scf_nband</strong> &#8211; Number of bands for SCF run. If scf_nband is None, nband is automatically initialized from the list of
pseudos, the structure and the smearing option.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving of the SCF cycle.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.piezo_elastic_inputs_from_gsinput">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">piezo_elastic_inputs_from_gsinput</code><span class="sig-paren">(</span><em>gs_inp</em>, <em>ddk_tol=None</em>, <em>rf_tol=None</em>, <em>ddk_split=False</em>, <em>rf_split=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#piezo_elastic_inputs_from_gsinput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.piezo_elastic_inputs_from_gsinput" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> for performing elastic and piezoelectric constants calculations.
GS input + the input files for the elastic and piezoelectric constants calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>gs_inp</strong> &#8211; Ground State input to build piezo elastic inputs from.</li>
<li><strong>ddk_tol</strong> &#8211; Tolerance for the DDK calculation (i.e. {&#8220;tolwfr&#8221;: 1.0e-20}).</li>
<li><strong>rf_tol</strong> &#8211; Tolerance for the Strain RF calculations (i.e. {&#8220;tolvrs&#8221;: 1.0e-12}).</li>
<li><strong>ddk_split</strong> &#8211; Whether to split the DDK calculations.</li>
<li><strong>rf_split</strong> &#8211; whether to split the RF calculations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.abio.factories.scf_piezo_elastic_inputs">
<code class="descclassname">abipy.abio.factories.</code><code class="descname">scf_piezo_elastic_inputs</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>kppa</em>, <em>ecut=None</em>, <em>pawecutdg=None</em>, <em>scf_nband=None</em>, <em>accuracy='normal'</em>, <em>spin_mode='polarized'</em>, <em>smearing='fermi_dirac:0.1 eV'</em>, <em>charge=0.0</em>, <em>scf_algorithm=None</em>, <em>ddk_tol=None</em>, <em>rf_tol=None</em>, <em>ddk_split=False</em>, <em>rf_split=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/factories.html#scf_piezo_elastic_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.factories.scf_piezo_elastic_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code> for performing elastic and piezoelectric constants calculations.
GS input + the input files for the elastic and piezoelectric constants calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object.</li>
<li><strong>pseudos</strong> &#8211; List of filenames or list of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects or <code class="xref py py-class docutils literal"><span class="pre">PseudoTable</span></code> object.</li>
<li><strong>kppa</strong> &#8211; Defines the sampling used for the SCF run.</li>
<li><strong>ecut</strong> &#8211; cutoff energy in Ha (if None, ecut is initialized from the pseudos according to accuracy)</li>
<li><strong>pawecutdg</strong> &#8211; cutoff energy in Ha for PAW double-grid (if None, pawecutdg is initialized from the
pseudos according to accuracy)</li>
<li><strong>scf_nband</strong> &#8211; Number of bands for SCF run. If scf_nband is None, nband is automatically initialized
from the list of pseudos, the structure and the smearing option.</li>
<li><strong>accuracy</strong> &#8211; Accuracy of the calculation.</li>
<li><strong>spin_mode</strong> &#8211; Spin polarization.</li>
<li><strong>smearing</strong> &#8211; Smearing technique.</li>
<li><strong>charge</strong> &#8211; Electronic charge added to the unit cell.</li>
<li><strong>scf_algorithm</strong> &#8211; Algorithm used for solving of the SCF cycle.</li>
<li><strong>ddk_tol</strong> &#8211; Tolerance for the Ddk calculation (i.e. {&#8220;tolwfr&#8221;: 1.0e-20}).</li>
<li><strong>rf_tol</strong> &#8211; Tolerance for the Strain RF calculations (i.e. {&#8220;tolvrs&#8221;: 1.0e-12}).</li>
<li><strong>ddk_split</strong> &#8211; Whether to split the ddk calculations.</li>
<li><strong>rf_split</strong> &#8211; whether to split the RF calculations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.input_tags">
<span id="input-tags-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">input_tags</span></code> Module<a class="headerlink" href="#module-abipy.abio.input_tags" title="Permalink to this headline">¶</a></h2>
<p>This module contains a list of default tags for the AbinitInput object</p>
</div>
<div class="section" id="module-abipy.abio.inputs">
<span id="inputs-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">inputs</span></code> Module<a class="headerlink" href="#module-abipy.abio.inputs" title="Permalink to this headline">¶</a></h2>
<p>This module defines objects to facilitate the creation of ABINIT input files.
The syntax is similar to the one used in ABINIT with small differences.</p>
<dl class="class">
<dt id="abipy.abio.inputs.AbinitInput">
<em class="property">class </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">AbinitInput</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>pseudo_dir=None</em>, <em>comment=None</em>, <em>decorators=None</em>, <em>abi_args=None</em>, <em>abi_kwargs=None</em>, <em>tags=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.AbstractInput" title="abipy.abio.inputs.AbstractInput"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.inputs.AbstractInput</span></code></a>, <code class="xref py py-class docutils literal"><span class="pre">monty.json.MSONable</span></code>, <a class="reference internal" href="core_api.html#abipy.core.mixins.Has_Structure" title="abipy.core.mixins.Has_Structure"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.Has_Structure</span></code></a>, <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This object stores the ABINIT variables for a single dataset.</p>
<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.Error">
<code class="descname">Error</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.AbinitInputError" title="abipy.abio.inputs.AbinitInputError"><code class="xref py py-class docutils literal"><span class="pre">AbinitInputError</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_autoparal_pconfs">
<code class="descname">abiget_autoparal_pconfs</code><span class="sig-paren">(</span><em>max_ncpus</em>, <em>autoparal=1</em>, <em>workdir=None</em>, <em>manager=None</em>, <em>verbose=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_autoparal_pconfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_autoparal_pconfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the possible configurations up to max_ncpus
Return list of parallel configurations.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_ibz">
<code class="descname">abiget_ibz</code><span class="sig-paren">(</span><em>ngkpt=None</em>, <em>shiftk=None</em>, <em>kptopt=None</em>, <em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_ibz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_ibz" title="Permalink to this definition">¶</a></dt>
<dd><p>This function computes the list of points in the IBZ and the corresponding weights.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ngkpt</strong> &#8211; Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</li>
<li><strong>shiftk</strong> &#8211; List of shifts (default None i.e. use shiftk from self)</li>
<li><strong>kptopt</strong> &#8211; Option for k-point generation. If None, the value in self is used.</li>
<li><strong>workdir</strong> &#8211; Working directory of the fake task used to compute the ibz. Use None for temporary dir.</li>
<li><strong>manager</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">TaskManager</span></code> of the task. If None, the manager is initialized from the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">points: <cite>ndarray</cite> with points in the IBZ in reduced coordinates.
weights: <cite>ndarray</cite> with weights of the points.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>namedtuple</cite> with attributes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_ddeperts">
<code class="descname">abiget_irred_ddeperts</code><span class="sig-paren">(</span><em>ngkpt=None</em>, <em>shiftk=None</em>, <em>kptopt=None</em>, <em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_ddeperts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_ddeperts" title="Permalink to this definition">¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for DFPT.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ngkpt</strong> &#8211; Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</li>
<li><strong>shiftk</strong> &#8211; Shiftks (default None i.e. use shiftk from self)</li>
<li><strong>kptopt</strong> &#8211; Option for k-point generation. If None, the value in self is used.</li>
<li><strong>workdir</strong> &#8211; Working directory of the fake task used to compute the ibz. Use None for temporary dir.</li>
<li><strong>manager</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">TaskManager</span></code> of the task. If None, the manager is initialized from the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation
.. rubric:: Example</p>
<dl class="docutils">
<dt>[{&#8216;idir&#8217;: 1, &#8216;ipert&#8217;: 4, &#8216;qpt&#8217;: [0.0, 0.0, 0.0]},</dt>
<dd><p class="first last">{&#8216;idir&#8217;: 2, &#8216;ipert&#8217;: 4, &#8216;qpt&#8217;: [0.0, 0.0, 0.0]}]</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_dteperts">
<code class="descname">abiget_irred_dteperts</code><span class="sig-paren">(</span><em>ngkpt=None</em>, <em>shiftk=None</em>, <em>kptopt=None</em>, <em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_dteperts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_dteperts" title="Permalink to this definition">¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for DFPT.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ngkpt</strong> &#8211; Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</li>
<li><strong>shiftk</strong> &#8211; Shiftks (default None i.e. use shiftk from self)</li>
<li><strong>kptopt</strong> &#8211; Option for k-point generation. If None, the value in self is used.</li>
<li><strong>workdir</strong> &#8211; Working directory of the fake task used to compute the ibz. Use None for temporary dir.</li>
<li><strong>manager</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">TaskManager</span></code> of the task. If None, the manager is initialized from the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation
.. rubric:: Example</p>
<dl class="docutils">
<dt>[{&#8216;idir&#8217;: 1, &#8216;ipert&#8217;: 4, &#8216;qpt&#8217;: [0.0, 0.0, 0.0]},</dt>
<dd><p class="first last">{&#8216;idir&#8217;: 2, &#8216;ipert&#8217;: 4, &#8216;qpt&#8217;: [0.0, 0.0, 0.0]}]</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_phperts">
<code class="descname">abiget_irred_phperts</code><span class="sig-paren">(</span><em>qpt=None</em>, <em>ngkpt=None</em>, <em>shiftk=None</em>, <em>kptopt=None</em>, <em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_phperts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_phperts" title="Permalink to this definition">¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for DFPT.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qpt</strong> &#8211; qpoint of the phonon in reduced coordinates. Used to shift the k-mesh
if qpt is not passed, self must already contain &#8220;qpt&#8221; otherwise an exception is raised.</li>
<li><strong>ngkpt</strong> &#8211; Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</li>
<li><strong>shiftk</strong> &#8211; Shiftks (default None i.e. use shiftk from self)</li>
<li><strong>kptopt</strong> &#8211; Option for k-point generation. If None, the value in self is used.</li>
<li><strong>workdir</strong> &#8211; Working directory of the fake task used to compute the ibz. Use None for temporary dir.</li>
<li><strong>manager</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">TaskManager</span></code> of the task. If None, the manager is initialized from the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation
.. rubric:: Example</p>
<dl class="docutils">
<dt>[{&#8216;idir&#8217;: 1, &#8216;ipert&#8217;: 1, &#8216;qpt&#8217;: [0.25, 0.0, 0.0]},</dt>
<dd><p class="first last">{&#8216;idir&#8217;: 2, &#8216;ipert&#8217;: 1, &#8216;qpt&#8217;: [0.25, 0.0, 0.0]}]</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.abiget_irred_strainperts">
<code class="descname">abiget_irred_strainperts</code><span class="sig-paren">(</span><em>ngkpt=None</em>, <em>shiftk=None</em>, <em>kptopt=None</em>, <em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abiget_irred_strainperts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abiget_irred_strainperts" title="Permalink to this definition">¶</a></dt>
<dd><p>This function, computes the list of irreducible perturbations for strain perturbations in DFPT.
It should be called with an input file that contains all the mandatory variables required by ABINIT.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ngkpt</strong> &#8211; Number of divisions for the k-mesh (default None i.e. use ngkpt from self)</li>
<li><strong>shiftk</strong> &#8211; Shiftks (default None i.e. use shiftk from self)</li>
<li><strong>kptopt</strong> &#8211; Option for k-point generation. If None, the value in self is used.</li>
<li><strong>workdir</strong> &#8211; Working directory of the fake task used to compute the ibz. Use None for temporary dir.</li>
<li><strong>manager</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">TaskManager</span></code> of the task. If None, the manager is initialized from the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>List of dictionaries with the Abinit variables defining the irreducible perturbation
.. rubric:: Example</p>
<dl class="docutils">
<dt>[{&#8216;idir&#8217;: 1, &#8216;ipert&#8217;: 4, &#8216;qpt&#8217;: [0.0, 0.0, 0.0]},</dt>
<dd><p class="first last">{&#8216;idir&#8217;: 2, &#8216;ipert&#8217;: 4, &#8216;qpt&#8217;: [0.0, 0.0, 0.0]}]</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.abivalidate">
<code class="descname">abivalidate</code><span class="sig-paren">(</span><em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.abivalidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.abivalidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Run ABINIT in dry mode to validate the input file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>workdir</strong> &#8211; Working directory of the fake task used to compute the ibz. Use None for temporary dir.</li>
<li><strong>manager</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">TaskManager</span></code> of the task. If None, the manager is initialized from the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">retcode: Return code. 0 if OK.
log_file:  log file of the Abinit run, use log_file.read() to access its content.
stderr_file: stderr file of the Abinit run. use stderr_file.read() to access its content.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><cite>namedtuple</cite> with the following attributes</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><cite>RuntimeError</cite> if executable is not in $PATH.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.add_tags">
<code class="descname">add_tags</code><span class="sig-paren">(</span><em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.add_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.add_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Add tags to the input</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tags</strong> &#8211; A single tag or list/tuple/set of tags</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.arange">
<code class="descname">arange</code><span class="sig-paren">(</span><em>varname</em>, <em>start</em>, <em>stop</em>, <em>step</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.arange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.arange" title="Permalink to this definition">¶</a></dt>
<dd><p>Return evenly spaced values within a given interval.</p>
<p>Values are generated within the half-open interval <code class="docutils literal"><span class="pre">[start,</span> <span class="pre">stop)</span></code>
(in other words, the interval including <cite>start</cite> but excluding <cite>stop</cite>).</p>
<p>When using a non-integer step, such as 0.1, the results will often not
be consistent.  It is better to use <code class="docutils literal"><span class="pre">linspace</span></code> for these cases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> &#8211; Start of interval. The interval includes this value. The default start value is 0.</li>
<li><strong>stop</strong> &#8211; End of interval.  The interval does not include this value, except
in some cases where <cite>step</cite> is not an integer and floating point</li>
<li><strong>step</strong> &#8211; Spacing between values.  For any output <cite>out</cite>, this is the distance
between two adjacent values, <code class="docutils literal"><span class="pre">out[i+1]</span> <span class="pre">-</span> <span class="pre">out[i]</span></code>.  The default
step size is 1.  If <cite>step</cite> is specified, <cite>start</cite> must also be given.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.comment">
<code class="descname">comment</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.comment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.decorators">
<code class="descname">decorators</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.decorators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.AbinitInput.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.isnc">
<code class="descname">isnc</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.isnc" title="Permalink to this definition">¶</a></dt>
<dd><p>True if norm-conserving calculation.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.ispaw">
<code class="descname">ispaw</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.ispaw" title="Permalink to this definition">¶</a></dt>
<dd><p>True if PAW calculation.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.linspace">
<code class="descname">linspace</code><span class="sig-paren">(</span><em>varname</em>, <em>start</em>, <em>stop</em>, <em>num=50</em>, <em>endpoint=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.linspace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.linspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>num</cite> evenly spaced samples, calculated over the interval [<cite>start</cite>, <cite>stop</cite>].</p>
<p>The endpoint of the interval can optionally be excluded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> &#8211; The starting value of the sequence.</li>
<li><strong>stop</strong> &#8211; The end value of the sequence, unless <cite>endpoint</cite> is set to False.
In that case, the sequence consists of all but the last of <code class="docutils literal"><span class="pre">ndtset</span> <span class="pre">+</span> <span class="pre">1</span></code>
evenly spaced samples, so that <cite>stop</cite> is excluded.  Note that the step
size changes when <cite>endpoint</cite> is False.</li>
<li><strong>num</strong> &#8211; int, optional
Number of samples to generate. Default is 50.</li>
<li><strong>endpoint</strong> &#8211; bool, optional
If True, <cite>stop</cite> is the last sample. Otherwise, it is not included.
Default is True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.make_bec_inputs">
<code class="descname">make_bec_inputs</code><span class="sig-paren">(</span><em>tolerance=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_bec_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_bec_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return inputs for the calculation of the Born effective charges.</p>
<p>This functions should be called with an input the represents a gs run.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.make_dde_inputs">
<code class="descname">make_dde_inputs</code><span class="sig-paren">(</span><em>tolerance=None</em>, <em>use_symmetries=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_dde_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_dde_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return inputs for the calculation of the electric field perturbations.
This functions should be called with an input the represents a gs run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tolerance</strong> &#8211; dict {varname: value} with the tolerance to be used in the DFPT run.
Defaults to {&#8220;tolwfr&#8221;: 1.0e-22}.</li>
<li><strong>use_symmetries</strong> &#8211; boolean that computes the irreducible components of the perturbation.
Default to True. Should be set to False for nonlinear coefficients calculation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <cite>AbinitInput</cite> objects for DFPT runs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.make_ddk_inputs">
<code class="descname">make_ddk_inputs</code><span class="sig-paren">(</span><em>tolerance=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_ddk_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_ddk_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return inputs for performing DDK calculations.
This functions should be called with an input the represents a GS run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tolerance</strong> &#8211; dict {varname: value} with the tolerance to be used in the DFPT run.
Defaults to {&#8220;tolwfr&#8221;: 1.0e-22}.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of AbinitInput objects for DFPT runs.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.make_dte_inputs">
<code class="descname">make_dte_inputs</code><span class="sig-paren">(</span><em>tolerance=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_dte_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_dte_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return inputs for the DDK calculation.
This functions should be called with an input the represents a GS run.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.make_ph_inputs_qpoint">
<code class="descname">make_ph_inputs_qpoint</code><span class="sig-paren">(</span><em>qpt</em>, <em>tolerance=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_ph_inputs_qpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_ph_inputs_qpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>This functions builds and returns a list of input files
for the calculation of phonons at the given q-point <a href="#id2"><span class="problematic" id="id3">`</span></a>qpt.
It should be called with an input the represents a GS run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qpt</strong> &#8211; q-point in reduced coordinates.</li>
<li><strong>tolerance</strong> &#8211; dict {varname: value} with the tolerance to be used in the DFPT run.
Defaults to {&#8220;tolvrs&#8221;: 1.0e-10}.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <cite>AbinitInput</cite> objects for DFPT runs.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The routine assumes the q-point is such that k + q belongs to the initial GS mesh.
so that the DFPT run can be started from the WFK file directly without having
to generate WFQ files.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.make_strain_perts_inputs">
<code class="descname">make_strain_perts_inputs</code><span class="sig-paren">(</span><em>tolerance=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.make_strain_perts_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.make_strain_perts_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.mnemonics">
<code class="descname">mnemonics</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.mnemonics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if mnemonics should be printed</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.new_with_decorators">
<code class="descname">new_with_decorators</code><span class="sig-paren">(</span><em>decorators</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.new_with_decorators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.new_with_decorators" title="Permalink to this definition">¶</a></dt>
<dd><p>This function receives a list of <code class="xref py py-class docutils literal"><span class="pre">AbinitInputDecorator</span></code> objects or just a single object,
applyes the decorators to the input and returns a new <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code></a> object.
self is not changed.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.new_with_structure">
<code class="descname">new_with_structure</code><span class="sig-paren">(</span><em>structure</em>, <em>scdims=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.new_with_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.new_with_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code></a> with a different structure
(see notes below for the constraints that must be fulfilled by the new structure)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; Parameters defining the crystalline structure. Accepts <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object
file with structure (CIF, netcdf file, ...) or dictionary with ABINIT geo variables.</li>
<li><strong>scdims</strong> &#8211; 3 integer giving with the number of cells in the supercell along the three reduced directions.
Must be used when structure represents a supercell of the initial structure defined
in the input file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">if scdims is None (i.e. no supercell), the two structure must have the same value of
<cite>natom</cite> and <cite>typat</cite>, they can only differ at the level of the lattice and of the atomic positions.
When structure represents a supercell, scdims must be coherent with the structure passed
as argument.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.new_with_vars">
<code class="descname">new_with_vars</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.new_with_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.new_with_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new input with the given variables.</p>
<p class="rubric">Example</p>
<p>new = input.new_with_vars(ecut=20)</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.num_valence_electrons">
<code class="descname">num_valence_electrons</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.num_valence_electrons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of valence electrons computed from the pseudos and the structure.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.pop_irdvars">
<code class="descname">pop_irdvars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.pop_irdvars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pop_irdvars" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the ird variables present in self.
Return dictionary with the variables that have been removed.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.pop_par_vars">
<code class="descname">pop_par_vars</code><span class="sig-paren">(</span><em>all=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.pop_par_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pop_par_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the variables associated to parallelism from the input file.
Useful in case of a restart when we need to remove the parallel variables before rerunning autoparal</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.pop_tolerances">
<code class="descname">pop_tolerances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.pop_tolerances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pop_tolerances" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the tolerance variables present in self.
Return dictionary with the variables that have been removed.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.product">
<code class="descname">product</code><span class="sig-paren">(</span><em>*items</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.product"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.product" title="Permalink to this definition">¶</a></dt>
<dd><p>Cartesian product of input iterables. Equivalent to nested for-loops.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">inp</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="s2">&quot;ngkpt&quot;</span><span class="p">,</span> <span class="s2">&quot;tsmear&quot;</span><span class="p">,</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.pseudos">
<code class="descname">pseudos</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pseudos" title="Permalink to this definition">¶</a></dt>
<dd><p>List of <code class="xref py py-class docutils literal"><span class="pre">Pseudo</span></code> objects.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.pycheck">
<code class="descname">pycheck</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.pycheck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.pycheck" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.register_decorator">
<code class="descname">register_decorator</code><span class="sig-paren">(</span><em>decorator</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.register_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.register_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a <code class="xref py py-class docutils literal"><span class="pre">AbinitInputDecorator</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.remove_tags">
<code class="descname">remove_tags</code><span class="sig-paren">(</span><em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.remove_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.remove_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove tags from the input</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tags</strong> &#8211; A single tag or list/tuple/set of tags</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.runlevel">
<code class="descname">runlevel</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.runlevel" title="Permalink to this definition">¶</a></dt>
<dd><p>A Set of strings defining the type of run of the current input.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.scf_tolvar">
<code class="descname">scf_tolvar</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.scf_tolvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the tolerance variable and value relative to the scf convergence.
If more than one is present raise an error</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_autokmesh">
<code class="descname">set_autokmesh</code><span class="sig-paren">(</span><em>nksmall</em>, <em>kptopt=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_autokmesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_autokmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variables (ngkpt, shift, kptopt) for the sampling of the BZ.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nksmall</strong> &#8211; Number of k-points used to sample the smallest lattice vector.</li>
<li><strong>kptopt</strong> &#8211; Option for the generation of the mesh.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_autospinat">
<code class="descname">set_autospinat</code><span class="sig-paren">(</span><em>default=0.6</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_autospinat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_autospinat" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variable spinat for collinear calculation in the format (0, 0, m) with the value of m determined
with the following order of preference:</p>
<ol class="arabic simple">
<li>If the site of the structure has a magmom setting, that is used.</li>
<li>If the species on the site has a spin setting, that is used.</li>
<li>If the species itself has a particular setting in the config file, that
is used, e.g., Mn3+ may have a different magmom than Mn4+.</li>
<li>The element symbol itself is checked in the config file.</li>
<li>If there are no settings, the default value is used.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_comment">
<code class="descname">set_comment</code><span class="sig-paren">(</span><em>comment</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_comment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_comment" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a comment to be included at the top of the file.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_kmesh">
<code class="descname">set_kmesh</code><span class="sig-paren">(</span><em>ngkpt</em>, <em>shiftk</em>, <em>kptopt=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_kmesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_kmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variables for the sampling of the BZ.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ngkpt</strong> &#8211; Monkhorst-Pack divisions</li>
<li><strong>shiftk</strong> &#8211; List of shifts.</li>
<li><strong>kptopt</strong> &#8211; Option for the generation of the mesh.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_kpath">
<code class="descname">set_kpath</code><span class="sig-paren">(</span><em>ndivsm</em>, <em>kptbounds=None</em>, <em>iscf=-2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_kpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_kpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variables for the computation of the band structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ndivsm</strong> &#8211; Number of divisions for the smallest segment.</li>
<li><strong>kptbounds</strong> &#8211; k-points defining the path in k-space.
If None, we use the default high-symmetry k-path defined in the pymatgen database.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_kptgw">
<code class="descname">set_kptgw</code><span class="sig-paren">(</span><em>kptgw</em>, <em>bdgw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_kptgw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_kptgw" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variables (k-points, bands) for the computation of the GW corrections.</p>
<dl class="docutils">
<dt>Args</dt>
<dd><p class="first">kptgw: List of k-points in reduced coordinates.
bdgw: Specifies the range of bands for the GW corrections.</p>
<blockquote class="last">
<div>Accepts iterable that be reshaped to (nkptgw, 2)
or a tuple of two integers if the extrema are the same for each k-point.</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_mnemonics">
<code class="descname">set_mnemonics</code><span class="sig-paren">(</span><em>boolean</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_mnemonics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_mnemonics" title="Permalink to this definition">¶</a></dt>
<dd><p>True if mnemonics should be printed</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_spell_check">
<code class="descname">set_spell_check</code><span class="sig-paren">(</span><em>false_or_true</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_spell_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_spell_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Activate/Deactivate spell-checking</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_spin_mode">
<code class="descname">set_spin_mode</code><span class="sig-paren">(</span><em>spin_mode</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_spin_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_spin_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variables used to the treat the spin degree of freedom.
Return dictionary with the variables that have been removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>spin_mode</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">SpinMode</span></code> object or string. Possible values for string are:</li>
<li><strong>polarized</strong> (<em>-</em>) &#8211; </li>
<li><strong>unpolarized</strong> (<em>-</em>) &#8211; </li>
<li><strong>afm</strong> (<em>-</em>) &#8211; </li>
<li><strong>spinor</strong> (<em>-</em>) &#8211; </li>
<li><strong>spinor_nomag</strong> (<em>-</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.set_structure">
<code class="descname">set_structure</code><span class="sig-paren">(</span><em>structure</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.set_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.set_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.spell_check">
<code class="descname">spell_check</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.spell_check" title="Permalink to this definition">¶</a></dt>
<dd><p>True if spell checking is activated.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.structure">
<code class="descname">structure</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.structure" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> associated to this input.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><em>sortmode='section'</em>, <em>post=None</em>, <em>with_mnemonics=False</em>, <em>with_structure=True</em>, <em>with_pseudos=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sortmode</strong> &#8211; &#8220;a&#8221; for alphabetical order, None if no sorting is wanted</li>
<li><strong>with_mnemonics</strong> &#8211; True if mnemonics should be added.</li>
<li><strong>post</strong> &#8211; String that will be appended to the name of the variables
Note that post is usually autodetected when we have multiple datatasets
It is mainly used when we have an input file with a single dataset
so that we can prevent the code from adding &#8220;1&#8221; to the name of the variables
(In this case, indeed, Abinit complains if ndtset=1 is not specified
and we don&#8217;t want ndtset=1 simply because the code will start to add
_DS1_ to all the input and output files.</li>
<li><strong>with_structure</strong> &#8211; False if section with structure variables should not be printed.</li>
<li><strong>with_pseudos</strong> &#8211; False if JSON section with pseudo data should not be added.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.valence_electrons_per_atom">
<code class="descname">valence_electrons_per_atom</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.valence_electrons_per_atom" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of valence electrons for each atom in the structure.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbinitInput.variable_checksum">
<code class="descname">variable_checksum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInput.variable_checksum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.variable_checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return string with sha1 value in hexadecimal format.
This method is mainly used in unit tests to check the invariance
of the input objects. Note, indeed, that AbintInput is mutable and therefore
should not be used as keyword in dictionaries.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbinitInput.vars">
<code class="descname">vars</code><a class="headerlink" href="#abipy.abio.inputs.AbinitInput.vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="abipy.abio.inputs.AbinitInputError">
<em class="property">exception </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">AbinitInputError</code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbinitInputError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbinitInputError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Base error class for exceptions raised by <cite>AbinitInput</cite></p>
</dd></dl>

<dl class="class">
<dt id="abipy.abio.inputs.AbstractInput">
<em class="property">class </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">AbstractInput</code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">collections.abc.MutableMapping</span></code>, <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Abstract class defining the methods that must be implemented by Input objects.</p>
<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.abivalidate">
<code class="descname">abivalidate</code><span class="sig-paren">(</span><em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.abivalidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.abivalidate" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should invoke the executable associated to the input object.
to test whether the input variables are correct and consistent.
The executable is supposed to implemente some sort of <cite>&#8211;dry-run</cite> option
that invokes the parser to validate the input and exits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>workdir</strong> &#8211; Working directory of the fake task used to compute the ibz. Use None for temporary dir.</li>
<li><strong>manager</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">TaskManager</span></code> of the task. If None, the manager is initialized from the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">retcode: Return code. 0 if OK.
log_file:  log file of the Abinit run, use log_file.read() to access its content.
stderr_file: stderr file of the Abinit run. use stderr_file.read() to access its content.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><cite>namedtuple</cite> with the following attributes</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><cite>RuntimeError</cite> if executable is not in $PATH.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.add_abiobjects">
<code class="descname">add_abiobjects</code><span class="sig-paren">(</span><em>*abi_objects</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.add_abiobjects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.add_abiobjects" title="Permalink to this definition">¶</a></dt>
<dd><p>This function receive a list of <cite>AbiVarable</cite> objects and add
the corresponding variables to the input.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.deepcopy">
<code class="descname">deepcopy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.deepcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy of the input.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.pop_vars">
<code class="descname">pop_vars</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.pop_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.pop_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the variables listed in keys.
Return dictionary with the variables that have been removed.
Unlike remove_vars, no exception is raised if the variables are not in the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> &#8211; string or list of strings with variable names.</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>inp.pop_vars([&#8220;ionmov&#8221;, &#8220;optcell&#8221;, &#8220;ntime&#8221;, &#8220;dilatmx&#8221;])</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.remove_vars">
<code class="descname">remove_vars</code><span class="sig-paren">(</span><em>keys</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.remove_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.remove_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the variables listed in keys.
Return dictionary with the variables that have been removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>keys</strong> &#8211; string or list of strings with variable names.</li>
<li><strong>strict</strong> &#8211; If True, KeyError is raised if at least one variable is not present.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.set_vars">
<code class="descname">set_vars</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.set_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.set_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of the variables.
Return dict with the variables added to the input.</p>
<p class="rubric">Example</p>
<p>input.set_vars(ecut=10, ionmov=3)</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.set_vars_ifnotin">
<code class="descname">set_vars_ifnotin</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.set_vars_ifnotin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.set_vars_ifnotin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of the variables but only if the variable is not already present.
Return dict with the variables added to the input.</p>
<p class="rubric">Example</p>
<p>input.set_vars(ecut=10, ionmov=3)</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string with the input.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AbstractInput.vars">
<code class="descname">vars</code><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary with the input variables. Used to implement dict-like interface.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AbstractInput.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filepath='run.abi'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AbstractInput.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AbstractInput.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the input file to file to <cite>filepath</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.inputs.AnaddbInput">
<em class="property">class </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">AnaddbInput</code><span class="sig-paren">(</span><em>structure</em>, <em>comment=''</em>, <em>anaddb_args=None</em>, <em>anaddb_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.AbstractInput" title="abipy.abio.inputs.AbstractInput"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.inputs.AbstractInput</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.Has_Structure" title="abipy.core.mixins.Has_Structure"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.Has_Structure</span></code></a></p>
<dl class="attribute">
<dt id="abipy.abio.inputs.AnaddbInput.Error">
<code class="descname">Error</code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.AnaddbInputError" title="abipy.abio.inputs.AnaddbInputError"><code class="xref py py-class docutils literal"><span class="pre">AnaddbInputError</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AnaddbInput.abivalidate">
<code class="descname">abivalidate</code><span class="sig-paren">(</span><em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.abivalidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.abivalidate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.AnaddbInput.ifc">
<em class="property">classmethod </em><code class="descname">ifc</code><span class="sig-paren">(</span><em>structure</em>, <em>ngqpt</em>, <em>ifcout=None</em>, <em>q1shft=(0</em>, <em>0</em>, <em>0)</em>, <em>asr=2</em>, <em>chneut=1</em>, <em>dipdip=1</em>, <em>anaddb_args=None</em>, <em>anaddb_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.ifc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.ifc" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an anaddb input file for the computation of interatomic force constants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object</li>
<li><strong>ngqpt</strong> &#8211; Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</li>
<li><strong>ifcout</strong> &#8211; Number of neighbouring atoms for which the ifc&#8217;s will be output. If None all the atoms in the big box.</li>
<li><strong>q1shft</strong> &#8211; Shifts used for the coarse Q-mesh</li>
<li><strong>chneut</strong><strong>, </strong><strong>dipdip</strong> (<em>asr</em><em>,</em><em></em>) &#8211; Anaddb input variable. See official documentation.</li>
<li><strong>anaddb_args</strong> &#8211; List of tuples (key, value) with Anaddb input variables (default: empty)</li>
<li><strong>anaddb_kwargs</strong> &#8211; Dictionary with Anaddb input variables (default: empty)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.AnaddbInput.modes">
<em class="property">classmethod </em><code class="descname">modes</code><span class="sig-paren">(</span><em>structure</em>, <em>enunit=2</em>, <em>asr=2</em>, <em>chneut=1</em>, <em>anaddb_args=None</em>, <em>anaddb_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.modes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an anaddb input file for the computation of phonon modes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object</li>
<li><strong>ngqpt</strong> &#8211; Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</li>
<li><strong>nqsmall</strong> &#8211; Used to generate the (dense) mesh for the DOS.
It defines the number of q-points used to sample the smallest lattice vector.</li>
<li><strong>q1shft</strong> &#8211; Shifts used for the coarse Q-mesh</li>
<li><strong>Boundaries of the path. If None</strong><strong>, </strong><strong>the path is generated from an internal database</strong> (<em>qptbounds</em>) &#8211; depending on the input structure.</li>
<li><strong>chneut</strong><strong>, </strong><strong>dipdp</strong> (<em>asr</em><em>,</em><em></em>) &#8211; Anaddb input variable. See official documentation.</li>
<li><strong>anaddb_args</strong> &#8211; List of tuples (key, value) with Anaddb input variables (default: empty)</li>
<li><strong>anaddb_kwargs</strong> &#8211; Dictionary with Anaddb input variables (default: empty)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>#!General information
#enunit    2
#eivec     1
#!Flags
#dieflag   1
#ifcflag   1
#ngqpt     1 1 1
#!Effective charges
#asr       2
#chneut    2
# Wavevector list number 1
#nph1l     1
#qph1l   0.0  0.0  0.0    1.0   ! (Gamma point)
#!Wavevector list number 2
#nph2l     3      ! number of phonons in list 1
#qph2l   1.0  0.0  0.0    0.0
#        0.0  1.0  0.0    0.0
#        0.0  0.0  1.0    0.0</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.AnaddbInput.modes_at_qpoint">
<em class="property">classmethod </em><code class="descname">modes_at_qpoint</code><span class="sig-paren">(</span><em>structure</em>, <em>qpoint</em>, <em>asr=2</em>, <em>chneut=1</em>, <em>dipdip=1</em>, <em>ifcflag=0</em>, <em>lo_to_splitting=False</em>, <em>directions=None</em>, <em>anaddb_args=None</em>, <em>anaddb_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.modes_at_qpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.modes_at_qpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Input file for the calculation of the phonon frequencies at a given q-point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object</li>
<li><strong>qpoint</strong> &#8211; Reduced coordinates of the q-point where phonon frequencies and modes are wanted</li>
<li><strong>chneut</strong><strong>, </strong><strong>dipdp</strong><strong>, </strong><strong>ifcflag</strong> (<em>asr</em><em>,</em><em></em>) &#8211; Anaddb input variable. See official documentation.</li>
<li><strong>lo_to_splitting</strong> &#8211; if True calculation of the LO-TO splitting will be included if qpoint==Gamma</li>
<li><strong>directions</strong> &#8211; list of 3D directions along which the LO-TO splitting will be calculated. If None the three
cartesian direction will be used</li>
<li><strong>anaddb_args</strong> &#8211; List of tuples (key, value) with Anaddb input variables (default: empty)</li>
<li><strong>anaddb_kwargs</strong> &#8211; Dictionary with Anaddb input variables (default: empty)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.AnaddbInput.phbands_and_dos">
<em class="property">classmethod </em><code class="descname">phbands_and_dos</code><span class="sig-paren">(</span><em>structure</em>, <em>ngqpt</em>, <em>nqsmall</em>, <em>ndivsm=20</em>, <em>q1shft=(0</em>, <em>0</em>, <em>0)</em>, <em>qptbounds=None</em>, <em>asr=2</em>, <em>chneut=0</em>, <em>dipdip=1</em>, <em>dos_method='tetra'</em>, <em>lo_to_splitting=False</em>, <em>anaddb_args=None</em>, <em>anaddb_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.phbands_and_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.phbands_and_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an anaddb input file for the computation of phonon bands and phonon DOS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object</li>
<li><strong>ngqpt</strong> &#8211; Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</li>
<li><strong>nqsmall</strong> &#8211; Used to generate the (dense) mesh for the DOS.
It defines the number of q-points used to sample the smallest lattice vector.</li>
<li><strong>ndivsm</strong> &#8211; Used to generate a normalized path for the phonon bands.
If gives the number of divisions for the smallest segment of the path.</li>
<li><strong>q1shft</strong> &#8211; Shifts used for the coarse Q-mesh</li>
<li><strong>Boundaries of the path. If None</strong><strong>, </strong><strong>the path is generated from an internal database</strong> (<em>qptbounds</em>) &#8211; depending on the input structure.</li>
<li><strong>chneut</strong><strong>, </strong><strong>dipdp</strong> (<em>asr</em><em>,</em><em></em>) &#8211; Anaddb input variable. See official documentation.</li>
<li><strong>dos_method</strong> &#8211; Possible choices: &#8220;tetra&#8221;, &#8220;gaussian&#8221; or &#8220;gaussian:0.001 eV&#8221;.
In the later case, the value 0.001 eV is used as gaussian broadening</li>
<li><strong>lo_to_splitting</strong> &#8211; if True calculation of the LO-TO splitting will be included</li>
<li><strong>anaddb_args</strong> &#8211; List of tuples (key, value) with Anaddb input variables (default: empty)</li>
<li><strong>anaddb_kwargs</strong> &#8211; Dictionary with Anaddb input variables (default: empty)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.AnaddbInput.piezo_elastic">
<em class="property">classmethod </em><code class="descname">piezo_elastic</code><span class="sig-paren">(</span><em>structure</em>, <em>anaddb_args=None</em>, <em>anaddb_kwargs=None</em>, <em>stress_correction=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.piezo_elastic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.piezo_elastic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AnaddbInput.set_autoqmesh">
<code class="descname">set_autoqmesh</code><span class="sig-paren">(</span><em>nqsmall</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.set_autoqmesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.set_autoqmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variable nqpt for the sampling of the BZ.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nqsmall</strong> &#8211; Number of divisions used to sample the smallest lattice vector.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AnaddbInput.set_qpath">
<code class="descname">set_qpath</code><span class="sig-paren">(</span><em>ndivsm</em>, <em>qptbounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.set_qpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.set_qpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variables for the computation of the phonon band structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ndivsm</strong> &#8211; Number of divisions for the smallest segment.</li>
<li><strong>qptbounds</strong> &#8211; q-points defining the path in k-space.
If None, we use the default high-symmetry k-path defined in the pymatgen database.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AnaddbInput.set_spell_check">
<code class="descname">set_spell_check</code><span class="sig-paren">(</span><em>false_or_true</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.set_spell_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.set_spell_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Activate/Deactivate spell-checking</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AnaddbInput.spell_check">
<code class="descname">spell_check</code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.spell_check" title="Permalink to this definition">¶</a></dt>
<dd><p>True if spell checking is activated.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AnaddbInput.structure">
<code class="descname">structure</code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.AnaddbInput.thermo">
<em class="property">classmethod </em><code class="descname">thermo</code><span class="sig-paren">(</span><em>structure</em>, <em>ngqpt</em>, <em>nqsmall</em>, <em>q1shft=(0</em>, <em>0</em>, <em>0)</em>, <em>nchan=1250</em>, <em>nwchan=5</em>, <em>thmtol=0.5</em>, <em>ntemper=199</em>, <em>temperinc=5</em>, <em>tempermin=5.0</em>, <em>asr=2</em>, <em>chneut=1</em>, <em>dipdip=1</em>, <em>ngrids=10</em>, <em>anaddb_args=None</em>, <em>anaddb_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.thermo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.thermo" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an anaddb input file for the computation of phonon bands and phonon DOS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>structure</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Structure</span></code> object</li>
<li><strong>ngqpt</strong> &#8211; Monkhorst-Pack divisions for the phonon Q-mesh (coarse one)</li>
<li><strong>nqsmall</strong> &#8211; Used to generate the (dense) mesh for the DOS.
It defines the number of q-points used to sample the smallest lattice vector.</li>
<li><strong>q1shft</strong> &#8211; Shifts used for the coarse Q-mesh</li>
<li><strong>nchan</strong> &#8211; </li>
<li><strong>nwchan</strong> &#8211; </li>
<li><strong>thmtol</strong> &#8211; </li>
<li><strong>ntemper</strong> &#8211; </li>
<li><strong>temperinc</strong> &#8211; </li>
<li><strong>tempermin</strong> &#8211; </li>
<li><strong>chneut</strong><strong>, </strong><strong>dipdp</strong> (<em>asr</em><em>,</em><em></em>) &#8211; Anaddb input variable. See official documentation.</li>
<li><strong>ngrids</strong> &#8211; </li>
<li><strong>anaddb_args</strong> &#8211; List of tuples (key, value) with Anaddb input variables (default: empty)</li>
<li><strong>anaddb_kwargs</strong> &#8211; Dictionary with Anaddb input variables (default: empty)</li>
<li><strong>#!Flags</strong> &#8211; </li>
<li><strong>ifcflag   1     ! Interatomic force constant flag</strong> (<em>#</em>) &#8211; </li>
<li><strong>thmflag   1     ! Thermodynamical properties flag</strong> (<em>#</em>) &#8211; </li>
<li><strong>grid number 1</strong> (<em>#!Wavevector</em>) &#8211; </li>
<li><strong>brav    2      ! Bravais Lattice</strong> (<em>#</em>) &#8211; 1-S.C., 2-F.C., 3-B.C., 4-Hex.)</li>
<li><strong>ngqpt   4  4  4   ! Monkhorst-Pack indices</strong> (<em>#</em>) &#8211; </li>
<li><strong>nqshft  1         ! number of q-points in repeated basic q-cell</strong> (<em>#</em>) &#8211; </li>
<li><strong>q1shft  3*0.0</strong> (<em>#</em>) &#8211; </li>
<li><strong>charges</strong> (<em>#!Effective</em>) &#8211; </li>
<li><strong>asr   1     ! Acoustic Sum Rule. 1 =&gt; imposed asymetrically</strong> (<em>#</em>) &#8211; </li>
<li><strong>chneut   1     ! Charge neutrality requirement for effective charges.</strong> (<em>#</em>) &#8211; </li>
<li><strong>force constant info</strong> (<em>#!Interatomic</em>) &#8211; </li>
<li><strong>dipdip  1      ! Dipole-dipole interaction treatment</strong> (<em>#</em>) &#8211; </li>
<li><strong>grid number 2</strong> (<em>#!Wavevector</em>) &#8211; </li>
<li><strong>ng2qpt   20 20 20  ! sample the BZ up to ngqpt2</strong> (<em>#</em>) &#8211; </li>
<li><strong>ngrids   5         ! number of grids of increasing size#  q2shft   3*0.0</strong> (<em>#</em>) &#8211; </li>
<li><strong>information</strong> (<em>#!Thermal</em>) &#8211; </li>
<li><strong>nchan   1250   ! # of channels for the DOS with channel width 1 cm-1</strong> (<em>#</em>) &#8211; </li>
<li><strong>nwchan  5      ! # of different channel widths from this integer down to 1 cm-1</strong> (<em>#</em>) &#8211; </li>
<li><strong>thmtol  0.120  ! Tolerance on thermodynamical function fluctuations</strong> (<em>#</em>) &#8211; </li>
<li><strong>ntemper 10     ! Number of temperatures</strong> (<em>#</em>) &#8211; </li>
<li><strong>temperinc 20.  ! Increment of temperature in K for temperature dependency</strong> (<em>#</em>) &#8211; </li>
<li><strong>tempermin 20.  ! Minimal temperature in Kelvin</strong> (<em>#</em>) &#8211; </li>
<li><strong>This line added when defaults were changed</strong> (<em>#</em>) &#8211; </li>
<li><strong>symdynmat 0</strong> (<em>#</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.AnaddbInput.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><em>sortmode=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInput.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sortmode</strong> &#8211; &#8220;a&#8221; for alphabetical order, None if no sorting is wanted</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.AnaddbInput.vars">
<code class="descname">vars</code><a class="headerlink" href="#abipy.abio.inputs.AnaddbInput.vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="abipy.abio.inputs.AnaddbInputError">
<em class="property">exception </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">AnaddbInputError</code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#AnaddbInputError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.AnaddbInputError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Base error class for exceptions raised by <cite>AnaddbInput</cite></p>
</dd></dl>

<dl class="class">
<dt id="abipy.abio.inputs.Cut3DInput">
<em class="property">class </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">Cut3DInput</code><span class="sig-paren">(</span><em>infile_path=None</em>, <em>output_filepath=None</em>, <em>options=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">monty.json.MSONable</span></code>, <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This object stores the options to run a single cut3d analysis.</p>
<dl class="method">
<dt id="abipy.abio.inputs.Cut3DInput.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_3d_formatted">
<em class="property">classmethod </em><code class="descname">den_to_3d_formatted</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>output_filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_3d_formatted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_3d_formatted" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a 3D formatted format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit.
Can be None to be defined at a later time.</li>
<li><strong>output_filepath</strong> &#8211; path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_3d_indexed">
<em class="property">classmethod </em><code class="descname">den_to_3d_indexed</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>output_filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_3d_indexed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_3d_indexed" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a 3D indexed format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</li>
<li><strong>output_filepath</strong> &#8211; path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_cube">
<em class="property">classmethod </em><code class="descname">den_to_cube</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>output_filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a cube format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</li>
<li><strong>output_filepath</strong> &#8211; path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_molekel">
<em class="property">classmethod </em><code class="descname">den_to_molekel</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>output_filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_molekel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_molekel" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a Molekel format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</li>
<li><strong>output_filepath</strong> &#8211; path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_tecplot">
<em class="property">classmethod </em><code class="descname">den_to_tecplot</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>output_filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_tecplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_tecplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to a Tecplot format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</li>
<li><strong>output_filepath</strong> &#8211; path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.den_to_xsf">
<em class="property">classmethod </em><code class="descname">den_to_xsf</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>output_filepath</em>, <em>shift=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.den_to_xsf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.den_to_xsf" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the conversion to an xsf format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</li>
<li><strong>output_filepath</strong> &#8211; path to the file that should be produced by cut3D, if required. At this stage it would be
safer to use just the file name, as using an absolute or relative path may fail depending on
the compiler.</li>
<li><strong>shift</strong> &#8211; a list of three integers defining the shift along the x, y, z axis.
None if no shift is required.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.hirshfeld">
<em class="property">classmethod </em><code class="descname">hirshfeld</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>all_el_dens_paths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.hirshfeld"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.hirshfeld" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the calculation of the Hirshfeld charges from the density.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</li>
<li><strong>all_el_dens_paths</strong> &#8211; a list of paths to the all-electron density files corresponding to the elements defined
in the abinit input. See <a class="reference external" href="http://www.abinit.org/downloads/all_core_electron">http://www.abinit.org/downloads/all_core_electron</a> for files.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.Cut3DInput.hirshfeld_from_fhi_path">
<em class="property">classmethod </em><code class="descname">hirshfeld_from_fhi_path</code><span class="sig-paren">(</span><em>density_filepath</em>, <em>structure</em>, <em>fhi_all_el_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.hirshfeld_from_fhi_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.hirshfeld_from_fhi_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cut3d input for the calculation of the Hirshfeld charges from the density. Automatically
selects the all-electron density files from a folder containing the fhi all-electron density files:
<a class="reference external" href="http://www.abinit.org/downloads/all_core_electron">http://www.abinit.org/downloads/all_core_electron</a></p>
<p>This will work only if the input has been generated with AbinitInput and the Structure object is the same
provided to AbinitInput.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>density_filepath</strong> &#8211; absolute or relative path to the input density produced by abinit. Can be None to be
defined at a later time.</li>
<li><strong>structure</strong> &#8211; the structure used for the ground state calculation. Used to determine the elements</li>
<li><strong>fhi_all_el_path</strong> &#8211; path to the folder containing the fhi all-electron density files</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.Cut3DInput.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string with the input.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.Cut3DInput.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#Cut3DInput.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.Cut3DInput.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the input to a file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.inputs.MultiDataset">
<em class="property">class </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">MultiDataset</code><span class="sig-paren">(</span><em>structure</em>, <em>pseudos</em>, <em>pseudo_dir=''</em>, <em>ndtset=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This object is essentially a list of <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code></a> objects.
that provides an easy-to-use interface to apply global changes to the
the inputs stored in the objects.</p>
<p>Let&#8217;s assume for example that multi contains two <cite>AbinitInput</cite> objects and we
want to set <cite>ecut</cite> to 1 in both dictionaries. The direct approach would be:</p>
<blockquote>
<div><dl class="docutils">
<dt>for inp in multi:</dt>
<dd>inp.set_vars(ecut=1)</dd>
</dl>
</div></blockquote>
<p>or alternatively:</p>
<blockquote>
<div><dl class="docutils">
<dt>for i in range(multi.ndtset):</dt>
<dd>multi[i].set_vars(ecut=1)</dd>
</dl>
</div></blockquote>
<p>MultiDataset provides its own implementaion of __getattr__ so that one can simply use:</p>
<blockquote>
<div>multi.set_vars(ecut=1)</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">MultiDataset does not support calculations done with different sets of pseudopotentials.
The inputs can have different crystalline structures (as long as the atom types are equal)
but each input in MultiDataset must have the same set of pseudopotentials.</p>
</div>
<dl class="attribute">
<dt id="abipy.abio.inputs.MultiDataset.Error">
<code class="descname">Error</code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.AbinitInputError" title="abipy.abio.inputs.AbinitInputError"><code class="xref py py-class docutils literal"><span class="pre">AbinitInputError</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.add_tags">
<code class="descname">add_tags</code><span class="sig-paren">(</span><em>tags</em>, <em>dtindeces=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.add_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.add_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Add tags to the selected inputs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tags</strong> &#8211; A single tag or list/tuple/set of tags</li>
<li><strong>dtindeces</strong> &#8211; a list of indices to which the tags will be added. None=all the inputs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.addnew_from">
<code class="descname">addnew_from</code><span class="sig-paren">(</span><em>dtindex</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.addnew_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.addnew_from" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>abinit_input</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code></a> to the list.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.deepcopy">
<code class="descname">deepcopy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.deepcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy of the object.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>abinit_inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.extend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends self with a list of <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code></a> objects.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.filter_by_runlevel">
<code class="descname">filter_by_runlevel</code><span class="sig-paren">(</span><em>runlevel</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.filter_by_runlevel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.filter_by_runlevel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.filter_by_tags">
<code class="descname">filter_by_tags</code><span class="sig-paren">(</span><em>tags=None</em>, <em>exclude_tags=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.filter_by_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.filter_by_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters the input according to the tags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tags</strong> &#8211; A single tag or list/tuple/set of tags</li>
<li><strong>exclude_tags</strong> &#8211; A single tag or list/tuple/set of tags that should be excluded</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="#abipy.abio.inputs.MultiDataset" title="abipy.abio.inputs.MultiDataset"><code class="xref py py-class docutils literal"><span class="pre">MultiDataset</span></code></a> containing the inputs containing all the requested tags</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.MultiDataset.from_inputs">
<em class="property">classmethod </em><code class="descname">from_inputs</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.from_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.from_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.MultiDataset.has_same_structures">
<code class="descname">has_same_structures</code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.has_same_structures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.MultiDataset.isnc">
<code class="descname">isnc</code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.isnc" title="Permalink to this definition">¶</a></dt>
<dd><p>True if norm-conserving calculation.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.MultiDataset.ispaw">
<code class="descname">ispaw</code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.ispaw" title="Permalink to this definition">¶</a></dt>
<dd><p>True if PAW calculation.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.MultiDataset.ndtset">
<code class="descname">ndtset</code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.ndtset" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of inputs in self.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.MultiDataset.pseudos">
<code class="descname">pseudos</code><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.pseudos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.remove_tags">
<code class="descname">remove_tags</code><span class="sig-paren">(</span><em>tags</em>, <em>dtindeces=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.remove_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.remove_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove tags from the selected inputs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tags</strong> &#8211; A single tag or list/tuple/set of tags</li>
<li><strong>dtindeces</strong> &#8211; a list of indices from which the tags will be removed. None=all the inputs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.MultiDataset.replicate_input">
<em class="property">classmethod </em><code class="descname">replicate_input</code><span class="sig-paren">(</span><em>input</em>, <em>ndtset</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.replicate_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.replicate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a multidataset with ndtset from the <a class="reference internal" href="#abipy.abio.inputs.AbinitInput" title="abipy.abio.inputs.AbinitInput"><code class="xref py py-class docutils literal"><span class="pre">AbinitInput</span></code></a> input.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.split_datasets">
<code class="descname">split_datasets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.split_datasets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.split_datasets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.MultiDataset.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filepath='run.abi'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#MultiDataset.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.MultiDataset.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <cite>ndset</cite> input files to disk. The name of the file
is constructed from the dataset index e.g. run0.abi</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="abipy.abio.inputs.OpticError">
<em class="property">exception </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">OpticError</code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Error class raised by OpticInput.</p>
</dd></dl>

<dl class="class">
<dt id="abipy.abio.inputs.OpticInput">
<em class="property">class </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">OpticInput</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.AbstractInput" title="abipy.abio.inputs.AbstractInput"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.inputs.AbstractInput</span></code></a>, <code class="xref py py-class docutils literal"><span class="pre">monty.json.MSONable</span></code></p>
<p>Input file for optic.</p>
<p class="rubric">Example</p>
<dl class="docutils">
<dt>&amp;FILES</dt>
<dd>ddkfile_1 = &#8216;abo_1WF7&#8217;,
ddkfile_2 = &#8216;abo_1WF8&#8217;,
ddkfile_3 = &#8216;abo_1WF9&#8217;,
wfkfile = &#8216;abo_WFK&#8217;</dd>
</dl>
<p>/
&amp;PARAMETERS</p>
<blockquote>
<div>broadening = 0.002,
domega = 0.0003,
maxomega = 0.3,
scissor = 0.000,
tolerance = 0.002</div></blockquote>
<p>/
&amp;COMPUTATIONS</p>
<blockquote>
<div>num_lin_comp = 1,
lin_comp = 11,
num_nonlin_comp = 2,
nonlin_comp = 123,222,
num_linel_comp = 0,
num_nonlin2_comp = 0,</div></blockquote>
<p>/</p>
<dl class="attribute">
<dt id="abipy.abio.inputs.OpticInput.Error">
<code class="descname">Error</code><a class="headerlink" href="#abipy.abio.inputs.OpticInput.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.abio.inputs.OpticError" title="abipy.abio.inputs.OpticError"><code class="xref py py-class docutils literal"><span class="pre">OpticError</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.OpticInput.abivalidate">
<code class="descname">abivalidate</code><span class="sig-paren">(</span><em>workdir=None</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.abivalidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.abivalidate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.OpticInput.as_dict">
<code class="descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.inputs.OpticInput.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON interface used in pymatgen for easier serialization.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.OpticInput.get_default">
<code class="descname">get_default</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.get_default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.get_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default value of variable <cite>key</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.inputs.OpticInput.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticInput.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticInput.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation.</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.inputs.OpticInput.vars">
<code class="descname">vars</code><a class="headerlink" href="#abipy.abio.inputs.OpticInput.vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.inputs.OpticVar">
<em class="property">class </em><code class="descclassname">abipy.abio.inputs.</code><code class="descname">OpticVar</code><a class="reference internal" href="../_modules/abipy/abio/inputs.html#OpticVar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.inputs.OpticVar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.inputs.OpticVar" title="abipy.abio.inputs.OpticVar"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.inputs.OpticVar</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.outputs">
<span id="outputs-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">outputs</span></code> Module<a class="headerlink" href="#module-abipy.abio.outputs" title="Permalink to this headline">¶</a></h2>
<p>Objects used to extract and plot results from output files in text format.</p>
<dl class="class">
<dt id="abipy.abio.outputs.AbinitLogFile">
<em class="property">class </em><code class="descclassname">abipy.abio.outputs.</code><code class="descname">AbinitLogFile</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitLogFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitLogFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.outputs.AbinitTextFile" title="abipy.abio.outputs.AbinitTextFile"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.outputs.AbinitTextFile</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>Class representing the Abinit log file.</p>
<dl class="method">
<dt id="abipy.abio.outputs.AbinitLogFile.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitLogFile.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitLogFile.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an ipython notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.outputs.AbinitOutputFile">
<em class="property">class </em><code class="descclassname">abipy.abio.outputs.</code><code class="descname">AbinitOutputFile</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.outputs.AbinitTextFile" title="abipy.abio.outputs.AbinitTextFile"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.outputs.AbinitTextFile</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>Class representing the main output file.</p>
<dl class="method">
<dt id="abipy.abio.outputs.AbinitOutputFile.compare_d2de_scf_cycles">
<code class="descname">compare_d2de_scf_cycles</code><span class="sig-paren">(</span><em>others</em>, <em>show=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.compare_d2de_scf_cycles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.compare_d2de_scf_cycles" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce and returns a <cite>matplotlib</cite> figure comparing the DFPT self-consistent
cycle in self with the ones in others.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>others</strong> &#8211; list of <cite>AbinitOutputFile</cite> objects or strings with paths to output files.</li>
<li><strong>show</strong> &#8211; True to diplay plots.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.outputs.AbinitOutputFile.compare_gs_scf_cycles">
<code class="descname">compare_gs_scf_cycles</code><span class="sig-paren">(</span><em>others</em>, <em>show=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.compare_gs_scf_cycles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.compare_gs_scf_cycles" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce and returns a list of <cite>matplotlib</cite> figure comparing the GS self-consistent
cycle in self with the ones in others.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>others</strong> &#8211; list of <cite>AbinitOutputFile</cite> objects or strings with paths to output files.</li>
<li><strong>show</strong> &#8211; True to diplay plots.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.outputs.AbinitOutputFile.next_d2de_scf_cycle">
<code class="descname">next_d2de_scf_cycle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.next_d2de_scf_cycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.next_d2de_scf_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="xref py py-class docutils literal"><span class="pre">GroundStateScfCycle</span></code> with information on the GS iterations. None if not found.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.outputs.AbinitOutputFile.next_gs_scf_cycle">
<code class="descname">next_gs_scf_cycle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.next_gs_scf_cycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.next_gs_scf_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next <code class="xref py py-class docutils literal"><span class="pre">GroundStateScfCycle</span></code> in the file. None if not found.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.outputs.AbinitOutputFile.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitOutputFile.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitOutputFile.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an ipython notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.outputs.AbinitTextFile">
<em class="property">class </em><code class="descclassname">abipy.abio.outputs.</code><code class="descname">AbinitTextFile</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitTextFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitTextFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.TextFile</span></code></p>
<p>Class for the ABINIT main output file and the log file.</p>
<dl class="attribute">
<dt id="abipy.abio.outputs.AbinitTextFile.events">
<code class="descname">events</code><a class="headerlink" href="#abipy.abio.outputs.AbinitTextFile.events" title="Permalink to this definition">¶</a></dt>
<dd><p>List of ABINIT events reported in the file.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.outputs.AbinitTextFile.get_timer">
<code class="descname">get_timer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#AbinitTextFile.get_timer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.AbinitTextFile.get_timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Timer data.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.outputs.OutNcFile">
<em class="property">class </em><code class="descclassname">abipy.abio.outputs.</code><code class="descname">OutNcFile</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#OutNcFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.OutNcFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core_api.html#abipy.core.mixins.AbinitNcFile" title="abipy.core.mixins.AbinitNcFile"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.AbinitNcFile</span></code></a></p>
<p>Class representing the _OUT.nc file containing the dataset results
produced at the end of the run. The netcdf variables can be accessed
via instance attribute e.g. <cite>outfile.ecut</cite>. Provides integration with ipython.</p>
<dl class="method">
<dt id="abipy.abio.outputs.OutNcFile.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#OutNcFile.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.OutNcFile.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.outputs.OutNcFile.get_allvars">
<code class="descname">get_allvars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/outputs.html#OutNcFile.get_allvars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.outputs.OutNcFile.get_allvars" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all netcdf variables present in the file.
Return dictionary varname &#8211;&gt; value</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-abipy.abio.robots">
<span id="robots-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">robots</span></code> Module<a class="headerlink" href="#module-abipy.abio.robots" title="Permalink to this headline">¶</a></h2>
<p>Robots.</p>
<dl class="class">
<dt id="abipy.abio.robots.DdbRobot">
<em class="property">class </em><code class="descclassname">abipy.abio.robots.</code><code class="descname">DdbRobot</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#DdbRobot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.DdbRobot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.robots.Robot" title="abipy.abio.robots.Robot"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.robots.Robot</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>This robot analyzes the results contained in multiple DDB files.</p>
<dl class="attribute">
<dt id="abipy.abio.robots.DdbRobot.EXT">
<code class="descname">EXT</code><em class="property"> = 'DDB'</em><a class="headerlink" href="#abipy.abio.robots.DdbRobot.EXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.DdbRobot.class_handles_filename">
<em class="property">classmethod </em><code class="descname">class_handles_filename</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#DdbRobot.class_handles_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.DdbRobot.class_handles_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Exclude DDB.nc files.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.DdbRobot.get_dataframe_at_qpoint">
<code class="descname">get_dataframe_at_qpoint</code><span class="sig-paren">(</span><em>qpoint=None</em>, <em>asr=2</em>, <em>chneut=1</em>, <em>dipdip=1</em>, <em>with_geo=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#DdbRobot.get_dataframe_at_qpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.DdbRobot.get_dataframe_at_qpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Call anaddb to compute the phonon frequencies at a single q-point using the DDB files treated
by the robot and the given anaddb input arguments. Build and return a pandas dataframe with results</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>qpoint</strong> &#8211; Reduced coordinates of the qpoint where phonon modes are computed</li>
<li><strong>chneut</strong><strong>, </strong><strong>dipdp</strong> (<em>asr</em><em>,</em><em></em>) &#8211; Anaddb input variable. See official documentation.</li>
<li><strong>with_geo</strong> &#8211; True if structure info should be added to the dataframe</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pandas DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.DdbRobot.get_phbands_plotter">
<code class="descname">get_phbands_plotter</code><span class="sig-paren">(</span><em>with_phdos=True</em>, <em>cls=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#DdbRobot.get_phbands_plotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.DdbRobot.get_phbands_plotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke anaddb to compute phonon bands and DOS using the arguments passed via <a href="#id4"><span class="problematic" id="id5">**</span></a>kwargs.
Collect results and return <cite>PhononBandsPlotter</cite> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>with_phdos</strong> &#8211; True to compute phonon DOS</li>
<li><strong>cls</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.DdbRobot.get_phdos_plotter">
<code class="descname">get_phdos_plotter</code><span class="sig-paren">(</span><em>cls=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#DdbRobot.get_phdos_plotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.DdbRobot.get_phdos_plotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke anaddb to compute phonon bands and DOS using the arguments passed via <a href="#id6"><span class="problematic" id="id7">**</span></a>kwargs.
Collect results and return <cite>PhononDosPlotter</cite> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.DdbRobot.plot_conv_phfreqs_qpoint">
<code class="descname">plot_conv_phfreqs_qpoint</code><span class="sig-paren">(</span><em>x_vars</em>, <em>qpoint=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#DdbRobot.plot_conv_phfreqs_qpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.DdbRobot.plot_conv_phfreqs_qpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the convergence of the phonon frequencies.
kwargs are passed to <code class="xref py py-class docutils literal"><span class="pre">seaborn.PairGrid</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.DdbRobot.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#DdbRobot.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.DdbRobot.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a jupyter notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.robots.GsrRobot">
<em class="property">class </em><code class="descclassname">abipy.abio.robots.</code><code class="descname">GsrRobot</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#GsrRobot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.GsrRobot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.robots.Robot" title="abipy.abio.robots.Robot"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.robots.Robot</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>This robot analyzes the results contained in multiple GSR files.</p>
<dl class="attribute">
<dt id="abipy.abio.robots.GsrRobot.EXT">
<code class="descname">EXT</code><em class="property"> = 'GSR'</em><a class="headerlink" href="#abipy.abio.robots.GsrRobot.EXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.GsrRobot.eos_fit">
<code class="descname">eos_fit</code><span class="sig-paren">(</span><em>eos_name='murnaghan'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#GsrRobot.eos_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.GsrRobot.eos_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit E(V)
For the list of available models, see EOS.MODELS</p>
<p>TODO: which default? all should return a list of fits</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.GsrRobot.get_dataframe">
<code class="descname">get_dataframe</code><span class="sig-paren">(</span><em>with_geo=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#GsrRobot.get_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.GsrRobot.get_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a pandas DataFrame with the most important GS results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>with_geo</strong> &#8211; True if structure info should be added to the dataframe</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>kwargs:</dt>
<dd><dl class="first last docutils">
<dt>attrs:</dt>
<dd>List of additional attributes of the <code class="xref py py-class docutils literal"><span class="pre">GsrFile</span></code> to add to
the pandas <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code></dd>
<dt>funcs:</dt>
<dd>Function or list of functions to execute to add more data to the DataFrame.
Each function receives a <code class="xref py py-class docutils literal"><span class="pre">GsrFile</span></code> object and returns a tuple (key, value)
where key is a string with the name of column and value is the value to be inserted.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.GsrRobot.get_ebands_plotter">
<code class="descname">get_ebands_plotter</code><span class="sig-paren">(</span><em>cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#GsrRobot.get_ebands_plotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.GsrRobot.get_ebands_plotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Build and return an instance of <cite>ElectronBandsPlotter</cite> or a subclass is cls is not None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> &#8211; subclass of <cite>ElectronBandsPlotter</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.GsrRobot.get_edos_plotter">
<code class="descname">get_edos_plotter</code><span class="sig-paren">(</span><em>cls=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#GsrRobot.get_edos_plotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.GsrRobot.get_edos_plotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Build and return an instance of <cite>ElectronDosPlotter</cite> or a subclass is cls is not None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cls</strong> &#8211; subclass of <cite>ElectronDosPlotter</cite></li>
<li><strong>kwargs</strong> &#8211; Arguments passed to ebands.get_edos</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.GsrRobot.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#GsrRobot.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.GsrRobot.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a jupyter notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.robots.MdfRobot">
<em class="property">class </em><code class="descclassname">abipy.abio.robots.</code><code class="descname">MdfRobot</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#MdfRobot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.MdfRobot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.robots.Robot" title="abipy.abio.robots.Robot"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.robots.Robot</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>This robot analyzes the results contained in multiple MDF files.</p>
<dl class="attribute">
<dt id="abipy.abio.robots.MdfRobot.EXT">
<code class="descname">EXT</code><em class="property"> = 'MDF'</em><a class="headerlink" href="#abipy.abio.robots.MdfRobot.EXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.MdfRobot.get_dataframe">
<code class="descname">get_dataframe</code><span class="sig-paren">(</span><em>with_geo=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#MdfRobot.get_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.MdfRobot.get_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>funcs</strong> &#8211; </li>
<li><strong>with_geo</strong> &#8211; True if structure info should be added to the dataframe</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pandas DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.MdfRobot.get_multimdf_plotter">
<code class="descname">get_multimdf_plotter</code><span class="sig-paren">(</span><em>cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#MdfRobot.get_multimdf_plotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.MdfRobot.get_multimdf_plotter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.MdfRobot.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#MdfRobot.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.MdfRobot.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a jupyter notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.robots.Robot">
<em class="property">class </em><code class="descclassname">abipy.abio.robots.</code><code class="descname">Robot</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>The main function of a <cite>Robot</cite> is facilitating the extraction of the output data produced by
multiple tasks in a <code class="xref py py-class docutils literal"><span class="pre">Flow</span></code>. This is the base class from which all Robot subclasses should derive.
A Robot supports the <cite>with</cite> context manager:</p>
<p>Usage example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Robot</span><span class="p">([(</span><span class="s2">&quot;label1&quot;</span><span class="p">,</span> <span class="s2">&quot;file1&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">label2</span><span class="p">,</span> <span class="s2">&quot;file2&quot;</span><span class="p">)])</span> <span class="k">as</span> <span class="n">robot</span><span class="p">:</span>
    <span class="c1"># Do something with robot. files are automatically closed when we exit.</span>
</pre></div>
</div>
<dl class="method">
<dt id="abipy.abio.robots.Robot.add_extfile_of_node">
<code class="descname">add_extfile_of_node</code><span class="sig-paren">(</span><em>node</em>, <em>nids=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.add_extfile_of_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.add_extfile_of_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the file produced by this node to the robot.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.Robot.add_file">
<code class="descname">add_file</code><span class="sig-paren">(</span><em>label</em>, <em>ncfile</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.add_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.add_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a file to the robot with the given label.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label</strong> &#8211; String used to identify the file (must be unique, ax exceptions is
raised if label is already present.</li>
<li><strong>ncfile</strong> &#8211; Specify the file to be added. Accepts strings (filepath) or abipy file-like objects.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.Robot.class_for_ext">
<em class="property">classmethod </em><code class="descname">class_for_ext</code><span class="sig-paren">(</span><em>ext</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.class_for_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.class_for_ext" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Robot subclass associated to the given extension.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.Robot.class_handles_filename">
<em class="property">classmethod </em><code class="descname">class_handles_filename</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.class_handles_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.class_handles_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>True if robot class handles filename.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.Robot.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all files that have been opened by the Robot</p>
</dd></dl>

<dl class="attribute">
<dt id="abipy.abio.robots.Robot.exceptions">
<code class="descname">exceptions</code><a class="headerlink" href="#abipy.abio.robots.Robot.exceptions" title="Permalink to this definition">¶</a></dt>
<dd><p>List of exceptions.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.Robot.for_ext">
<em class="property">classmethod </em><code class="descname">for_ext</code><span class="sig-paren">(</span><em>ext</em><span class="sig-paren">)</span><a class="headerlink" href="#abipy.abio.robots.Robot.for_ext" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Robot subclass associated to the given extension.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.Robot.from_dir">
<em class="property">classmethod </em><code class="descname">from_dir</code><span class="sig-paren">(</span><em>top</em>, <em>walk=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>This class method builds a robot by scanning all files located within directory <cite>top</cite>.
This method should be invoked with a concrete robot class, for example:</p>
<blockquote>
<div>robot = GsrRobot.from_dir(&#8221;.&#8221;)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>top</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Root directory</li>
<li><strong>walk</strong> &#8211; if True, directories inside <cite>top</cite> are included as well.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.Robot.from_files">
<em class="property">classmethod </em><code class="descname">from_files</code><span class="sig-paren">(</span><em>filenames</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a Robot from a list of files.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.Robot.from_flow">
<em class="property">classmethod </em><code class="descname">from_flow</code><span class="sig-paren">(</span><em>flow</em>, <em>outdirs='all'</em>, <em>nids=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.from_flow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.from_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a robot from a Flow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>flow</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">Flow</span></code> object</li>
<li><strong>outdirs</strong> &#8211; String used to select/ignore the files in the output directory of flow, works and tasks
outdirs=&#8221;work&#8221; selects only the outdir of the Works,
outdirs=&#8221;flow+task&#8221; selects the outdir of the Flow and the outdirs of the tasks
outdirs=&#8221;-work&#8221; excludes the outdir of the Works.
Cannot use <cite>+</cite> and <cite>-</cite> flags in the same string.
Default: <cite>all</cite> that is equivalent to &#8220;flow+work+task&#8221;</li>
<li><strong>nids</strong> &#8211; List of node identifiers used to select particular nodes. Not used if None</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>Robot</cite> subclass.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.Robot.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.abio.robots.Robot.ncfiles">
<code class="descname">ncfiles</code><a class="headerlink" href="#abipy.abio.robots.Robot.ncfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>List of netcdf files.</p>
</dd></dl>

<dl class="classmethod">
<dt id="abipy.abio.robots.Robot.open">
<em class="property">classmethod </em><code class="descname">open</code><span class="sig-paren">(</span><em>obj</em>, <em>nids=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Flexible constructor. obj can be a <code class="xref py py-class docutils literal"><span class="pre">Flow</span></code> or a string with the directory containing the Flow.
nids is an optional list of <code class="xref py py-class docutils literal"><span class="pre">Node</span></code> identifiers used to filter the set of <code class="xref py py-class docutils literal"><span class="pre">Task</span></code> in the Flow.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.Robot.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove file with the given <cite>label</cite> and close it.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.Robot.scan_dir">
<code class="descname">scan_dir</code><span class="sig-paren">(</span><em>top</em>, <em>walk=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.scan_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.scan_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan directory tree starting from top. Add files to the robot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>top</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Root directory</li>
<li><strong>walk</strong> &#8211; if True, directories inside <cite>top</cite> are included as well.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Number of files found.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.Robot.show_files">
<code class="descname">show_files</code><span class="sig-paren">(</span><em>stream=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.show_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.show_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.Robot.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><em>verbose=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#Robot.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.Robot.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="abipy.abio.robots.SigresRobot">
<em class="property">class </em><code class="descclassname">abipy.abio.robots.</code><code class="descname">SigresRobot</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#SigresRobot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.SigresRobot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#abipy.abio.robots.Robot" title="abipy.abio.robots.Robot"><code class="xref py py-class docutils literal"><span class="pre">abipy.abio.robots.Robot</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<p>This robot analyzes the results contained in multiple SIGRES files.</p>
<dl class="attribute">
<dt id="abipy.abio.robots.SigresRobot.EXT">
<code class="descname">EXT</code><em class="property"> = 'SIGRES'</em><a class="headerlink" href="#abipy.abio.robots.SigresRobot.EXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.SigresRobot.get_qpgaps_dataframe">
<code class="descname">get_qpgaps_dataframe</code><span class="sig-paren">(</span><em>spin=None</em>, <em>kpoint=None</em>, <em>with_geo=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#SigresRobot.get_qpgaps_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.SigresRobot.get_qpgaps_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a pandas DataFrame with the most important results for the given (spin, kpoint).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>spin</strong> &#8211; Spin index.</li>
<li><strong>kpoint</strong> &#8211; </li>
<li><strong>with_geo</strong> &#8211; True if structure info should be added to the dataframe</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.SigresRobot.merge_dataframes_sk">
<code class="descname">merge_dataframes_sk</code><span class="sig-paren">(</span><em>spin</em>, <em>kpoint</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#SigresRobot.merge_dataframes_sk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.SigresRobot.merge_dataframes_sk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.SigresRobot.plot_conv_qpgap">
<code class="descname">plot_conv_qpgap</code><span class="sig-paren">(</span><em>x_vars</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#SigresRobot.plot_conv_qpgap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.SigresRobot.plot_conv_qpgap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the convergence of the Quasi-particle gap.
kwargs are passed to <code class="xref py py-class docutils literal"><span class="pre">seaborn.PairGrid</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.abio.robots.SigresRobot.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#SigresRobot.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.SigresRobot.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a jupyter notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="abipy.abio.robots.abirobot">
<code class="descclassname">abipy.abio.robots.</code><code class="descname">abirobot</code><span class="sig-paren">(</span><em>obj</em>, <em>ext</em>, <em>nids=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/robots.html#abirobot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.robots.abirobot" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory function that builds and return the <a class="reference internal" href="#abipy.abio.robots.Robot" title="abipy.abio.robots.Robot"><code class="xref py py-class docutils literal"><span class="pre">Robot</span></code></a> subclass from the file
extension <cite>ext</cite>. <cite>obj</cite> can be a directory path, or a <code class="xref py py-class docutils literal"><span class="pre">Flow</span></code> instance.
<cite>nids</cite> is an optional list of node identifiers used to filter the tasks in the flow.</p>
<p>Usage example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">abirobot</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="s2">&quot;GSR&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">robot</span><span class="p">:</span>
    <span class="c1"># do something with robot and close the GSR files when done.</span>

<span class="k">with</span> <span class="n">abirobot</span><span class="p">(</span><span class="s2">&quot;dirpath&quot;</span><span class="p">,</span> <span class="s2">&quot;SIGRES&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">robot</span><span class="p">:</span>
    <span class="c1"># do something with robot and close the SIGRES files when done.</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-abipy.abio.timer">
<span id="timer-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">timer</span></code> Module<a class="headerlink" href="#module-abipy.abio.timer" title="Permalink to this headline">¶</a></h2>
<p>This module provides objects for extracting timing data from the ABINIT output files
It also provides tools to analye and to visualize the parallel efficiency.</p>
<dl class="class">
<dt id="abipy.abio.timer.AbinitTimerParser">
<em class="property">class </em><code class="descclassname">abipy.abio.timer.</code><code class="descname">AbinitTimerParser</code><a class="reference internal" href="../_modules/abipy/abio/timer.html#AbinitTimerParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.timer.AbinitTimerParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://pymatgen.org/pymatgen.io.abinit.abitimer.html#pymatgen.io.abinit.abitimer.AbinitTimerParser" title="(in pymatgen v4.7.3)"><code class="xref py py-class docutils literal"><span class="pre">pymatgen.io.abinit.abitimer.AbinitTimerParser</span></code></a>, <a class="reference internal" href="core_api.html#abipy.core.mixins.NotebookWriter" title="abipy.core.mixins.NotebookWriter"><code class="xref py py-class docutils literal"><span class="pre">abipy.core.mixins.NotebookWriter</span></code></a></p>
<dl class="method">
<dt id="abipy.abio.timer.AbinitTimerParser.write_notebook">
<code class="descname">write_notebook</code><span class="sig-paren">(</span><em>nbpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/abio/timer.html#AbinitTimerParser.write_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.abio.timer.AbinitTimerParser.write_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an ipython notebook to nbpath. If nbpath is None, a temporay file in the current
working directory is created. Return path to the notebook.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2017, The AbiPy group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/api/abio_api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/abinit/abipy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>