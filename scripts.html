<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Command line tools &#8212; abipy 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="AbiPy gallery" href="gallery/index.html" />
    <link rel="prev" title="What’s new in abipy" href="whats_new.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          abipy</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="features.html">Feature Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Getting AbiPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats_new.html">What’s new in abipy</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery/index.html">AbiPy gallery</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="taskmanager.html">TaskManager</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/index.html">The AbiPy Developers’ Guide</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Command line tools</a><ul>
<li><a class="reference internal" href="#abiopen-py"><code class="docutils literal"><span class="pre">abiopen.py</span></code></a></li>
<li><a class="reference internal" href="#abistruct-py"><code class="docutils literal"><span class="pre">abistruct.py</span></code></a></li>
<li><a class="reference internal" href="#abicomp-py"><code class="docutils literal"><span class="pre">abicomp.py</span></code></a></li>
<li><a class="reference internal" href="#abidoc-py"><code class="docutils literal"><span class="pre">abidoc.py</span></code></a></li>
<li><a class="reference internal" href="#abicheck-py"><code class="docutils literal"><span class="pre">abicheck.py</span></code></a></li>
<li><a class="reference internal" href="#abirun-py"><code class="docutils literal"><span class="pre">abirun.py</span></code></a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="whats_new.html" title="Previous Chapter: What’s new in abipy"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; What’s new in abipy</span>
    </a>
  </li>
  <li>
    <a href="gallery/index.html" title="Next Chapter: AbiPy gallery"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">AbiPy gallery &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/scripts.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="command-line-tools">
<h1>Command line tools<a class="headerlink" href="#command-line-tools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="abiopen-py">
<span id="abiopen"></span><h2><code class="docutils literal"><span class="pre">abiopen.py</span></code><a class="headerlink" href="#abiopen-py" title="Permalink to this headline">¶</a></h2>
<p>AbiPy provides python objects associated to several Abinit output files.
These objects implement methods to analyze and plot the results.
The examples in our <span class="xref std std-doc">gallery</span> use this API to plot data with <code class="docutils literal"><span class="pre">matplotlib</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">abiopen.py</span></code> script provides a handy interface to the AbiPy objects.
It can be used to open Abinit files directly in the <code class="docutils literal"><span class="pre">ipython`</span></code> shell or in a <code class="docutils literal"><span class="pre">jupyter</span></code> notebook and interact with
the associated object (called <code class="docutils literal"><span class="pre">abifile</span></code> in the <code class="docutils literal"><span class="pre">ipython</span></code> terminal).
The syntax of the script is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abiopen.py FILE [options]
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">FILE</span></code> is one of the files supported by AbiPy (usually in <code class="docutils literal"><span class="pre">netcdf</span></code> format but other
files are supported as well).
By default <code class="docutils literal"><span class="pre">abiopen</span></code> starts the <code class="docutils literal"><span class="pre">ipython</span></code> terminal.
Alternatively, it is possible to generate automatically a <code class="docutils literal"><span class="pre">jupyter</span></code> notebook with the <code class="docutils literal"><span class="pre">-nb</span></code> option e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abiopen.py out_FATBANDS.nc -nb
</pre></div>
</div>
<p>which will produce a notebook to visualize the electronic fatbands produced with <code class="docutils literal"><span class="pre">prtdos</span> <span class="pre">3</span></code> inside a web browser.</p>
<p>Use the <code class="docutils literal"><span class="pre">-p</span></code> option if you just want to get information on the file without opening it, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abiopen.py out_GSR.nc -p
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">abiopen.py</span></code> uses the file extension to decide what to do with the file and the type
of python object that should be instantiated.
The list of supported file extensions is obtained with:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abiopen.py --help
usage: abiopen.py [-h] [--loglevel LOGLEVEL] [-V] [-v] [-nb] [--foreground]
                  [-p]
                  filepath

positional arguments:
  filepath             File to open. See table below for the list of supported
                       extensions.

optional arguments:
  -h, --help           show this help message and exit
  --loglevel LOGLEVEL  Set the loglevel. Possible values: CRITICAL, ERROR
                       (default), WARNING, INFO, DEBUG
  -V, --version        show program&#39;s version number and exit
  -v, --verbose        verbose, can be supplied multiple times to increase
                       verbosity
  -nb, --notebook      Open file in jupyter notebook
  --foreground         Run jupyter notebook in the foreground.
  -p, --print          Print python object and return.

Usage example:

    abiopen.py FILE        =&gt; Open file in ipython shell.
    abiopen.py FILE -nb    =&gt; Generate jupyter notebook.
    abiopen.py FILE -p     =&gt; Print info on object to terminal.

`FILE` is any file supported by abipy/pymatgen e.g Netcdf files, Abinit input, POSCAR, xsf ...
Use `-v` to increase verbosity level (can be supplied multiple times e.g -vv).

File extensions supported:
Extension       Class
--------------  -----------------------------------------------------
.abi            &lt;class &#39;abipy.abio.abivars.AbinitInputFile&#39;&gt;
.in             &lt;class &#39;abipy.abio.abivars.AbinitInputFile&#39;&gt;
.abo            &lt;class &#39;abipy.abio.outputs.AbinitOutputFile&#39;&gt;
.out            &lt;class &#39;abipy.abio.outputs.AbinitOutputFile&#39;&gt;
.log            &lt;class &#39;abipy.abio.outputs.AbinitLogFile&#39;&gt;
.cif            &lt;class &#39;abipy.core.structure.Structure&#39;&gt;
POSCAR          &lt;class &#39;abipy.core.structure.Structure&#39;&gt;
.cssr           &lt;class &#39;abipy.core.structure.Structure&#39;&gt;
.cube           &lt;class &#39;abipy.core.mixins.CubeFile&#39;&gt;
anaddb.nc       &lt;class &#39;abipy.dfpt.anaddbnc.AnaddbNcFile&#39;&gt;
DEN             &lt;class &#39;abipy.electrons.denpot.DensityFortranFile&#39;&gt;
.psp8           &lt;class &#39;pymatgen.io.abinit.pseudos.Pseudo&#39;&gt;
.pspnc          &lt;class &#39;pymatgen.io.abinit.pseudos.Pseudo&#39;&gt;
.fhi            &lt;class &#39;pymatgen.io.abinit.pseudos.Pseudo&#39;&gt;
JTH.xml         &lt;class &#39;pymatgen.io.abinit.pseudos.Pseudo&#39;&gt;
GSR.nc          &lt;class &#39;abipy.electrons.gsr.GsrFile&#39;&gt;
DEN.nc          &lt;class &#39;abipy.electrons.denpot.DensityNcFile&#39;&gt;
OUT.nc          &lt;class &#39;abipy.abio.outputs.OutNcFile&#39;&gt;
DDK.nc          &lt;class &#39;abipy.electrons.ddk.DdkFile&#39;&gt;
VHA.nc          &lt;class &#39;abipy.electrons.denpot.VhartreeNcFile&#39;&gt;
VXC.nc          &lt;class &#39;abipy.electrons.denpot.VxcNcFile&#39;&gt;
VHXC.nc         &lt;class &#39;abipy.electrons.denpot.VhxcNcFile&#39;&gt;
POT.nc          &lt;class &#39;abipy.electrons.denpot.PotNcFile&#39;&gt;
WFK.nc          &lt;class &#39;abipy.waves.wfkfile.WfkFile&#39;&gt;
HIST.nc         &lt;class &#39;abipy.dynamics.hist.HistFile&#39;&gt;
PSPS.nc         &lt;class &#39;abipy.electrons.psps.PspsFile&#39;&gt;
DDB             &lt;class &#39;abipy.dfpt.ddb.DdbFile&#39;&gt;
PHBST.nc        &lt;class &#39;abipy.dfpt.phonons.PhbstFile&#39;&gt;
PHDOS.nc        &lt;class &#39;abipy.dfpt.phonons.PhdosFile&#39;&gt;
SCR.nc          &lt;class &#39;abipy.electrons.scr.ScrFile&#39;&gt;
SIGRES.nc       &lt;class &#39;abipy.electrons.gw.SigresFile&#39;&gt;
GRUNS.nc        &lt;class &#39;abipy.dfpt.gruneisen.GrunsNcFile&#39;&gt;
MDF.nc          &lt;class &#39;abipy.electrons.bse.MdfFile&#39;&gt;
FATBANDS.nc     &lt;class &#39;abipy.electrons.fatbands.FatBandsFile&#39;&gt;
FOLD2BLOCH.nc   &lt;class &#39;abipy.electrons.fold2bloch.Fold2BlochNcfile&#39;&gt;
CUT3DDENPOT.nc  &lt;class &#39;abipy.electrons.denpot.Cut3dDenPotNcFile&#39;&gt;
OPTIC.nc        &lt;class &#39;abipy.electrons.optic.OpticNcFile&#39;&gt;
EPH.nc          &lt;class &#39;abipy.eph.eph.EphFile&#39;&gt;
SIGEPH.nc       &lt;class &#39;abipy.eph.sigeph.SigEPhFile&#39;&gt;
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">AbiPy uses the <code class="docutils literal"><span class="pre">.abi</span></code> extension for Abinit input files, <code class="docutils literal"><span class="pre">.abo</span></code> for output files and <code class="docutils literal"><span class="pre">.log</span></code> for log files.
Try to follow this convention in your calculations to facilitate the integration with AbiPy.</p>
</div>
</div>
<div class="section" id="abistruct-py">
<span id="abistruct"></span><h2><code class="docutils literal"><span class="pre">abistruct.py</span></code><a class="headerlink" href="#abistruct-py" title="Permalink to this headline">¶</a></h2>
<p>This script is useful if you want to analyze/export/visualize the crystalline structure
stored in one the <code class="docutils literal"><span class="pre">netcdf</span></code> files produced by ABINIT (other formats are supported e.g.
<code class="docutils literal"><span class="pre">cif</span></code> files or <code class="docutils literal"><span class="pre">POSCAR</span></code>, see also docs below).
Also in this case, it is possible to analyze the structure object either inside <code class="docutils literal"><span class="pre">ipython</span></code> or
<code class="docutils literal"><span class="pre">jupyter</span></code> notebooks.</p>
<p>The syntax of the command is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abistruct.py command FILE [options]
</pre></div>
</div>
<p>The documentation for a given <code class="docutils literal"><span class="pre">command</span></code> is accessible with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abistruct.py command --help
</pre></div>
</div>
<p>Use e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abistruct.py spglib --help
</pre></div>
</div>
<p>to get the options supported by the <code class="docutils literal"><span class="pre">spglib</span></code> command.</p>
<p>The <code class="docutils literal"><span class="pre">convert</span></code> command is quite useful if you need to convert the crystalline structure
from one format to another one.
For example, one can read a <code class="docutils literal"><span class="pre">cif</span></code> file and print the corresponding Abinit variables with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abistruct.py convert CIF
</pre></div>
</div>
<p>To get the list of options, use</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abistruct.py --help
usage: abistruct.py [-h] [-V]
                    {spglib,abispg,convert,supercell,abisanitize,irefine,conventional,neighbors,interpolate,xrd,oxistate,ipython,notebook,kpath,bz,ngkpt,ktables,abikmesh,lgk,kstar,visualize,pmgdata,mp_id,mp_match,mp_search,mp_pd,cod_search,cod_id,animate}
                    ...

optional arguments:
  -h, --help            show this help message and exit
  -V, --version         show program&#39;s version number and exit

subcommands:
  Valid subcommands, use command --help for help

  {spglib,abispg,convert,supercell,abisanitize,irefine,conventional,neighbors,interpolate,xrd,oxistate,ipython,notebook,kpath,bz,ngkpt,ktables,abikmesh,lgk,kstar,visualize,pmgdata,mp_id,mp_match,mp_search,mp_pd,cod_search,cod_id,animate}
                        sub-command help
    spglib              Analyze structure with spglib.
    abispg              Extract/Compute Abinit space group from file with
                        structure.
    convert             Convert structure to the specified format.
    supercell           Generate supercell.
    abisanitize         Sanitize structure with abi_sanitize, compare
                        structures and save result to file.
    irefine             Refine structure with abi_sanitize iteratively, stop
                        if target space group is obtained.
    conventional        Gives a structure with a conventional cell according
                        to certain standards. The standards are defined in
                        doi:10.1016/j.commatsci.2010.05.010
    neighbors           Get neighbors for each atom in the unit cell, out to a
                        distance radius.
    interpolate         Interpolate between two structures. Useful for the
                        construction of NEB inputs.
    xrd                 X-ray diffraction plot.
    oxistate            Estimate oxidation states with pymatgen bond valence
                        analysis.
    ipython             Open IPython shell for advanced operations on
                        structure object.
    notebook            Read structure from file and generate jupyter
                        notebook.
    kpath               Read structure from file, generate k-path for band-
                        structure calculations.
    bz                  Read structure from file, plot Brillouin zone with
                        matplotlib.
    ngkpt               Return the Abinit k-point sampling variables from the
                        number of divisions used to sample the smallest
                        lattice vector of the reciprocal lattice.
    ktables             Read structure from filepath, call spglib to sample
                        the BZ,print k-points in the IBZ with weights.
    abikmesh            Read structure from file, call Abinit to sample the BZ
                        with ngkpt, shiftk, and kptopt.Print k-points in the
                        IBZ with weights.
    lgk                 Read structure from file, find little group of
                        k-point, print Bilbao character table.
    kstar               Read structure from file, print star of k-point.
    visualize           Visualize the structure with the specified visualizer.
                        Requires external app or optional python modules.
    pmgdata             Get structure from the pymatgen database. Print JSON
                        dict. Requires internet connection and MAPI_KEY.
    mp_id               Get structure from the pymatgen database. Export to
                        format. Requires internet connection and MAPI_KEY.
    mp_match            Get structure from the pymatgen database. Requires
                        internet connection and MAPI_KEY.
    mp_search           Get structure from the pymatgen database. Requires
                        internet connection and MAPI_KEY
    mp_pd               Generate phase diagram with entries from the Materials
                        Project. Requires internet connection and MAPI_KEY
    cod_search          Get structure from COD database. Requires internet
                        connection and mysql
    cod_id              Get structure from COD database. Requires internet
                        connection and mysql
    animate             Read structures from HIST.nc or XDATCAR. Print
                        structures in Xrysden AXSF format to stdout.

Usage example:

###################
# Space group tools
###################

  abistruct.py spglib FILE                 =&gt; Read structure from FILE and analyze it with spglib.
  abistruct.py abispg FILE                 =&gt; Read structure from FILE, and compute ABINIT space group.
  abistruct.py abisanitize FILE            =&gt; Read structure from FILE, call abisanitize, compare structures
                                              and save &quot;abisanitized&quot; structure to file.
  abistruct.py conventional FILE           =&gt; Read structure from FILE, generate conventional structure
                                              following doi:10.1016/j.commatsci.2010.05.010
##################
# Conversion tools
##################

  abistruct.py convert FILE                =&gt; Print the ABINIT variables defining the structure.
  abistruct.py convert FILE -f cif         =&gt; Read structure from FILE and output CIF file
                                              (Use convert --help to get list of formats supported)
  abistruct.py convert out_HIST.nc         =&gt; Read FINAL structure from the HIST file and
                                              print the corresponding ABINIT variables.
  abistruct.py supercell FILE -s 2 2 1     =&gt; Read structure from FILE and build [2, 2, 1] supercell,
                                              print new structure using --format (default abivars).
################
# K-points tools
################

  abistruct.py kpath FILE                  =&gt; Read structure from FILE and print ABINIT variables for k-path.
  abistruct.py bz FILE                     =&gt; Read structure from FILE, plot BZ with matplotlib.
  abistruct.py ngkpt FILE -n 4             =&gt; Compute `ngkpt` and `shiftk` from the number of divisions used to sample
                                              the smallest reciprocal lattice vector.
  abistruct.py abikmesh FILE --ngkpt 2 2 2 =&gt; Read structure from FILE, call Abinit to sample the BZ
                                              with a 2, 2, 2 k-mesh, print points in IBZ with weights.
  abistruct.py ktables FILE -m 2 2 2       =&gt; Read structure from FILE, call spglib to sample the BZ
                                              with a 2, 2, 2 k-mesh, print points in IBZ with weights.
  abistruct.py lgk FILE -k 0.25 0 0        =&gt; Read structure from FILE, find little group of k-point,
                                              print Bilbao character table.
  abistruct.py kstar FILE -k 0.25 0 0      =&gt; Read structure from FILE, print star of k-point.

###############
# Miscelleanous
###############

  abistruct.py neighbors FILE              =&gt; Get neighbors for each atom in the unit cell, out to a distance radius.
  abistruct.py interpolate FILE1 FILE2     =&gt; Interpolate between two structures. Useful for the construction of NEB inputs.
  abistruct.py xrd FILE                    =&gt; X-ray diffraction plot.
  abistruct.py oxistate FILE               =&gt; Estimate oxidation states with pymatgen bond valence analysis.

###############
# Visualization
###############

  abistruct.py visualize FILE vesta        =&gt; Visualize the structure with vesta (default if not given)
                                              Supports also xcrysden, vtk, mayavi. See --help
  abistruct.py ipython FILE                =&gt; Read structure from FILE and open it in the Ipython terminal.
  abistruct.py notebook FILE               =&gt; Read structure from FILE and generate jupyter notebook.

###########
# Databases
###########

  abistruct.py cod_id 1526507              =&gt; Get structure from COD database (http://www.crystallography.net/cod).
  abistruct.py cod_search MgB2             =&gt; Search for structures in the COD database.
  abistruct.py mp_id mp-149                =&gt; Get structure from materials project database and print
                                              JSON representation. Use e.g. `-f abivars` to change format.
  abistruct.py mp_match FILE               =&gt; Read structure from FILE and find matching structures on the
                                              Materials Project site. Use e.g. `-f cif` to change output format.
  abistruct.py mp_search LiF               =&gt; Connect to the materials project database. Get structures corresponding
                                              to a chemical system or formula e.g. `Fe2O3` or `Li-Fe-O`
                                              Print info and Abinit input files. Use e.g. `-f POSCAR` to change output format.
  abistruct.py mp_pd FILE-or-elements      =&gt; Generate phase diagram with entries from the Materials Project.
                                              Accept FILE with structure or list of elements e.g `Li-Fe-O`

`FILE` is any file supported by abipy/pymatgen e.g Netcdf files, Abinit input, POSCAR, xsf ...
Use `abistruct.py --help` for help and `abistruct.py COMMAND --help` to get the documentation for `COMMAND`.
Use `-v` to increase verbosity level (can be supplied multiple times e.g -vv).
</pre></div>
</div>
</div>
<div class="section" id="abicomp-py">
<span id="abicomp"></span><h2><code class="docutils literal"><span class="pre">abicomp.py</span></code><a class="headerlink" href="#abicomp-py" title="Permalink to this headline">¶</a></h2>
<p>This script is used to analyze/compare results stored in multiple <code class="docutils literal"><span class="pre">netcdf</span></code> files.
For example, one can compare the crystalline structure used in different calculations
or compare the electronic bands stored in two or more <code class="docutils literal"><span class="pre">netcdf</span></code> files (e.g. <code class="docutils literal"><span class="pre">GSR.nc</span></code> or <code class="docutils literal"><span class="pre">WFK.nc</span></code>).
By default the script displays the results/plots directly within the shell.
Use the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abicomp.py struct out1_GSR.nc out2_GSR.nc
</pre></div>
</div>
<p>to compare the structures reported in two <code class="docutils literal"><span class="pre">GSR</span></code> files and print the result to screen.
Use <code class="docutils literal"><span class="pre">--ipython</span></code> to start an <code class="docutils literal"><span class="pre">ipython</span></code> terminal or <code class="docutils literal"><span class="pre">-nb</span></code> to generate a <code class="docutils literal"><span class="pre">jupyter</span></code> notebook, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abicomp.py ebands out1_GSR.nc out2_GSR.nc -nb
</pre></div>
</div>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abicomp.py --help
usage: abicomp.py [-h] [-V]
                  {structure,mp_structure,cod_structure,xrd,ebands,edos,phbands,phdos,attr,gsr,ddb,sigres,mdf,optic,eph,sigeph,pseudos,time,gs_scf,dfpt2_scf,text}
                  ...

optional arguments:
  -h, --help            show this help message and exit
  -V, --version         show program&#39;s version number and exit

subcommands:
  Valid subcommands

  {structure,mp_structure,cod_structure,xrd,ebands,edos,phbands,phdos,attr,gsr,ddb,sigres,mdf,optic,eph,sigeph,pseudos,time,gs_scf,dfpt2_scf,text}
                        sub-command help
    structure           Compare crystalline structures. Use `--group` to
                        compare for similarity.&quot;
    mp_structure        Compare the crystalline structure(s) read from FILE
                        with the one(s) reported in the materials project
                        database.
    cod_structure       Compare the crystalline structure(s) read from FILE
                        with the one(s) given in the COD database
                        (http://www.crystallography.net/cod).
    xrd                 Compare X-ray diffraction plots.
    ebands              Plot electron bands on a grid.
    edos                Plot electron DOSes on a grid.
    phbands             Plot phonon bands on a grid.
    phdos               Compare multiple PHDOS files.
    attr                Extract attribute from Abipy object for all files
                        listed on the command line and print them. Use
                        `--show` option to list the attributes available (in
                        the first file).
    gsr                 Compare multiple GSR files.
    ddb                 Compare multiple DDB files. Assume DDB files with a
                        list of q-points in the IBZ corresponding to
                        homogeneous sampling i.e. files that have been merged
                        with mrgddb.
    sigres              Compare multiple SIGRES files.
    mdf                 Compare macroscopic dielectric functions stored in
                        multiple MDF files.
    optic               Compare results stored in OPTIC.nc files.
    eph                 Compare results stored in EPH.nc files.
    sigeph              Compare multiple SIGEPH files.
    pseudos             &quot;Compare multiple pseudos Print table to terminal.
    time                Analyze/plot the timing data of single or multiple
                        runs.
    gs_scf              Compare ground-state SCF cycles.
    dfpt2_scf           Compare DFPT SCF cycles.
    text                Compare 2+ text files in the browser

Usage example:

############
# Structures
############

  abicomp.py structure */*/outdata/out_GSR.nc     =&gt; Compare structures in multiple files.
                                                     Use `--group` to compare for similarity
  abicomp.py mp_structure FILE(s)                 =&gt; Compare structure(s) read from FILE(s) with the one(s)
                                                     given in the materials project database.
  abicomp.py cod_structure FILE(s)                =&gt; Compare structure(s) read from FILE(s) with the one(s)
                                                     given in the COD database (http://www.crystallography.net/cod).
  abicomp.py xrd *.cif *.GSR.nc                   =&gt; Compare X-ray diffraction plots (requires FILES with structure).

###########
# Electrons
###########

  abicomp.py ebands out1_GSR.nc out2_WFK.nc       =&gt; Plot electron bands on a grid (Use `-p` to change plot mode)
  abicomp.py ebands *_GSR.nc -ipy                 =&gt; Build plotter object and start ipython console.
  abicomp.py ebands *_GSR.nc -nb                  =&gt; Interact with the plotter in the jupyter notebook.
  abicomp.py edos *_WFK.nc -nb                    =&gt; Compare electron DOS in the jupyter notebook.
  abicomp.py optic DIR                            =&gt; Compare optic results in the jupyter notebook.

#########
# Phonons
#########

  abicomp.py phbands *_PHBST.nc -nb               =&gt; Compare phonon bands in the jupyter notebook.
  abicomp.py phdos *_PHDOS.nc -nb                 =&gt; Compare phonon DOSes in the jupyter notebook.
  abicomp.py ddb outdir1 outdir2 out_DDB -nb      =&gt; Analyze all DDB files in directories outdir1, outdir2 and out_DDB file.

#########
# E-PH
#########

  abicomp.py eph *_EPH.nc -nb                  =&gt; Compare EPH results in the jupyter notebook.
  abicomp.py sigeph *_SIGEPH.nc -nb            =&gt; Compare Fan-Migdal self-energy in the jupyter notebook.

########
# GW/BSE
########

  abicomp.py sigres *_SIGRES.nc                   =&gt; Compare multiple SIGRES files.
  abicomp.py mdf *_MDF.nc --seaborn               =&gt; Compare macroscopic dielectric functions. Use seaborn settings.

###############
# Miscelleanous
###############

  abicomp.py attr energy *_GSR.nc                 =&gt; Extract the `energy` attribute from a list of GSR files
                                                     and print results. Use `--show` to get list of possible names.
  abicomp.py pseudos PSEUDO_FILES                 =&gt; Compare pseudopotential files.

############
# Text files
############

  abicomp.py text run1.abo run2.abo               =&gt; Compare 2+ output files in the browser.
  abicomp.py gs_scf run1.abo run2.abo             =&gt; Compare the SCF cycles in two output files.
  abicomp.py dfpt2_scf run1.abo run2.abo          =&gt; Compare the DFPT SCF cycles in two output files.
  abicomp.py.py time [OUT_FILES]                  =&gt; Parse timing data in files and plot results
  abicomp.py.py time . --ext=abo                  =&gt; Scan directory tree from `.`, look for files with extension `abo`
                                                     parse timing data and plot results.

TIP: Use Unix find to select all files with the a given extension and pass them to abicomp.py:
For instance:

    abicomp.py structure `find . -name &quot;*_GSR.nc&quot;`

will compare the structurs extracted from all GSR.nc files found within the current working directory (note backticks).

NOTE: The `gsr`, `ddb`, `sigres`, `mdf` commands use robots to analyze files.
In this case, one can provide a list of files and/or list of directories on the command-line interface e.g.:

    $ abicomp.py ddb dir1 out_DDB dir2

Directories will be scanned recursively to find files with the extension associated to the robot, e.g.
`abicompy.py mdf .` will read all *_MDF.nc files inside the current directory including sub-directories (if any).
Use --no-walk to ignore sub-directories when robots are used.

Use `abicomp.py --help` for help and `abicomp.py COMMAND --help` to get the documentation for `COMMAND`.
Use `-v` to increase verbosity level (can be supplied multiple times e.g -vv).
</pre></div>
</div>
</div>
<div class="section" id="abidoc-py">
<span id="abidoc"></span><h2><code class="docutils literal"><span class="pre">abidoc.py</span></code><a class="headerlink" href="#abidoc-py" title="Permalink to this headline">¶</a></h2>
<p>This script provides a command line interface to the Abinit documentation.
For example, the documentation for the <code class="docutils literal"><span class="pre">ecut</span></code> input variable can be obtained with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abidoc.py man ecut
</pre></div>
</div>
<p>For the full list of commands supported use:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abidoc.py --help
usage: abidoc.py [-h] [-V]
                 {man,browse,apropos,find,withdim,list,manager,scheduler} ...

optional arguments:
  -h, --help            show this help message and exit
  -V, --version         show program&#39;s version number and exit

subcommands:
  Valid subcommands

  {man,browse,apropos,find,withdim,list,manager,scheduler}
                        sub-command help
    man                 Show documentation for varname.
    browse              Open documentation in browser.
    apropos             Find variables related to varname.
    find                Find all variables whose name contains varname.
    withdim             Find all arrays depending on the given dimension.
    list                List all variables.
    manager             Document the TaskManager options.
    scheduler           Document the options available in scheduler.yml.

Usage example:

    abidoc.py man ecut        --&gt; Show documentation for ecut input variable.
    abidoc.py browse acell    --&gt; Open url in external browser.
    abidoc.py apropos ecut    --&gt; To search in the database for the variables related to ecut.
    abidoc.py find paw        --&gt; To search in the database for the variables whose name contains paw.
    abidoc.py list            --&gt; Print full list of variables.
    abidoc.py withdim natom   --&gt; Print arrays depending on natom.
    abidoc.py scheduler       --&gt; Document scheduler options.
    abidoc.py manager         --&gt; Document manager options.

Use `abidoc.py --help` for help and `abidoc.py COMMAND --help` to get the documentation for `COMMAND`.
Use `-v` to increase verbosity level (can be supplied multiple times e.g -vv).
</pre></div>
</div>
</div>
<div class="section" id="abicheck-py">
<span id="abicheck"></span><h2><code class="docutils literal"><span class="pre">abicheck.py</span></code><a class="headerlink" href="#abicheck-py" title="Permalink to this headline">¶</a></h2>
<p>This script checks that the options specified in <code class="docutils literal"><span class="pre">manager.yml</span></code>, <code class="docutils literal"><span class="pre">scheduler.yml</span></code>,
and the environment on the local machine are properly configured.
Please consult the documentation on the <a class="reference internal" href="taskmanager.html#taskmanager"><span class="std std-ref">TaskManager</span></a> for a more detailed description of these YAML files.</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abicheck.py --no-colors
AbiPy Manager:
[Qadapter 0]
ShellAdapter:localhost
Hardware:
   num_nodes: 2, sockets_per_node: 1, cores_per_socket: 2, mem_per_node 4096,
Qadapter selected: 0

Abinitbuild:
Abinit Build Information:
    Abinit version: 8.7.1
    MPI: True, MPI-IO: True, OpenMP: False
    Netcdf: True

Abipy Scheduler:
PyFlowScheduler, Pid: 86854
Scheduler options: {&#39;weeks&#39;: 0, &#39;days&#39;: 0, &#39;hours&#39;: 0, &#39;minutes&#39;: 0, &#39;seconds&#39;: 10}

Installed packages:
Package         Version
--------------  ----------------------
system          Darwin
python_version  3.6.1
numpy           1.13.3
scipy           0.19.0
netCDF4         1.2.7
apscheduler     2.1.0
pydispatch      2.0.5
yaml            3.12
pymatgen        2017.11.6
matplotlib      2.1.0 (backend: TkAgg)


Abipy requirements are properly configured
</pre></div>
</div>
<p>The command <code class="docutils literal"><span class="pre">abicheck.py</span> <span class="pre">--with-flow</span></code> can be used to run a small AbiPy flow in order to
check the interface with the Abinit executables.</p>
</div>
<div class="section" id="abirun-py">
<span id="abirun"></span><h2><code class="docutils literal"><span class="pre">abirun.py</span></code><a class="headerlink" href="#abirun-py" title="Permalink to this headline">¶</a></h2>
<p>This script allows the user to submit the calculations contained in the AbiPy Flow
(for further detail, consult the <a class="reference internal" href="taskmanager.html#taskmanager"><span class="std std-ref">TaskManager</span></a> documentation).
It provides a command line interface as well as a graphical interface based on <code class="docutils literal"><span class="pre">wxpython</span></code>.</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abirun.py --help
usage: abirun.py [-h] [-V]
                 [flowdir]
                 {single,rapid,scheduler,batch,status,set_status,cancel,restart,reset,move,open,ncopen,abibuild,doc_scheduler,gui,new_manager,tail,qstat,deps,robot,plot,inspect,inputs,abivars,structures,ebands,doc_manager,events,corrections,history,handlers,notebook,ipython,tar,debug,debug_reset,group,diff,networkx,listext,timer}
                 ...

positional arguments:
  flowdir               File or directory containing the ABINIT
                        flow/work/task. If not given, the flow in the current
                        workdir is selected.

optional arguments:
  -h, --help            show this help message and exit
  -V, --version         show program&#39;s version number and exit

subcommands:
  Valid subcommands

  {single,rapid,scheduler,batch,status,set_status,cancel,restart,reset,move,open,ncopen,abibuild,doc_scheduler,gui,new_manager,tail,qstat,deps,robot,plot,inspect,inputs,abivars,structures,ebands,doc_manager,events,corrections,history,handlers,notebook,ipython,tar,debug,debug_reset,group,diff,networkx,listext,timer}
                        sub-command help
    single              Run single task and exit.
    rapid               Run all tasks in rapidfire mode.
    scheduler           Run all tasks with a Python scheduler. Requires
                        scheduler.yml.
    batch               Run scheduler in batch script.
    status              Show status table.
    set_status          Change the status of the task. WARNING: Option for
                        developers!
    cancel              Cancel the tasks in the queue. Not available if qtype
                        == shell.
    restart             Restart the tasks of the flow. By default, only the
                        task whose status==Unconverged are restarted. Use -S
                        `status` and/or -n node_ids to select particular
                        tasks.
    reset               Reset the tasks of the flow with the specified status.
    move                Move the flow to a new directory and change the
                        absolute paths.
    open                Open files in $EDITOR, type `abirun.py FLOWDIR open
                        --help` for help).
    ncopen              Open netcdf files in ipython. Use --help for more
                        info.
    abibuild            Show ABINIT build information and exit.
    doc_scheduler       Document the options available in scheduler.yml.
    gui                 Open the GUI (requires wxPython).
    new_manager         Change the TaskManager.
    tail                Use unix tail to follow the main output files of the
                        flow.
    qstat               Show additional info on the jobs in the queue.
    deps                Show dependencies.
    robot               Use a robot to analyze the results of multiple tasks
                        (requires ipython).
    plot                Plot data. Use --help for more info.
    inspect             Call matplotlib to inspect the tasks (execute
                        task.inspect method)
    inputs              Show the input files of the tasks.
    abivars             Show pandas dataframe with Abinit input variables.
    structures          Compare input/output structures of the tasks. Print
                        max force and pressure if available.
    ebands              Compare electronic bands produced by the tasks.
    doc_manager         Document the TaskManager options.
    events              Show ABINIT events (error messages, warnings,
                        comments).
    corrections         Show AbiPy corrections performed at runtime.
    history             Show Node history.
    handlers            Show event handlers installed in the flow.
    notebook            Create and open an ipython notebook to interact with
                        the flow.
    ipython             Embed IPython. Useful for advanced operations or
                        debugging purposes.
    tar                 Create tarball file.
    debug               Analyze error files and log files for possible error
                        messages.
    debug_reset         Analyze error files and log files produced by reset
                        tasks for possible error messages.
    group               Group tasks according to property.
    diff                Compare files produced by two or three nodes.
    networkx            Draw flow and node dependecies with networkx package.
    listext             List all the output files with the given extension
                        that have been produced by the nodes.
    timer               Read the section with timing info from the main ABINIT
                        output file (requires timopt != 0) Open Ipython
                        terminal to inspect data.

Notes:

    If FLOWDIR is not given, abirun.py automatically selects the database located within
    the working directory. An Exception is raised if multiple databases are found.

    Note, moreover, that one can replace FLOWDIR with the directory of a work/task
    to make the command operate on this node of the flow without having to specify the node ids with --nids.
    For example, to have the list of events of the task in `FLOWDIR/w0/t1` use:

        $ abirun.py FLOWDIR/w0/t1 events

    instead of

        $ abirun.py FLOWDIR events -n 123

    where 123 is the node identifier associated to w0/t1.

    To start the scheduler with a time interval of 30 seconds, use:

        $ nohup abirun.py [FLOWDIR] scheduler -s 30 &amp;

    Alternatively one can specify the scheduler options via the `scheduler.yml` file.
    Remember that AbiPy will first look for `scheduler.yml` and `manager.yml` files
    in the current working directory and then inside $HOME/.abinit/abipy/

    Use `abirun.py --help` for help and `abirun.py COMMAND --help` to get the documentation for `COMMAND`.
    Use `-v` to increase verbosity level (can be supplied multiple times e.g -vv).

Usage example:

###########
# Execution
###########

  abirun.py [FLOWDIR] rapid                 =&gt; Keep repeating, stop when no task can be executed.
  abirun.py [FLOWDIR] scheduler             =&gt; Execute flow with the scheduler.
  abirun.py [FLOWDIR] status                =&gt; Show status table.
  abirun.py [FLOWDIR] events                =&gt; Print ABINIT events (Warnings/Errors/Comments) found in log files.
  abirun.py [FLOWDIR] history               =&gt; Print Task histories.
  abirun.py [FLOWDIR] cancel                =&gt; Cancel jobs in the queue.
  abirun.py [FLOWDIR] debug                 =&gt; Analyze error files and log files for possible error messages.
  abirun.py [FLOWDIR] corrections           =&gt; Show AbiPy corrections performed at runtime.
  abirun.py [FLOWDIR] handlers              =&gt; Show event handlers installed in the flow.

##########
# Analysis
##########

  abirun.py [FLOWDIR] inputs                =&gt; Print input files.
  abirun.py [FLOWDIR] abivars -vn ecut,nband  =&gt; Print table with these input variables.
  abirun.py [FLOWDIR] structures            =&gt; Compare input/output structures of the tasks.
  abirun.py [FLOWDIR] ebands                =&gt; Print table with electronic properties.
  abirun.py [FLOWDIR] inspect               =&gt; Call matplotlib to inspect the tasks
  abirun.py [FLOWDIR] tail                  =&gt; Use unix tail to follow the main output files of the flow.
  abirun.py [FLOWDIR] deps                  =&gt; Show task dependencies.

###############
# Miscelleanous
###############

  abirun.py [FLOWDIR] ipython               =&gt; Open flow in ipython terminal
  abirun.py [FLOWDIR] notebook              =&gt; Generate jupyter notebook
  abirun.py [FLOWDIR] networkx              =&gt; Plot dependency graph.
  abirun.py abibuild                        =&gt; Show ABINIT build information and exit

###############
# Documentation
###############

  abirun.py [FLOWDIR] doc_manager slurm     =&gt; Document the TaskManager options availabe for Slurm.
  abirun.py . doc_manager script            =&gt; Show the job script that will be produced with the current settings.
  abirun.py . doc_scheduler                 =&gt; Document the options available in scheduler.yml.
</pre></div>
</div>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abirun.py doc_scheduler
Options that can be specified in scheduler.yml:

            weeks: number of weeks to wait (DEFAULT: 0).
            days: number of days to wait (DEFAULT: 0).
            hours: number of hours to wait (DEFAULT: 0).
            minutes: number of minutes to wait (DEFAULT: 0).
            seconds: number of seconds to wait (DEFAULT: 0).
            mailto: The scheduler will send an email to `mailto` every `remindme_s` seconds.
                (DEFAULT: None i.e. not used).
            verbose: (int) verbosity level. (DEFAULT: 0)
            use_dynamic_manager: &quot;yes&quot; if the :class:`TaskManager` must be re-initialized from
                file before launching the jobs. (DEFAULT: &quot;no&quot;)
            max_njobs_inqueue: Limit on the number of jobs that can be present in the queue. (DEFAULT: 200)
            remindme_s: The scheduler will send an email to the user specified by `mailto` every `remindme_s` seconds.
                (int, DEFAULT: 1 day).
            max_num_pyexcs: The scheduler will exit if the number of python exceptions is &gt; max_num_pyexcs
                (int, DEFAULT: 0)
            max_num_abierrs: The scheduler will exit if the number of errored tasks is &gt; max_num_abierrs
                (int, DEFAULT: 0)
            safety_ratio: The scheduler will exits if the number of jobs launched becomes greater than
               `safety_ratio` * total_number_of_tasks_in_flow. (int, DEFAULT: 5)
            max_nlaunches: Maximum number of tasks launched in a single iteration of the scheduler.
                (DEFAULT: -1 i.e. no limit)
            debug: Debug level. Use 0 for production (int, DEFAULT: 0)
            fix_qcritical: &quot;yes&quot; if the launcher should try to fix QCritical Errors (DEFAULT: &quot;yes&quot;)
            rmflow: If &quot;yes&quot;, the scheduler will remove the flow directory if the calculation
                completed successfully. (DEFAULT: &quot;no&quot;)
            killjobs_if_errors: &quot;yes&quot; if the scheduler should try to kill all the runnnig jobs
                before exiting due to an error. (DEFAULT: &quot;yes&quot;)
</pre></div>
</div>
<div class="highlight-text"><div class="highlight"><pre><span></span>$ abirun.py . doc_manager

# TaskManager configuration file (YAML Format)

policy:
    # Dictionary with options used to control the execution of the tasks.

qadapters:
    # List of qadapters objects (mandatory)
    -  # qadapter_1
    -  # qadapter_2

db_connector:
    # Connection to MongoDB database (optional)

batch_adapter:
    # Adapter used to submit flows with batch script. (optional)

##########################################
# Individual entries are documented below:
##########################################

policy: 
    autoparal:                # (integer). 0 to disable the autoparal feature (DEFAULT: 1 i.e. autoparal is on)
    condition:                # condition used to filter the autoparal configurations (Mongodb-like syntax).
                              # DEFAULT: empty i.e. ignored.
    vars_condition:           # Condition used to filter the list of ABINIT variables reported by autoparal
                              # (Mongodb-like syntax). DEFAULT: empty i.e. ignored.
    frozen_timeout:           # A job is considered frozen and its status is set to ERROR if no change to
                              # the output file has been done for `frozen_timeout` seconds. Accepts int with seconds or
                              # string in slurm form i.e. days-hours:minutes:seconds. DEFAULT: 1 hour.
    precedence:               # Under development.
    autoparal_priorities:     # Under development.

qadapter: 
# Dictionary with info on the hardware available on this queue.
hardware:
    num_nodes:           # Number of nodes available on this queue (integer, MANDATORY).
    sockets_per_node:    # Number of sockets per node (integer, MANDATORY).
    cores_per_socket:    # Number of cores per socket (integer, MANDATORY).
                         # The total number of cores available on this queue is
                         # `num_nodes * sockets_per_node * cores_per_socket`.

# Dictionary with the options used to prepare the enviroment before submitting the job
job:
    setup:            # List of commands (strings) executed before running (DEFAULT: empty)
    omp_env:          # Dictionary with OpenMP environment variables (DEFAULT: empty i.e. no OpenMP)
    modules:          # List of modules to be imported before running the code (DEFAULT: empty).
                      # NB: Error messages produced by module load are redirected to mods.err
    shell_env:        # Dictionary with shell environment variables.
    mpi_runner:       # MPI runner. Possible values in [&quot;mpirun&quot;, &quot;mpiexec&quot;, &quot;srun&quot;, None]
                      # DEFAULT: None i.e. no mpirunner is used.
    shell_runner:     # Used for running small sequential jobs on the front-end. Set it to None
                      # if mpirun or mpiexec are not available on the fron-end. If not
                      # given, small sequential jobs are executed with `mpi_runner`.
    pre_run:          # List of commands (strings) executed before the run (DEFAULT: empty)
    post_run:         # List of commands (strings) executed after the run (DEFAULT: empty)

# dictionary with the name of the queue and optional parameters
# used to build/customize the header of the submission script.
queue:
    qtype:            # String defining the qapapter type e.g. slurm, shell ...
    qname:            # Name of the submission queue (string, MANDATORY)
    qparams:          # Dictionary with values used to generate the header of the job script
                      # We use the *normalized* version of the options i.e dashes in the official name
                      # are replaced by underscores e.g. ``--mail-type`` becomes ``mail_type``
                      # See pymatgen.io.abinit.qadapters.py for the list of supported values.
                      # Use ``qverbatim`` to pass additional options that are not included in the template.

# dictionary with the constraints that must be fulfilled in order to run on this queue.
limits:
    min_cores:         # Minimum number of cores (integer, DEFAULT: 1)
    max_cores:         # Maximum number of cores (integer, MANDATORY). Hard limit to hint_cores:
                       # it&#39;s the limit beyond which the scheduler will not accept the job (MANDATORY).
    hint_cores:        # The limit used in the initial setup of jobs.
                       # Fix_Critical method may increase this number until max_cores is reached
    min_mem_per_proc:  # Minimum memory per MPI process in Mb, units can be specified e.g. 1.4 Gb
                       # (DEFAULT: hardware.mem_per_core)
    max_mem_per_proc:  # Maximum memory per MPI process in Mb, units can be specified e.g. `1.4Gb`
                       # (DEFAULT: hardware.mem_per_node)
    timelimit:         # Initial time-limit. Accepts time according to slurm-syntax i.e:
                       # &quot;days-hours&quot; or &quot;days-hours:minutes&quot; or &quot;days-hours:minutes:seconds&quot; or
                       # &quot;minutes&quot; or &quot;minutes:seconds&quot; or &quot;hours:minutes:seconds&quot;,
    timelimit_hard:    # The hard time-limit for this queue. Same format as timelimit.
                       # Error handlers could try to submit jobs with increased timelimit
                       # up to timelimit_hard. If not specified, timelimit_hard == timelimit
    condition:         # MongoDB-like condition (DEFAULT: empty, i.e. not used)
    allocation:        # String defining the policy used to select the optimal number of CPUs.
                       # possible values are in [&quot;nodes&quot;, &quot;force_nodes&quot;, &quot;shared&quot;]
                       # &quot;nodes&quot; means that we should try to allocate entire nodes if possible.
                       # This is a soft limit, in the sense that the qadapter may use a configuration
                       # that does not fulfill this requirement. In case of failure, it will try to use the
                       # smallest number of nodes compatible with the optimal configuration.
                       # Use `force_nodes` to enfore entire nodes allocation.
                       # `shared` mode does not enforce any constraint (DEFAULT: shared).
    max_num_launches:  # Limit to the number of times a specific task can be restarted (integer, DEFAULT: 5)


qtype supported: [&#39;bluegene&#39;, &#39;moab&#39;, &#39;pbspro&#39;, &#39;sge&#39;, &#39;shell&#39;, &#39;slurm&#39;, &#39;torque&#39;]
Use `abirun.py . manager slurm` to have the list of qparams for slurm.
</pre></div>
</div>
<p>At the time of writing (Nov 07, 2017), AbiPy supports the following resource managers:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">bluegene</span></code></li>
<li><code class="docutils literal"><span class="pre">moab</span></code></li>
<li><code class="docutils literal"><span class="pre">pbspro</span></code></li>
<li><code class="docutils literal"><span class="pre">sge</span></code></li>
<li><code class="docutils literal"><span class="pre">shell</span></code></li>
<li><code class="docutils literal"><span class="pre">slurm</span></code></li>
<li><code class="docutils literal"><span class="pre">torque</span></code></li>
</ul>
</div></blockquote>
<p>To obtain the list of options supported by a particular resource manager e.g. <code class="docutils literal"><span class="pre">slurm</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ abirun.py . doc_manager slurm
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, The AbiPy group.<br/>
      Last updated on Nov 07, 2017.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>